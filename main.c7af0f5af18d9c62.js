(self.webpackChunktranslate=self.webpackChunktranslate||[]).push([[179],{157:(Ne,Ce,$)=>{"use strict";function re(t){return"function"==typeof t}function we(t){const e=t(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const Oe=we(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function g(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class ye{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(re(i))try{i()}catch(o){n=o instanceof Oe?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{_(o)}catch(l){n=n??[],l instanceof Oe?n=[...n,...l.errors]:n.push(l)}}if(n)throw new Oe(n)}}add(n){var e;if(n&&n!==this)if(this.closed)_(n);else{if(n instanceof ye){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&g(e,n)}remove(n){const{_finalizers:e}=this;e&&g(e,n),n instanceof ye&&n._removeParent(this)}}ye.EMPTY=(()=>{const t=new ye;return t.closed=!0,t})();const ue=ye.EMPTY;function a(t){return t instanceof ye||t&&"closed"in t&&re(t.remove)&&re(t.add)&&re(t.unsubscribe)}function _(t){re(t)?t():t.unsubscribe()}const L={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},T={setTimeout(t,n,...e){const{delegate:i}=T;return i?.setTimeout?i.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=T;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function E(t){T.setTimeout(()=>{const{onUnhandledError:n}=L;if(!n)throw t;n(t)})}function C(){}const p=X("C",void 0,void 0);function X(t,n,e){return{kind:t,value:n,error:e}}let W=null;function O(t){if(L.useDeprecatedSynchronousErrorHandling){const n=!W;if(n&&(W={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:i}=W;if(W=null,e)throw i}}else t()}class F extends ye{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,a(n)&&n.add(this)):this.destination=fe}static create(n,e,i){return new te(n,e,i)}next(n){this.isStopped?ve(function Q(t){return X("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?ve(function I(t){return X("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?ve(p,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const B=Function.prototype.bind;function V(t,n){return B.call(t,n)}class G{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(i){j(i)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(i){j(i)}else j(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){j(e)}}}class te extends F{constructor(n,e,i){let r;if(super(),re(n)||!n)r={next:n??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&L.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&V(n.next,o),error:n.error&&V(n.error,o),complete:n.complete&&V(n.complete,o)}):r=n}this.destination=new G(r)}}function j(t){L.useDeprecatedSynchronousErrorHandling?function P(t){L.useDeprecatedSynchronousErrorHandling&&W&&(W.errorThrown=!0,W.error=t)}(t):E(t)}function ve(t,n){const{onStoppedNotification:e}=L;e&&T.setTimeout(()=>e(t,n))}const fe={closed:!0,next:C,error:function oe(t){throw t},complete:C},z="function"==typeof Symbol&&Symbol.observable||"@@observable";function de(t){return t}let q=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new t;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function Y(t){return t&&t instanceof F||function le(t){return t&&re(t.next)&&re(t.error)&&re(t.complete)}(t)&&a(t)}(e)?e:new te(e,i,r);return O(()=>{const{operator:l,source:c}=this;o.add(l?l.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=H(i))((r,o)=>{const l=new te({next:c=>{try{e(c)}catch(d){o(d),l.unsubscribe()}},error:o,complete:r});this.subscribe(l)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[z](){return this}pipe(...e){return function S(t){return 0===t.length?de:1===t.length?t[0]:function(e){return t.reduce((i,r)=>r(i),e)}}(e)(this)}toPromise(e){return new(e=H(e))((i,r)=>{let o;this.subscribe(l=>o=l,l=>r(l),()=>i(o))})}}return t.create=n=>new t(n),t})();function H(t){var n;return null!==(n=t??L.Promise)&&void 0!==n?n:Promise}const K=we(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let b=(()=>{class t extends q{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new R(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new K}next(e){O(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){O(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){O(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?ue:(this.currentObservers=null,o.push(e),new ye(()=>{this.currentObservers=null,g(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new q;return e.source=this,e}}return t.create=(n,e)=>new R(n,e),t})();class R extends b{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,n)}error(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==i?i:ue}}function ne(t){return re(t?.lift)}function ee(t){return n=>{if(ne(n))return n.lift(function(e){try{return t(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ie(t,n,e,i,r){return new me(t,n,e,i,r)}class me extends F{constructor(n,e,i,r,o,l){super(n),this.onFinalize=o,this.shouldUnsubscribe=l,this._next=e?function(c){try{e(c)}catch(d){n.error(d)}}:super._next,this._error=r?function(c){try{r(c)}catch(d){n.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Se(t,n){return ee((e,i)=>{let r=0;e.subscribe(ie(i,o=>{i.next(t.call(n,o,r++))}))})}function An(t){return this instanceof An?(this.v=t,this):new An(t)}function Rr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function $t(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=t[o]&&function(l){return new Promise(function(c,d){!function r(o,l,c,d){Promise.resolve(d).then(function(h){o({value:h,done:c})},l)}(c,d,(l=t[o](l)).done,l.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const uo=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Ta(t){return re(t?.then)}function Aa(t){return re(t[z])}function Ia(t){return Symbol.asyncIterator&&re(t?.[Symbol.asyncIterator])}function Ma(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ra=function Fc(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Oa(t){return re(t?.[Ra])}function ka(t){return function wa(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(t,n||[]),o=[];return r={},l("next"),l("throw"),l("return"),r[Symbol.asyncIterator]=function(){return this},r;function l(M){i[M]&&(r[M]=function(k){return new Promise(function(U,J){o.push([M,k,U,J])>1||c(M,k)})})}function c(M,k){try{!function d(M){M.value instanceof An?Promise.resolve(M.value.v).then(h,v):w(o[0][2],M)}(i[M](k))}catch(U){w(o[0][3],U)}}function h(M){c("next",M)}function v(M){c("throw",M)}function w(M,k){M(k),o.shift(),o.length&&c(o[0][0],o[0][1])}}(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:i,done:r}=yield An(e.read());if(r)return yield An(void 0);yield yield An(i)}}finally{e.releaseLock()}})}function Na(t){return re(t?.getReader)}function qt(t){if(t instanceof q)return t;if(null!=t){if(Aa(t))return function Pc(t){return new q(n=>{const e=t[z]();if(re(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(uo(t))return function Lc(t){return new q(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(Ta(t))return function es(t){return new q(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,E)})}(t);if(Ia(t))return Fa(t);if(Oa(t))return function Vc(t){return new q(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(Na(t))return function fo(t){return Fa(ka(t))}(t)}throw Ma(t)}function Fa(t){return new q(n=>{(function th(t,n){var e,i,r,o;return function yt(t,n,e,i){return new(e||(e=Promise))(function(o,l){function c(v){try{h(i.next(v))}catch(w){l(w)}}function d(v){try{h(i.throw(v))}catch(w){l(w)}}function h(v){v.done?o(v.value):function r(o){return o instanceof e?o:new e(function(l){l(o)})}(v.value).then(c,d)}h((i=i.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=Rr(t);!(i=yield e.next()).done;)if(n.next(i.value),n.closed)return}catch(l){r={error:l}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function ci(t,n,e,i=0,r=!1){const o=n.schedule(function(){e(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function sr(t,n,e=1/0){return re(n)?sr((i,r)=>Se((o,l)=>n(i,o,r,l))(qt(t(i,r))),e):("number"==typeof n&&(e=n),ee((i,r)=>function Bc(t,n,e,i,r,o,l,c){const d=[];let h=0,v=0,w=!1;const M=()=>{w&&!d.length&&!h&&n.complete()},k=J=>h<i?U(J):d.push(J),U=J=>{o&&n.next(J),h++;let he=!1;qt(e(J,v++)).subscribe(ie(n,xe=>{r?.(xe),o?k(xe):n.next(xe)},()=>{he=!0},void 0,()=>{if(he)try{for(h--;d.length&&h<i;){const xe=d.shift();l?ci(n,l,()=>U(xe)):U(xe)}M()}catch(xe){n.error(xe)}}))};return t.subscribe(ie(n,k,()=>{w=!0,M()})),()=>{c?.()}}(i,r,t,e)))}function Pa(t=1/0){return sr(de,t)}const ts=new q(t=>t.complete());function Or(t){return t&&re(t.schedule)}function ns(t){return t[t.length-1]}function Va(t){return re(ns(t))?t.pop():void 0}function Li(t){return Or(ns(t))?t.pop():void 0}function kr(t,n=0){return ee((e,i)=>{e.subscribe(ie(i,r=>ci(i,t,()=>i.next(r),n),()=>ci(i,t,()=>i.complete(),n),r=>ci(i,t,()=>i.error(r),n)))})}function Ha(t,n=0){return ee((e,i)=>{i.add(t.schedule(()=>e.subscribe(i),n))})}function is(t,n){if(!t)throw new Error("Iterable cannot be null");return new q(e=>{ci(e,n,()=>{const i=t[Symbol.asyncIterator]();ci(e,n,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Vi(t,n){return n?function Gc(t,n){if(null!=t){if(Aa(t))return function jc(t,n){return qt(t).pipe(Ha(n),kr(n))}(t,n);if(uo(t))return function zc(t,n){return new q(e=>{let i=0;return n.schedule(function(){i===t.length?e.complete():(e.next(t[i++]),e.closed||this.schedule())})})}(t,n);if(Ta(t))return function Uc(t,n){return qt(t).pipe(Ha(n),kr(n))}(t,n);if(Ia(t))return is(t,n);if(Oa(t))return function $c(t,n){return new q(e=>{let i;return ci(e,n,()=>{i=t[Ra](),ci(e,n,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(l){return void e.error(l)}o?e.complete():e.next(r)},0,!0)}),()=>re(i?.return)&&i.return()})}(t,n);if(Na(t))return function qc(t,n){return is(ka(t),n)}(t,n)}throw Ma(t)}(t,n):qt(t)}function rs(...t){const n=Li(t),e=function Ba(t,n){return"number"==typeof ns(t)?t.pop():n}(t,1/0),i=t;return i.length?1===i.length?qt(i[0]):Pa(e)(Vi(i,n)):ts}class zn extends b{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}function Mn(...t){return Vi(t,Li(t))}function os(t={}){const{connector:n=(()=>new b),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return o=>{let l,c,d,h=0,v=!1,w=!1;const M=()=>{c?.unsubscribe(),c=void 0},k=()=>{M(),l=d=void 0,v=w=!1},U=()=>{const J=l;k(),J?.unsubscribe()};return ee((J,he)=>{h++,!w&&!v&&M();const xe=d=d??n();he.add(()=>{h--,0===h&&!w&&!v&&(c=ss(U,r))}),xe.subscribe(he),!l&&h>0&&(l=new te({next:pe=>xe.next(pe),error:pe=>{w=!0,M(),c=ss(k,e,pe),xe.error(pe)},complete:()=>{v=!0,M(),c=ss(k,i),xe.complete()}}),qt(J).subscribe(l))})(o)}}function ss(t,n,...e){if(!0===n)return void t();if(!1===n)return;const i=new te({next:()=>{i.unsubscribe(),t()}});return qt(n(...e)).subscribe(i)}function ho(t,n=de){return t=t??Yc,ee((e,i)=>{let r,o=!0;e.subscribe(ie(i,l=>{const c=n(l);(o||!t(r,c))&&(o=!1,r=c,i.next(l))}))})}function Yc(t,n){return t===n}function xt(t){for(let n in t)if(t[n]===xt)return n;throw Error("Could not find renamed property on target object.")}function po(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Gt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Gt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function ja(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const nh=xt({__forward_ref__:xt});function Mt(t){return t.__forward_ref__=Mt,t.toString=function(){return Gt(this())},t}function We(t){return wi(t)?t():t}function wi(t){return"function"==typeof t&&t.hasOwnProperty(nh)&&t.__forward_ref__===Mt}function Nr(t){return t&&!!t.\u0275providers}class be extends Error{constructor(n,e){super(function ui(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}function Xe(t){return"string"==typeof t?t:null==t?"":String(t)}function mo(t,n){throw new be(-201,!1)}function $n(t,n){null==t&&function Ze(t,n,e,i){throw new Error(`ASSERTION ERROR: ${t}`+(null==i?"":` [Expected=> ${e} ${i} ${n} <=Actual]`))}(n,t,null,"!=")}function Fe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function bt(t){return{providers:t.providers||[],imports:t.imports||[]}}function ls(t){return eu(t,go)||eu(t,_o)}function eu(t,n){return t.hasOwnProperty(n)?t[n]:null}function Fr(t){return t&&(t.hasOwnProperty(ar)||t.hasOwnProperty(tu))?t[ar]:null}const go=xt({\u0275prov:xt}),ar=xt({\u0275inj:xt}),_o=xt({ngInjectableDef:xt}),tu=xt({ngInjectorDef:xt});var dt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(dt||{});let cs;function fn(t){const n=cs;return cs=t,n}function qa(t,n,e){const i=ls(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&dt.Optional?null:void 0!==n?n:void mo(Gt(t))}const Tt=globalThis;class Ie{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Fe({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const lr={},ds="__NG_DI_FLAG__",fs="ngTempTokenPath",mh=/\n/gm,nu="__source";let xi;function Ei(t){const n=xi;return xi=t,n}function iu(t,n=dt.Default){if(void 0===xi)throw new be(-203,!1);return null===xi?qa(t,void 0,n):xi.get(t,n&dt.Optional?null:void 0,n)}function ge(t,n=dt.Default){return(function vo(){return cs}()||iu)(We(t),n)}function Je(t,n=dt.Default){return ge(t,bo(n))}function bo(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function hs(t){const n=[];for(let e=0;e<t.length;e++){const i=We(t[e]);if(Array.isArray(i)){if(0===i.length)throw new be(900,!1);let r,o=dt.Default;for(let l=0;l<i.length;l++){const c=i[l],d=ru(c);"number"==typeof d?-1===d?r=c.token:o|=d:r=c}n.push(ge(r,o))}else n.push(ge(i))}return n}function Pr(t,n){return t[ds]=n,t.prototype[ds]=n,t}function ru(t){return t[ds]}function di(t){return{toString:t}.toString()}var Lr=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Lr||{}),qn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(qn||{});const fi={},pt=[],Vr=xt({\u0275cmp:xt}),ps=xt({\u0275dir:xt}),el=xt({\u0275pipe:xt}),tl=xt({\u0275mod:xt}),Di=xt({\u0275fac:xt}),Co=xt({__NG_ELEMENT_ID__:xt}),nl=xt({__NG_ENV_ID__:xt});function hi(t,n,e){let i=t.length;for(;;){const r=t.indexOf(n,e);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const o=n.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}e=r+1}}function ms(t,n,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const o=e[i++],l=e[i++],c=e[i++];t.setAttribute(n,l,c,o)}else{const o=r,l=e[++i];au(o)?t.setProperty(n,o,l):t.setAttribute(n,o,l),i++}}return i}function il(t){return 3===t||4===t||6===t}function au(t){return 64===t.charCodeAt(0)}function wo(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let i=0;i<n.length;i++){const r=n[i];"number"==typeof r?e=r:0===e||rl(t,e,r,null,-1===e||2===e?n[++i]:null)}}return t}function rl(t,n,e,i,r){let o=0,l=t.length;if(-1===n)l=-1;else for(;o<t.length;){const c=t[o++];if("number"==typeof c){if(c===n){l=-1;break}if(c>n){l=o-1;break}}}for(;o<t.length;){const c=t[o];if("number"==typeof c)break;if(c===e){if(null===i)return void(null!==r&&(t[o+1]=r));if(i===t[o+1])return void(t[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==l&&(t.splice(l,0,n),o=l+1),t.splice(o++,0,e),null!==i&&t.splice(o++,0,i),null!==r&&t.splice(o++,0,r)}const gs="ng-template";function lu(t,n,e){let i=0,r=!0;for(;i<t.length;){let o=t[i++];if("string"==typeof o&&r){const l=t[i++];if(e&&"class"===o&&-1!==hi(l.toLowerCase(),n,0))return!0}else{if(1===o){for(;i<t.length&&"string"==typeof(o=t[i++]);)if(o.toLowerCase()===n)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function ol(t){return 4===t.type&&t.value!==gs}function cu(t,n,e){return n===(4!==t.type||e?t.value:gs)}function gh(t,n,e){let i=4;const r=t.attrs||[],o=function _h(t){for(let n=0;n<t.length;n++)if(il(t[n]))return n;return t.length}(r);let l=!1;for(let c=0;c<n.length;c++){const d=n[c];if("number"!=typeof d){if(!l)if(4&i){if(i=2|1&i,""!==d&&!cu(t,d,e)||""===d&&1===n.length){if(Qn(i))return!1;l=!0}}else{const h=8&i?d:n[++c];if(8&i&&null!==t.attrs){if(!lu(t.attrs,h,e)){if(Qn(i))return!1;l=!0}continue}const w=uu(8&i?"class":d,r,ol(t),e);if(-1===w){if(Qn(i))return!1;l=!0;continue}if(""!==h){let M;M=w>o?"":r[w+1].toLowerCase();const k=8&i?M:null;if(k&&-1!==hi(k,h,0)||2&i&&h!==M){if(Qn(i))return!1;l=!0}}}}else{if(!l&&!Qn(i)&&!Qn(d))return!1;if(l&&Qn(d))continue;l=!1,i=d|1&i}}return Qn(i)||l}function Qn(t){return 0==(1&t)}function uu(t,n,e,i){if(null===n)return-1;let r=0;if(i||!e){let o=!1;for(;r<n.length;){const l=n[r];if(l===t)return r;if(3===l||6===l)o=!0;else{if(1===l||2===l){let c=n[++r];for(;"string"==typeof c;)c=n[++r];continue}if(4===l)break;if(0===l){r+=4;continue}}r+=o?1:2}return-1}return function sl(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const i=t[e];if("number"==typeof i)return-1;if(i===n)return e;e++}return-1}(n,t)}function cr(t,n,e=!1){for(let i=0;i<n.length;i++)if(gh(t,n[i],e))return!0;return!1}function vh(t,n){e:for(let e=0;e<n.length;e++){const i=n[e];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function al(t,n){return t?":not("+n.trim()+")":n}function s(t){let n=t[0],e=1,i=2,r="",o=!1;for(;e<t.length;){let l=t[e];if("string"==typeof l)if(2&i){const c=t[++e];r+="["+l+(c.length>0?'="'+c+'"':"")+"]"}else 8&i?r+="."+l:4&i&&(r+=" "+l);else""!==r&&!Qn(l)&&(n+=al(o,r),r=""),i=l,o=o||!Qn(i);e++}return""!==r&&(n+=al(o,r)),n}function m(t){return di(()=>{const n=Iv(t),e={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Lr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||qn.Emulated,styles:t.styles||pt,_:null,schemas:t.schemas||null,tView:null,id:""};Mv(e);const i=t.dependencies;return e.directiveDefs=du(i,!1),e.pipeDefs=du(i,!0),e.id=function pA(t){let n=0;const e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const r of e)n=Math.imul(31,n)+r.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(e),e})}function x(t){return ct(t)||Kt(t)}function N(t){return null!==t}function ce(t){return di(()=>({type:t.type,bootstrap:t.bootstrap||pt,declarations:t.declarations||pt,imports:t.imports||pt,exports:t.exports||pt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ze(t,n){if(null==t)return fi;const e={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,n&&(n[r]=o)}return e}function Ae(t){return di(()=>{const n=Iv(t);return Mv(n),n})}function Bt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[Vr]||null}function Kt(t){return t[ps]||null}function _e(t){return t[el]||null}function Iv(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||fi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||pt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ze(t.inputs,n),outputs:ze(t.outputs)}}function Mv(t){t.features?.forEach(n=>n(t))}function du(t,n){if(!t)return null;const e=n?_e:x;return()=>("function"==typeof t?t():t).map(i=>e(i)).filter(N)}const Wt=0,Pe=1,ot=2,Ht=3,Si=4,ll=5,Cn=6,_s=7,Xt=8,Br=9,vs=10,nt=11,cl=12,Rv=13,ys=14,Qt=15,ul=16,bs=17,Hi=18,dl=19,Ov=20,Hr=21,ur=22,fl=23,hl=24,ht=25,yh=1,kv=2,ji=7,Cs=9,hn=11;function Gn(t){return Array.isArray(t)&&"object"==typeof t[yh]}function On(t){return Array.isArray(t)&&!0===t[yh]}function bh(t){return 0!=(4&t.flags)}function xo(t){return t.componentOffset>-1}function hu(t){return 1==(1&t.flags)}function Ti(t){return!!t.template}function Ch(t){return 0!=(512&t[ot])}function Eo(t,n){return t.hasOwnProperty(Di)?t[Di]:null}let pn=null,pu=!1;function pi(t){const n=pn;return pn=t,n}const Pv={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Vv(t){if(!ml(t)||t.dirty){if(!t.producerMustRecompute(t)&&!jv(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Hv(t){t.dirty=!0,function Bv(t){if(void 0===t.liveConsumerNode)return;const n=pu;pu=!0;try{for(const e of t.liveConsumerNode)e.dirty||Hv(e)}finally{pu=n}}(t),t.consumerMarkedDirty?.(t)}function xh(t){return t&&(t.nextProducerIndex=0),pi(t)}function Eh(t,n){if(pi(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(ml(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)mu(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function jv(t){ws(t);for(let n=0;n<t.producerNode.length;n++){const e=t.producerNode[n],i=t.producerLastReadVersion[n];if(i!==e.version||(Vv(e),i!==e.version))return!0}return!1}function Uv(t){if(ws(t),ml(t))for(let n=0;n<t.producerNode.length;n++)mu(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function mu(t,n){if(function $v(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),ws(t),1===t.liveConsumerNode.length)for(let i=0;i<t.producerNode.length;i++)mu(t.producerNode[i],t.producerIndexOfThis[i]);const e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const i=t.liveConsumerIndexOfThis[n],r=t.liveConsumerNode[n];ws(r),r.producerIndexOfThis[i]=n}}function ml(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ws(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let qv=null;const Zv=()=>{},TA=(()=>({...Pv,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Zv}))();class AA{constructor(n,e,i){this.previousValue=n,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function mi(){return Kv}function Kv(t){return t.type.prototype.ngOnChanges&&(t.setInput=MA),IA}function IA(){const t=Qv(this),n=t?.current;if(n){const e=t.previous;if(e===fi)t.previous=n;else for(let i in n)e[i]=n[i];t.current=null,this.ngOnChanges(n)}}function MA(t,n,e,i){const r=this.declaredInputs[e],o=Qv(t)||function RA(t,n){return t[Xv]=n}(t,{previous:fi,current:null}),l=o.current||(o.current={}),c=o.previous,d=c[r];l[r]=new AA(d&&d.currentValue,n,c===fi),t[i]=n}mi.ngInherit=!0;const Xv="__ngSimpleChanges__";function Qv(t){return t[Xv]||null}const Ui=function(t,n,e){},Jv="svg";function kt(t){for(;Array.isArray(t);)t=t[Wt];return t}function gu(t,n){return kt(n[t])}function Wn(t,n){return kt(n[t.index])}function ty(t,n){return t.data[n]}function Jn(t,n){const e=n[t];return Gn(e)?e:e[Wt]}function Ur(t,n){return null==n?null:t[n]}function ny(t){t[bs]=0}function LA(t){1024&t[ot]||(t[ot]|=1024,ry(t,1))}function iy(t){1024&t[ot]&&(t[ot]&=-1025,ry(t,-1))}function ry(t,n){let e=t[Ht];if(null===e)return;e[ll]+=n;let i=e;for(e=e[Ht];null!==e&&(1===n&&1===i[ll]||-1===n&&0===i[ll]);)e[ll]+=n,i=e,e=e[Ht]}const Qe={lFrame:my(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ay(){return Qe.bindingsEnabled}function Es(){return null!==Qe.skipHydrationRootTNode}function Te(){return Qe.lFrame.lView}function _t(){return Qe.lFrame.tView}function Ih(t){return Qe.lFrame.contextLView=t,t[Xt]}function Mh(t){return Qe.lFrame.contextLView=null,t}function mn(){let t=ly();for(;null!==t&&64===t.type;)t=t.parent;return t}function ly(){return Qe.lFrame.currentTNode}function zi(t,n){const e=Qe.lFrame;e.currentTNode=t,e.isParent=n}function Rh(){return Qe.lFrame.isParent}function Oh(){Qe.lFrame.isParent=!1}function kn(){const t=Qe.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Ds(){return Qe.lFrame.bindingIndex++}function ZA(t,n){const e=Qe.lFrame;e.bindingIndex=e.bindingRootIndex=t,kh(n)}function kh(t){Qe.lFrame.currentDirectiveIndex=t}function Nh(t){const n=Qe.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}function fy(){return Qe.lFrame.currentQueryIndex}function Fh(t){Qe.lFrame.currentQueryIndex=t}function XA(t){const n=t[Pe];return 2===n.type?n.declTNode:1===n.type?t[Cn]:null}function hy(t,n,e){if(e&dt.SkipSelf){let r=n,o=t;for(;!(r=r.parent,null!==r||e&dt.Host||(r=XA(o),null===r||(o=o[ys],10&r.type))););if(null===r)return!1;n=r,t=o}const i=Qe.lFrame=py();return i.currentTNode=n,i.lView=t,!0}function Ph(t){const n=py(),e=t[Pe];Qe.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function py(){const t=Qe.lFrame,n=null===t?null:t.child;return null===n?my(t):n}function my(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function gy(){const t=Qe.lFrame;return Qe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const _y=gy;function Lh(){const t=gy();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Nn(){return Qe.lFrame.selectedIndex}function Do(t){Qe.lFrame.selectedIndex=t}function Ut(){const t=Qe.lFrame;return ty(t.tView,t.selectedIndex)}function _l(){Qe.lFrame.currentNamespace=Jv}function Vh(){!function tI(){Qe.lFrame.currentNamespace=null}()}let yy=!0;function _u(){return yy}function zr(t){yy=t}function vu(t,n){for(let e=n.directiveStart,i=n.directiveEnd;e<i;e++){const o=t.data[e].type.prototype,{ngAfterContentInit:l,ngAfterContentChecked:c,ngAfterViewInit:d,ngAfterViewChecked:h,ngOnDestroy:v}=o;l&&(t.contentHooks??=[]).push(-e,l),c&&((t.contentHooks??=[]).push(e,c),(t.contentCheckHooks??=[]).push(e,c)),d&&(t.viewHooks??=[]).push(-e,d),h&&((t.viewHooks??=[]).push(e,h),(t.viewCheckHooks??=[]).push(e,h)),null!=v&&(t.destroyHooks??=[]).push(e,v)}}function yu(t,n,e){by(t,n,3,e)}function bu(t,n,e,i){(3&t[ot])===e&&by(t,n,e,i)}function Bh(t,n){let e=t[ot];(3&e)===n&&(e&=8191,e+=1,t[ot]=e)}function by(t,n,e,i){const o=i??-1,l=n.length-1;let c=0;for(let d=void 0!==i?65535&t[bs]:0;d<l;d++)if("number"==typeof n[d+1]){if(c=n[d],null!=i&&c>=i)break}else n[d]<0&&(t[bs]+=65536),(c<o||-1==o)&&(iI(t,e,n,d),t[bs]=(4294901760&t[bs])+d+2),d++}function Cy(t,n){Ui(4,t,n);const e=pi(null);try{n.call(t)}finally{pi(e),Ui(5,t,n)}}function iI(t,n,e,i){const r=e[i]<0,o=e[i+1],c=t[r?-e[i]:e[i]];r?t[ot]>>13<t[bs]>>16&&(3&t[ot])===n&&(t[ot]+=8192,Cy(c,o)):Cy(c,o)}const Ss=-1;class vl{constructor(n,e,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function jh(t){return t!==Ss}function yl(t){return 32767&t}function bl(t,n){let e=function aI(t){return t>>16}(t),i=n;for(;e>0;)i=i[ys],e--;return i}let Uh=!0;function Cu(t){const n=Uh;return Uh=t,n}const wy=255,xy=5;let lI=0;const $i={};function wu(t,n){const e=Ey(t,n);if(-1!==e)return e;const i=n[Pe];i.firstCreatePass&&(t.injectorIndex=n.length,zh(i.data,t),zh(n,null),zh(i.blueprint,null));const r=xu(t,n),o=t.injectorIndex;if(jh(r)){const l=yl(r),c=bl(r,n),d=c[Pe].data;for(let h=0;h<8;h++)n[o+h]=c[l+h]|d[l+h]}return n[o+8]=r,o}function zh(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Ey(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function xu(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,i=null,r=n;for(;null!==r;){if(i=Ry(r),null===i)return Ss;if(e++,r=r[ys],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return Ss}function $h(t,n,e){!function cI(t,n,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Co)&&(i=e[Co]),null==i&&(i=e[Co]=lI++);const r=i&wy;n.data[t+(r>>xy)]|=1<<r}(t,n,e)}function Dy(t,n,e){if(e&dt.Optional||void 0!==t)return t;mo()}function Sy(t,n,e,i){if(e&dt.Optional&&void 0===i&&(i=null),!(e&(dt.Self|dt.Host))){const r=t[Br],o=fn(void 0);try{return r?r.get(n,i,e&dt.Optional):qa(n,i,e&dt.Optional)}finally{fn(o)}}return Dy(i,0,e)}function Ty(t,n,e,i=dt.Default,r){if(null!==t){if(2048&n[ot]&&!(i&dt.Self)){const l=function mI(t,n,e,i,r){let o=t,l=n;for(;null!==o&&null!==l&&2048&l[ot]&&!(512&l[ot]);){const c=Ay(o,l,e,i|dt.Self,$i);if(c!==$i)return c;let d=o.parent;if(!d){const h=l[Ov];if(h){const v=h.get(e,$i,i);if(v!==$i)return v}d=Ry(l),l=l[ys]}o=d}return r}(t,n,e,i,$i);if(l!==$i)return l}const o=Ay(t,n,e,i,$i);if(o!==$i)return o}return Sy(n,e,i,r)}function Ay(t,n,e,i,r){const o=function fI(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Co)?t[Co]:void 0;return"number"==typeof n?n>=0?n&wy:pI:n}(e);if("function"==typeof o){if(!hy(n,t,i))return i&dt.Host?Dy(r,0,i):Sy(n,e,i,r);try{let l;if(l=o(i),null!=l||i&dt.Optional)return l;mo()}finally{_y()}}else if("number"==typeof o){let l=null,c=Ey(t,n),d=Ss,h=i&dt.Host?n[Qt][Cn]:null;for((-1===c||i&dt.SkipSelf)&&(d=-1===c?xu(t,n):n[c+8],d!==Ss&&My(i,!1)?(l=n[Pe],c=yl(d),n=bl(d,n)):c=-1);-1!==c;){const v=n[Pe];if(Iy(o,c,v.data)){const w=dI(c,n,e,l,i,h);if(w!==$i)return w}d=n[c+8],d!==Ss&&My(i,n[Pe].data[c+8]===h)&&Iy(o,c,n)?(l=v,c=yl(d),n=bl(d,n)):c=-1}}return r}function dI(t,n,e,i,r,o){const l=n[Pe],c=l.data[t+8],v=Eu(c,l,e,null==i?xo(c)&&Uh:i!=l&&0!=(3&c.type),r&dt.Host&&o===c);return null!==v?So(n,l,v,c):$i}function Eu(t,n,e,i,r){const o=t.providerIndexes,l=n.data,c=1048575&o,d=t.directiveStart,v=o>>20,M=r?c+v:t.directiveEnd;for(let k=i?c:c+v;k<M;k++){const U=l[k];if(k<d&&e===U||k>=d&&U.type===e)return k}if(r){const k=l[d];if(k&&Ti(k)&&k.type===e)return d}return null}function So(t,n,e,i){let r=t[e];const o=n.data;if(function rI(t){return t instanceof vl}(r)){const l=r;l.resolving&&function Kc(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new be(-200,`Circular dependency in DI detected for ${t}${e}`)}(function Ye(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Xe(t)}(o[e]));const c=Cu(l.canSeeViewProviders);l.resolving=!0;const h=l.injectImpl?fn(l.injectImpl):null;hy(t,i,dt.Default);try{r=t[e]=l.factory(void 0,o,t,i),n.firstCreatePass&&e>=i.directiveStart&&function nI(t,n,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(i){const l=Kv(n);(e.preOrderHooks??=[]).push(t,l),(e.preOrderCheckHooks??=[]).push(t,l)}r&&(e.preOrderHooks??=[]).push(0-t,r),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}(e,o[e],n)}finally{null!==h&&fn(h),Cu(c),l.resolving=!1,_y()}}return r}function Iy(t,n,e){return!!(e[n+(t>>xy)]&1<<t)}function My(t,n){return!(t&dt.Self||t&dt.Host&&n)}class Fn{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,i){return Ty(this._tNode,this._lView,n,bo(i),e)}}function pI(){return new Fn(mn(),Te())}function Ct(t){return di(()=>{const n=t.prototype.constructor,e=n[Di]||qh(n),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const o=r[Di]||qh(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function qh(t){return wi(t)?()=>{const n=qh(We(t));return n&&n()}:Eo(t)}function Ry(t){const n=t[Pe],e=n.type;return 2===e?n.declTNode:1===e?t[Cn]:null}const As="__parameters__";function Ms(t,n,e){return di(()=>{const i=function Gh(t){return function(...e){if(t){const i=t(...e);for(const r in i)this[r]=i[r]}}}(n);function r(...o){if(this instanceof r)return i.apply(this,o),this;const l=new r(...o);return c.annotation=l,c;function c(d,h,v){const w=d.hasOwnProperty(As)?d[As]:Object.defineProperty(d,As,{value:[]})[As];for(;w.length<=v;)w.push(null);return(w[v]=w[v]||[]).push(l),d}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}function Os(t,n){t.forEach(e=>Array.isArray(e)?Os(e,n):n(e))}function ky(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Su(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function xl(t,n){const e=[];for(let i=0;i<t;i++)e.push(n);return e}function ei(t,n,e){let i=ks(t,n);return i>=0?t[1|i]=e:(i=~i,function wI(t,n,e,i){let r=t.length;if(r==n)t.push(e,i);else if(1===r)t.push(i,t[0]),t[0]=e;else{for(r--,t.push(t[r-1],t[r]);r>n;)t[r]=t[r-2],r--;t[n]=e,t[n+1]=i}}(t,i,n,e)),i}function Wh(t,n){const e=ks(t,n);if(e>=0)return t[1|e]}function ks(t,n){return function Ny(t,n,e){let i=0,r=t.length>>e;for(;r!==i;){const o=i+(r-i>>1),l=t[o<<e];if(n===l)return o<<e;l>n?r=o:i=o+1}return~(r<<e)}(t,n,1)}const Ns=Pr(Ms("Optional"),8),Au=Pr(Ms("SkipSelf"),4);function ku(t){return 128==(128&t.flags)}var $r=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}($r||{});const zI=/^>|^->|<!--|-->|--!>|<!-$/g,$I=/(<|>)/g,qI="\u200b$1\u200b";const Qh=new Map;let GI=0;const ep="__ngContext__";function wn(t,n){Gn(n)?(t[ep]=n[dl],function YI(t){Qh.set(t[dl],t)}(n)):t[ep]=n}let tp;function np(t,n){return tp(t,n)}function Sl(t){const n=t[Ht];return On(n)?n[Ht]:n}function eb(t){return nb(t[cl])}function tb(t){return nb(t[Si])}function nb(t){for(;null!==t&&!On(t);)t=t[Si];return t}function Ls(t,n,e,i,r){if(null!=i){let o,l=!1;On(i)?o=i:Gn(i)&&(l=!0,i=i[Wt]);const c=kt(i);0===t&&null!==e?null==r?sb(n,e,c):To(n,e,c,r||null,!0):1===t&&null!==e?To(n,e,c,r||null,!0):2===t?function Hu(t,n,e){const i=Vu(t,n);i&&function hM(t,n,e,i){t.removeChild(n,e,i)}(t,i,n,e)}(n,c,l):3===t&&n.destroyNode(c),null!=o&&function gM(t,n,e,i,r){const o=e[ji];o!==kt(e)&&Ls(n,t,i,o,r);for(let c=hn;c<e.length;c++){const d=e[c];Al(d[Pe],d,t,n,i,o)}}(n,t,o,e,r)}}function ip(t,n){return t.createComment(function Gy(t){return t.replace(zI,n=>n.replace($I,qI))}(n))}function Pu(t,n,e){return t.createElement(n,e)}function rb(t,n){const e=t[Cs],i=e.indexOf(n);iy(n),e.splice(i,1)}function Lu(t,n){if(t.length<=hn)return;const e=hn+n,i=t[e];if(i){const r=i[ul];null!==r&&r!==t&&rb(r,i),n>0&&(t[e-1][Si]=i[Si]);const o=Su(t,hn+n);!function oM(t,n){Al(t,n,n[nt],2,null,null),n[Wt]=null,n[Cn]=null}(i[Pe],i);const l=o[Hi];null!==l&&l.detachView(o[Pe]),i[Ht]=null,i[Si]=null,i[ot]&=-129}return i}function rp(t,n){if(!(256&n[ot])){const e=n[nt];n[fl]&&Uv(n[fl]),n[hl]&&Uv(n[hl]),e.destroyNode&&Al(t,n,e,3,null,null),function lM(t){let n=t[cl];if(!n)return op(t[Pe],t);for(;n;){let e=null;if(Gn(n))e=n[cl];else{const i=n[hn];i&&(e=i)}if(!e){for(;n&&!n[Si]&&n!==t;)Gn(n)&&op(n[Pe],n),n=n[Ht];null===n&&(n=t),Gn(n)&&op(n[Pe],n),e=n&&n[Si]}n=e}}(n)}}function op(t,n){if(!(256&n[ot])){n[ot]&=-129,n[ot]|=256,function fM(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let i=0;i<e.length;i+=2){const r=n[e[i]];if(!(r instanceof vl)){const o=e[i+1];if(Array.isArray(o))for(let l=0;l<o.length;l+=2){const c=r[o[l]],d=o[l+1];Ui(4,c,d);try{d.call(c)}finally{Ui(5,c,d)}}else{Ui(4,r,o);try{o.call(r)}finally{Ui(5,r,o)}}}}}(t,n),function dM(t,n){const e=t.cleanup,i=n[_s];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const l=e[o+3];l>=0?i[l]():i[-l].unsubscribe(),o+=2}else e[o].call(i[e[o+1]]);null!==i&&(n[_s]=null);const r=n[Hr];if(null!==r){n[Hr]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(t,n),1===n[Pe].type&&n[nt].destroy();const e=n[ul];if(null!==e&&On(n[Ht])){e!==n[Ht]&&rb(e,n);const i=n[Hi];null!==i&&i.detachView(t)}!function ZI(t){Qh.delete(t[dl])}(n)}}function sp(t,n,e){return function ob(t,n,e){let i=n;for(;null!==i&&40&i.type;)i=(n=i).parent;if(null===i)return e[Wt];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=t.data[i.directiveStart+r];if(o===qn.None||o===qn.Emulated)return null}return Wn(i,e)}}(t,n.parent,e)}function To(t,n,e,i,r){t.insertBefore(n,e,i,r)}function sb(t,n,e){t.appendChild(n,e)}function ab(t,n,e,i,r){null!==i?To(t,n,e,i,r):sb(t,n,e)}function Vu(t,n){return t.parentNode(n)}function lb(t,n,e){return ub(t,n,e)}let ap,dp,ub=function cb(t,n,e){return 40&t.type?Wn(t,e):null};function Bu(t,n,e,i){const r=sp(t,i,n),o=n[nt],c=lb(i.parent||n[Cn],i,n);if(null!=r)if(Array.isArray(e))for(let d=0;d<e.length;d++)ab(o,r,e[d],c,!1);else ab(o,r,e,c,!1);void 0!==ap&&ap(o,i,n,e,r)}function Tl(t,n){if(null!==n){const e=n.type;if(3&e)return Wn(n,t);if(4&e)return lp(-1,t[n.index]);if(8&e){const i=n.child;if(null!==i)return Tl(t,i);{const r=t[n.index];return On(r)?lp(-1,r):kt(r)}}if(32&e)return np(n,t)()||kt(t[n.index]);{const i=fb(t,n);return null!==i?Array.isArray(i)?i[0]:Tl(Sl(t[Qt]),i):Tl(t,n.next)}}return null}function fb(t,n){return null!==n?t[Qt][Cn].projection[n.projection]:null}function lp(t,n){const e=hn+t+1;if(e<n.length){const i=n[e],r=i[Pe].firstChild;if(null!==r)return Tl(i,r)}return n[ji]}function cp(t,n,e,i,r,o,l){for(;null!=e;){const c=i[e.index],d=e.type;if(l&&0===n&&(c&&wn(kt(c),i),e.flags|=2),32!=(32&e.flags))if(8&d)cp(t,n,e.child,i,r,o,!1),Ls(n,t,r,c,o);else if(32&d){const h=np(e,i);let v;for(;v=h();)Ls(n,t,r,v,o);Ls(n,t,r,c,o)}else 16&d?pb(t,n,i,e,r,o):Ls(n,t,r,c,o);e=l?e.projectionNext:e.next}}function Al(t,n,e,i,r,o){cp(e,i,t.firstChild,n,r,o,!1)}function pb(t,n,e,i,r,o){const l=e[Qt],d=l[Cn].projection[i.projection];if(Array.isArray(d))for(let h=0;h<d.length;h++)Ls(n,t,r,d[h],o);else{let h=d;const v=l[Ht];ku(i)&&(h.flags|=128),cp(t,n,h,v,r,o,!0)}}function mb(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function gb(t,n,e){const{mergedAttrs:i,classes:r,styles:o}=e;null!==i&&ms(t,n,i),null!==r&&mb(t,n,r),null!==o&&function vM(t,n,e){t.setAttribute(n,"style",e)}(t,n,o)}class Ao{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const qu=new Ie("ENVIRONMENT_INITIALIZER"),Ib=new Ie("INJECTOR",-1),Mb=new Ie("INJECTOR_DEF_TYPES");class gp{get(n,e=lr){if(e===lr){const i=new Error(`NullInjectorError: No provider for ${Gt(n)}!`);throw i.name="NullInjectorError",i}return e}}function KM(...t){return{\u0275providers:Ob(0,t),\u0275fromNgModule:!0}}function Ob(t,...n){const e=[],i=new Set;let r;const o=l=>{e.push(l)};return Os(n,l=>{const c=l;Gu(c,o,[],i)&&(r||=[],r.push(c))}),void 0!==r&&kb(r,o),e}function kb(t,n){for(let e=0;e<t.length;e++){const{ngModule:i,providers:r}=t[e];_p(r,o=>{n(o,i)})}}function Gu(t,n,e,i){if(!(t=We(t)))return!1;let r=null,o=Fr(t);const l=!o&&ct(t);if(o||l){if(l&&!l.standalone)return!1;r=t}else{const d=t.ngModule;if(o=Fr(d),!o)return!1;r=d}const c=i.has(r);if(l){if(c)return!1;if(i.add(r),l.dependencies){const d="function"==typeof l.dependencies?l.dependencies():l.dependencies;for(const h of d)Gu(h,n,e,i)}}else{if(!o)return!1;{if(null!=o.imports&&!c){let h;i.add(r);try{Os(o.imports,v=>{Gu(v,n,e,i)&&(h||=[],h.push(v))})}finally{}void 0!==h&&kb(h,n)}if(!c){const h=Eo(r)||(()=>new r);n({provide:r,useFactory:h,deps:pt},r),n({provide:Mb,useValue:r,multi:!0},r),n({provide:qu,useValue:()=>ge(r),multi:!0},r)}const d=o.providers;if(null!=d&&!c){const h=t;_p(d,v=>{n(v,h)})}}}return r!==t&&void 0!==t.providers}function _p(t,n){for(let e of t)Nr(e)&&(e=e.\u0275providers),Array.isArray(e)?_p(e,n):n(e)}const XM=xt({provide:String,useValue:xt});function vp(t){return null!==t&&"object"==typeof t&&XM in t}function Io(t){return"function"==typeof t}const yp=new Ie("Set Injector scope."),Wu={},JM={};let bp;function Yu(){return void 0===bp&&(bp=new gp),bp}class pr{}class Hs extends pr{get destroyed(){return this._destroyed}constructor(n,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wp(n,l=>this.processProvider(l)),this.records.set(Ib,js(void 0,this)),r.has("environment")&&this.records.set(pr,js(void 0,this));const o=this.records.get(yp);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Mb.multi,pt,dt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of n)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const e=Ei(this),i=fn(void 0);try{return n()}finally{Ei(e),fn(i)}}get(n,e=lr,i=dt.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(nl))return n[nl](this);i=bo(i);const o=Ei(this),l=fn(void 0);try{if(!(i&dt.SkipSelf)){let d=this.records.get(n);if(void 0===d){const h=function rR(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ie}(n)&&ls(n);d=h&&this.injectableDefInScope(h)?js(Cp(n),Wu):null,this.records.set(n,d)}if(null!=d)return this.hydrate(n,d)}return(i&dt.Self?Yu():this.parent).get(n,e=i&dt.Optional&&e===lr?null:e)}catch(c){if("NullInjectorError"===c.name){if((c[fs]=c[fs]||[]).unshift(Gt(n)),o)throw c;return function ou(t,n,e,i){const r=t[fs];throw n[nu]&&r.unshift(n[nu]),t.message=function su(t,n,e,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let r=Gt(n);if(Array.isArray(n))r=n.map(Gt).join(" -> ");else if("object"==typeof n){let o=[];for(let l in n)if(n.hasOwnProperty(l)){let c=n[l];o.push(l+":"+("string"==typeof c?JSON.stringify(c):Gt(c)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${t.replace(mh,"\n  ")}`}("\n"+t.message,r,e,i),t.ngTokenPath=r,t[fs]=null,t}(c,n,"R3InjectorError",this.source)}throw c}finally{fn(l),Ei(o)}}resolveInjectorInitializers(){const n=Ei(this),e=fn(void 0);try{const r=this.get(qu.multi,pt,dt.Self);for(const o of r)o()}finally{Ei(n),fn(e)}}toString(){const n=[],e=this.records;for(const i of e.keys())n.push(Gt(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(n){let e=Io(n=We(n))?n:We(n&&n.provide);const i=function tR(t){return vp(t)?js(void 0,t.useValue):js(Pb(t),Wu)}(n);if(Io(n)||!0!==n.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=js(void 0,Wu,!0),r.factory=()=>hs(r.multi),this.records.set(e,r)),e=n,r.multi.push(n)}this.records.set(e,i)}hydrate(n,e){return e.value===Wu&&(e.value=JM,e.value=e.factory()),"object"==typeof e.value&&e.value&&function iR(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=We(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){const e=this._onDestroyHooks.indexOf(n);-1!==e&&this._onDestroyHooks.splice(e,1)}}function Cp(t){const n=ls(t),e=null!==n?n.factory:Eo(t);if(null!==e)return e;if(t instanceof Ie)throw new be(204,!1);if(t instanceof Function)return function eR(t){const n=t.length;if(n>0)throw xl(n,"?"),new be(204,!1);const e=function ch(t){return t&&(t[go]||t[_o])||null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new be(204,!1)}function Pb(t,n,e){let i;if(Io(t)){const r=We(t);return Eo(r)||Cp(r)}if(vp(t))i=()=>We(t.useValue);else if(function Fb(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...hs(t.deps||[]));else if(function Nb(t){return!(!t||!t.useExisting)}(t))i=()=>ge(We(t.useExisting));else{const r=We(t&&(t.useClass||t.provide));if(!function nR(t){return!!t.deps}(t))return Eo(r)||Cp(r);i=()=>new r(...hs(t.deps))}return i}function js(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function wp(t,n){for(const e of t)Array.isArray(e)?wp(e,n):e&&Nr(e)?wp(e.\u0275providers,n):n(e)}const Zu=new Ie("AppId",{providedIn:"root",factory:()=>oR}),oR="ng",Lb=new Ie("Platform Initializer"),Mo=new Ie("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),qr=new Ie("AnimationModuleType"),xp=new Ie("CSP nonce",{providedIn:"root",factory:()=>function Bs(){if(void 0!==dp)return dp;if(typeof document<"u")return document;throw new be(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Vb=(t,n,e)=>null;function Rp(t,n,e=!1){return Vb(t,n,e)}class mR{}class jb{}class _R{resolveComponentFactory(n){throw function gR(t){const n=Error(`No component factory found for ${Gt(t)}.`);return n.ngComponent=t,n}(n)}}let $s=(()=>{class t{static#e=this.NULL=new _R}return t})();function vR(){return qs(mn(),Te())}function qs(t,n){return new At(Wn(t,n))}let At=(()=>{class t{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=vR}return t})();function yR(t){return t instanceof At?t.nativeElement:t}class kl{}let Ro=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function bR(){const t=Te(),e=Jn(mn().index,t);return(Gn(e)?e:t)[nt]}()}return t})(),CR=(()=>{class t{static#e=this.\u0275prov=Fe({token:t,providedIn:"root",factory:()=>null})}return t})();class Gs{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const wR=new Gs("16.2.12"),Np={};function Gb(t,n=null,e=null,i){const r=Wb(t,n,e,i);return r.resolveInjectorInitializers(),r}function Wb(t,n=null,e=null,i,r=new Set){const o=[e||pt,KM(t)];return i=i||("object"==typeof t?void 0:Gt(t)),new Hs(o,n||Yu(),i||null,r)}let Yt=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=lr;static#t=this.NULL=new gp;static create(e,i){if(Array.isArray(e))return Gb({name:""},i,e,"");{const r=e.name??"";return Gb({name:r},e.parent,e.providers,r)}}static#n=this.\u0275prov=Fe({token:t,providedIn:"any",factory:()=>ge(Ib)});static#i=this.__NG_ELEMENT_ID__=-1}return t})();function Pp(t){return t.ngOriginalError}class Ai{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&Pp(n);for(;e&&Pp(e);)e=Pp(e);return e||null}}function Vp(t){return n=>{setTimeout(t,void 0,n)}}const Jt=class IR extends b{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,i){let r=n,o=e||(()=>null),l=i;if(n&&"object"==typeof n){const d=n;r=d.next?.bind(d),o=d.error?.bind(d),l=d.complete?.bind(d)}this.__isAsync&&(o=Vp(o),r&&(r=Vp(r)),l&&(l=Vp(l)));const c=super.subscribe({next:r,error:o,complete:l});return n instanceof ye&&n.add(c),c}};function Zb(...t){}class et{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Jt(!1),this.onMicrotaskEmpty=new Jt(!1),this.onStable=new Jt(!1),this.onError=new Jt(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function MR(){const t="function"==typeof Tt.requestAnimationFrame;let n=Tt[t?"requestAnimationFrame":"setTimeout"],e=Tt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&e){const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function kR(t){const n=()=>{!function OR(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Tt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Hp(t),t.isCheckStableRunning=!0,Bp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Hp(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,l,c)=>{if(function FR(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(c))return e.invokeTask(r,o,l,c);try{return Kb(t),e.invokeTask(r,o,l,c)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&n(),Xb(t)}},onInvoke:(e,i,r,o,l,c,d)=>{try{return Kb(t),e.invoke(r,o,l,c,d)}finally{t.shouldCoalesceRunChangeDetection&&n(),Xb(t)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,Hp(t),Bp(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!et.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(et.isInAngularZone())throw new be(909,!1)}run(n,e,i){return this._inner.run(n,e,i)}runTask(n,e,i,r){const o=this._inner,l=o.scheduleEventTask("NgZoneEvent: "+r,n,RR,Zb,Zb);try{return o.runTask(l,e,i)}finally{o.cancelTask(l)}}runGuarded(n,e,i){return this._inner.runGuarded(n,e,i)}runOutsideAngular(n){return this._outer.run(n)}}const RR={};function Bp(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Hp(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Kb(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Xb(t){t._nesting--,Bp(t)}class NR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Jt,this.onMicrotaskEmpty=new Jt,this.onStable=new Jt,this.onError=new Jt}run(n,e,i){return n.apply(e,i)}runGuarded(n,e,i){return n.apply(e,i)}runOutsideAngular(n){return n()}runTask(n,e,i,r){return n.apply(e,i)}}const Qb=new Ie("",{providedIn:"root",factory:Jb});function Jb(){const t=Je(et);let n=!0;return rs(new q(r=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{r.next(n),r.complete()})}),new q(r=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{et.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,r.next(!0))})})});const l=t.onUnstable.subscribe(()=>{et.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),l.unsubscribe()}}).pipe(os()))}let jp=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Fe({token:t,providedIn:"root",factory:()=>new t})}return t})();function Nl(t){for(;t;){t[ot]|=64;const n=Sl(t);if(Ch(t)&&!n)return t;t=n}return null}const o0=new Ie("",{providedIn:"root",factory:()=>!1});let nd=null;function c0(t,n){return t[n]??f0()}function u0(t,n){const e=f0();e.producerNode?.length&&(t[n]=nd,e.lView=t,nd=d0())}const qR={...Pv,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Nl(t.lView)},lView:null};function d0(){return Object.create(qR)}function f0(){return nd??=d0(),nd}const rt={};function Nt(t){h0(_t(),Te(),Nn()+t,!1)}function h0(t,n,e,i){if(!i)if(3==(3&n[ot])){const o=t.preOrderCheckHooks;null!==o&&yu(n,o,e)}else{const o=t.preOrderHooks;null!==o&&bu(n,o,0,e)}Do(e)}function ae(t,n=dt.Default){const e=Te();return null===e?ge(t,n):Ty(mn(),e,We(t),n)}function Up(){throw new Error("invalid")}function id(t,n,e,i,r,o,l,c,d,h,v){const w=n.blueprint.slice();return w[Wt]=r,w[ot]=140|i,(null!==h||t&&2048&t[ot])&&(w[ot]|=2048),ny(w),w[Ht]=w[ys]=t,w[Xt]=e,w[vs]=l||t&&t[vs],w[nt]=c||t&&t[nt],w[Br]=d||t&&t[Br]||null,w[Cn]=o,w[dl]=function WI(){return GI++}(),w[ur]=v,w[Ov]=h,w[Qt]=2==n.type?t[Qt]:w,w}function Zs(t,n,e,i,r){let o=t.data[n];if(null===o)o=function zp(t,n,e,i,r){const o=ly(),l=Rh(),d=t.data[n]=function JR(t,n,e,i,r,o){let l=n?n.injectorIndex:-1,c=0;return Es()&&(c|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:l,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,l?o:o&&o.parent,e,n,i,r);return null===t.firstChild&&(t.firstChild=d),null!==o&&(l?null==o.child&&null!==d.parent&&(o.child=d):null===o.next&&(o.next=d,d.prev=o)),d}(t,n,e,i,r),function YA(){return Qe.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const l=function gl(){const t=Qe.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();o.injectorIndex=null===l?-1:l.injectorIndex}return zi(o,!0),o}function Fl(t,n,e,i){if(0===e)return-1;const r=n.length;for(let o=0;o<e;o++)n.push(i),t.blueprint.push(i),t.data.push(null);return r}function p0(t,n,e,i,r){const o=c0(n,fl),l=Nn(),c=2&i;try{Do(-1),c&&n.length>ht&&h0(t,n,ht,!1),Ui(c?2:0,r);const h=c?o:null,v=xh(h);try{null!==h&&(h.dirty=!1),e(i,r)}finally{Eh(h,v)}}finally{c&&null===n[fl]&&u0(n,fl),Do(l),Ui(c?3:1,r)}}function $p(t,n,e){if(bh(n)){const i=pi(null);try{const o=n.directiveEnd;for(let l=n.directiveStart;l<o;l++){const c=t.data[l];c.contentQueries&&c.contentQueries(1,e[l],l)}}finally{pi(i)}}}function qp(t,n,e){ay()&&(function a1(t,n,e,i){const r=e.directiveStart,o=e.directiveEnd;xo(e)&&function p1(t,n,e){const i=Wn(n,t),r=m0(e);let l=16;e.signals?l=4096:e.onPush&&(l=64);const c=rd(t,id(t,r,null,l,i,n,null,t[vs].rendererFactory.createRenderer(i,e),null,null,null));t[n.index]=c}(n,e,t.data[r+e.componentOffset]),t.firstCreatePass||wu(e,n),wn(i,n);const l=e.initialInputs;for(let c=r;c<o;c++){const d=t.data[c],h=So(n,t,c,e);wn(h,n),null!==l&&m1(0,c-r,h,d,0,l),Ti(d)&&(Jn(e.index,n)[Xt]=So(n,t,c,e))}}(t,n,e,Wn(e,n)),64==(64&e.flags)&&b0(t,n,e))}function Gp(t,n,e=Wn){const i=n.localNames;if(null!==i){let r=n.index+1;for(let o=0;o<i.length;o+=2){const l=i[o+1],c=-1===l?e(n,t):t[l];t[r++]=c}}}function m0(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Wp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Wp(t,n,e,i,r,o,l,c,d,h,v){const w=ht+i,M=w+r,k=function WR(t,n){const e=[];for(let i=0;i<n;i++)e.push(i<t?null:rt);return e}(w,M),U="function"==typeof h?h():h;return k[Pe]={type:t,blueprint:k,template:e,queries:null,viewQuery:c,declTNode:n,data:k.slice().fill(null,w),bindingStartIndex:w,expandoStartIndex:M,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof l?l():l,firstChild:null,schemas:d,consts:U,incompleteFirstPass:!1,ssrId:v}}let g0=t=>null;function _0(t,n,e,i){for(let r in t)if(t.hasOwnProperty(r)){e=null===e?{}:e;const o=t[r];null===i?v0(e,n,r,o):i.hasOwnProperty(r)&&v0(e,n,i[r],o)}return e}function v0(t,n,e,i){t.hasOwnProperty(e)?t[e].push(n,i):t[e]=[n,i]}function ni(t,n,e,i,r,o,l,c){const d=Wn(n,e);let v,h=n.inputs;!c&&null!=h&&(v=h[i])?(Qp(t,e,v,i,r),xo(n)&&function n1(t,n){const e=Jn(n,t);16&e[ot]||(e[ot]|=64)}(e,n.index)):3&n.type&&(i=function t1(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),r=null!=l?l(r,n.value||"",i):r,o.setProperty(d,i,r))}function Yp(t,n,e,i){if(ay()){const r=null===i?null:{"":-1},o=function c1(t,n){const e=t.directiveRegistry;let i=null,r=null;if(e)for(let o=0;o<e.length;o++){const l=e[o];if(cr(n,l.selectors,!1))if(i||(i=[]),Ti(l))if(null!==l.findHostDirectiveDefs){const c=[];r=r||new Map,l.findHostDirectiveDefs(l,c,r),i.unshift(...c,l),Zp(t,n,c.length)}else i.unshift(l),Zp(t,n,0);else r=r||new Map,l.findHostDirectiveDefs?.(l,i,r),i.push(l)}return null===i?null:[i,r]}(t,e);let l,c;null===o?l=c=null:[l,c]=o,null!==l&&y0(t,n,e,l,r,c),r&&function u1(t,n,e){if(n){const i=t.localNames=[];for(let r=0;r<n.length;r+=2){const o=e[n[r+1]];if(null==o)throw new be(-301,!1);i.push(n[r],o)}}}(e,i,r)}e.mergedAttrs=wo(e.mergedAttrs,e.attrs)}function y0(t,n,e,i,r,o){for(let h=0;h<i.length;h++)$h(wu(e,n),t,i[h].type);!function f1(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}(e,t.data.length,i.length);for(let h=0;h<i.length;h++){const v=i[h];v.providersResolver&&v.providersResolver(v)}let l=!1,c=!1,d=Fl(t,n,i.length,null);for(let h=0;h<i.length;h++){const v=i[h];e.mergedAttrs=wo(e.mergedAttrs,v.hostAttrs),h1(t,e,n,d,v),d1(d,v,r),null!==v.contentQueries&&(e.flags|=4),(null!==v.hostBindings||null!==v.hostAttrs||0!==v.hostVars)&&(e.flags|=64);const w=v.type.prototype;!l&&(w.ngOnChanges||w.ngOnInit||w.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),l=!0),!c&&(w.ngOnChanges||w.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),c=!0),d++}!function e1(t,n,e){const r=n.directiveEnd,o=t.data,l=n.attrs,c=[];let d=null,h=null;for(let v=n.directiveStart;v<r;v++){const w=o[v],M=e?e.get(w):null,U=M?M.outputs:null;d=_0(w.inputs,v,d,M?M.inputs:null),h=_0(w.outputs,v,h,U);const J=null===d||null===l||ol(n)?null:g1(d,v,l);c.push(J)}null!==d&&(d.hasOwnProperty("class")&&(n.flags|=8),d.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=c,n.inputs=d,n.outputs=h}(t,e,o)}function b0(t,n,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,l=function KA(){return Qe.lFrame.currentDirectiveIndex}();try{Do(o);for(let c=i;c<r;c++){const d=t.data[c],h=n[c];kh(c),(null!==d.hostBindings||0!==d.hostVars||null!==d.hostAttrs)&&l1(d,h)}}finally{Do(-1),kh(l)}}function l1(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Zp(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function d1(t,n,e){if(e){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)e[n.exportAs[i]]=t;Ti(n)&&(e[""]=t)}}function h1(t,n,e,i,r){t.data[i]=r;const o=r.factory||(r.factory=Eo(r.type)),l=new vl(o,Ti(r),ae);t.blueprint[i]=l,e[i]=l,function o1(t,n,e,i,r){const o=r.hostBindings;if(o){let l=t.hostBindingOpCodes;null===l&&(l=t.hostBindingOpCodes=[]);const c=~n.index;(function s1(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(l)!=c&&l.push(c),l.push(e,i,o)}}(t,n,i,Fl(t,e,r.hostVars,rt),r)}function Gi(t,n,e,i,r,o){const l=Wn(t,n);!function Kp(t,n,e,i,r,o,l){if(null==o)t.removeAttribute(n,r,e);else{const c=null==l?Xe(o):l(o,i||"",r);t.setAttribute(n,r,c,e)}}(n[nt],l,o,t.value,e,i,r)}function m1(t,n,e,i,r,o){const l=o[n];if(null!==l)for(let c=0;c<l.length;)C0(i,e,l[c++],l[c++],l[c++])}function C0(t,n,e,i,r){const o=pi(null);try{const l=t.inputTransforms;null!==l&&l.hasOwnProperty(i)&&(r=l[i].call(n,r)),null!==t.setInput?t.setInput(n,r,e,i):n[i]=r}finally{pi(o)}}function g1(t,n,e){let i=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===i&&(i=[]);const l=t[o];for(let c=0;c<l.length;c+=2)if(l[c]===n){i.push(o,l[c+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function w0(t,n,e,i){return[t,!0,!1,n,null,0,i,e,null,null,null]}function x0(t,n){const e=t.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const o=e[i+1];if(-1!==o){const l=t.data[o];Fh(e[i]),l.contentQueries(2,n[o],o)}}}function rd(t,n){return t[cl]?t[Rv][Si]=n:t[cl]=n,t[Rv]=n,n}function Xp(t,n,e){Fh(0);const i=pi(null);try{n(t,e)}finally{pi(i)}}function E0(t){return t[_s]||(t[_s]=[])}function D0(t){return t.cleanup||(t.cleanup=[])}function S0(t,n,e){return(null===t||Ti(t))&&(e=function Ah(t){for(;Array.isArray(t);){if("object"==typeof t[yh])return t;t=t[Wt]}return null}(e[n.index])),e[nt]}function T0(t,n){const e=t[Br],i=e?e.get(Ai,null):null;i&&i.handleError(n)}function Qp(t,n,e,i,r){for(let o=0;o<e.length;){const l=e[o++],c=e[o++];C0(t.data[l],n[l],i,c,r)}}function _1(t,n){const e=Jn(n,t),i=e[Pe];!function v1(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}(i,e);const r=e[Wt];null!==r&&null===e[ur]&&(e[ur]=Rp(r,e[Br])),Jp(i,e,e[Xt])}function Jp(t,n,e){Ph(n);try{const i=t.viewQuery;null!==i&&Xp(1,i,e);const r=t.template;null!==r&&p0(t,n,r,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&x0(t,n),t.staticViewQueries&&Xp(2,t.viewQuery,e);const o=t.components;null!==o&&function y1(t,n){for(let e=0;e<n.length;e++)_1(t,n[e])}(n,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{n[ot]&=-5,Lh()}}let A0=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(e,i,r){const o=typeof Zone>"u"?null:Zone.current,l=function SA(t,n,e){const i=Object.create(TA);e&&(i.consumerAllowSignalWrites=!0),i.fn=t,i.schedule=n;const r=l=>{i.cleanupFn=l};return i.ref={notify:()=>Hv(i),run:()=>{if(i.dirty=!1,i.hasRun&&!jv(i))return;i.hasRun=!0;const l=xh(i);try{i.cleanupFn(),i.cleanupFn=Zv,i.fn(r)}finally{Eh(i,l)}},cleanup:()=>i.cleanupFn()},i.ref}(e,h=>{this.all.has(h)&&this.queue.set(h,o)},r);let c;this.all.add(l),l.notify();const d=()=>{l.cleanup(),c?.(),this.all.delete(l),this.queue.delete(l)};return c=i?.onDestroy(d),{destroy:d}}flush(){if(0!==this.queue.size)for(const[e,i]of this.queue)this.queue.delete(e),i?i.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Fe({token:t,providedIn:"root",factory:()=>new t})}return t})();function od(t,n,e){let i=e?t.styles:null,r=e?t.classes:null,o=0;if(null!==n)for(let l=0;l<n.length;l++){const c=n[l];"number"==typeof c?o=c:1==o?r=ja(r,c):2==o&&(i=ja(i,c+": "+n[++l]+";"))}e?t.styles=i:t.stylesWithoutHost=i,e?t.classes=r:t.classesWithoutHost=r}function Pl(t,n,e,i,r=!1){for(;null!==e;){const o=n[e.index];null!==o&&i.push(kt(o)),On(o)&&I0(o,i);const l=e.type;if(8&l)Pl(t,n,e.child,i);else if(32&l){const c=np(e,n);let d;for(;d=c();)i.push(d)}else if(16&l){const c=fb(n,e);if(Array.isArray(c))i.push(...c);else{const d=Sl(n[Qt]);Pl(d[Pe],d,c,i,!0)}}e=r?e.projectionNext:e.next}return i}function I0(t,n){for(let e=hn;e<t.length;e++){const i=t[e],r=i[Pe].firstChild;null!==r&&Pl(i[Pe],i,r,n)}t[ji]!==t[Wt]&&n.push(t[ji])}function sd(t,n,e,i=!0){const r=n[vs],o=r.rendererFactory,l=r.afterRenderEventManager;o.begin?.(),l?.begin();try{M0(t,n,t.template,e)}catch(d){throw i&&T0(n,d),d}finally{o.end?.(),r.effectManager?.flush(),l?.end()}}function M0(t,n,e,i){const r=n[ot];if(256!=(256&r)){n[vs].effectManager?.flush(),Ph(n);try{ny(n),function uy(t){return Qe.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&p0(t,n,e,2,i);const l=3==(3&r);if(l){const h=t.preOrderCheckHooks;null!==h&&yu(n,h,null)}else{const h=t.preOrderHooks;null!==h&&bu(n,h,0,null),Bh(n,0)}if(function w1(t){for(let n=eb(t);null!==n;n=tb(n)){if(!n[kv])continue;const e=n[Cs];for(let i=0;i<e.length;i++){LA(e[i])}}}(n),R0(n,2),null!==t.contentQueries&&x0(t,n),l){const h=t.contentCheckHooks;null!==h&&yu(n,h)}else{const h=t.contentHooks;null!==h&&bu(n,h,1),Bh(n,1)}!function GR(t,n){const e=t.hostBindingOpCodes;if(null===e)return;const i=c0(n,hl);try{for(let r=0;r<e.length;r++){const o=e[r];if(o<0)Do(~o);else{const l=o,c=e[++r],d=e[++r];ZA(c,l),i.dirty=!1;const h=xh(i);try{d(2,n[l])}finally{Eh(i,h)}}}}finally{null===n[hl]&&u0(n,hl),Do(-1)}}(t,n);const c=t.components;null!==c&&k0(n,c,0);const d=t.viewQuery;if(null!==d&&Xp(2,d,i),l){const h=t.viewCheckHooks;null!==h&&yu(n,h)}else{const h=t.viewHooks;null!==h&&bu(n,h,2),Bh(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[ot]&=-73,iy(n)}finally{Lh()}}}function R0(t,n){for(let e=eb(t);null!==e;e=tb(e))for(let i=hn;i<e.length;i++)O0(e[i],n)}function x1(t,n,e){O0(Jn(n,t),e)}function O0(t,n){if(!function FA(t){return 128==(128&t[ot])}(t))return;const e=t[Pe],i=t[ot];if(80&i&&0===n||1024&i||2===n)M0(e,t,e.template,t[Xt]);else if(t[ll]>0){R0(t,1);const r=e.components;null!==r&&k0(t,r,1)}}function k0(t,n,e){for(let i=0;i<n.length;i++)x1(t,n[i],e)}class Ll{get rootNodes(){const n=this._lView,e=n[Pe];return Pl(e,n,e.firstChild,[])}constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xt]}set context(n){this._lView[Xt]=n}get destroyed(){return 256==(256&this._lView[ot])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Ht];if(On(n)){const e=n[8],i=e?e.indexOf(this):-1;i>-1&&(Lu(n,i),Su(e,i))}this._attachedToViewContainer=!1}rp(this._lView[Pe],this._lView)}onDestroy(n){!function oy(t,n){if(256==(256&t[ot]))throw new be(911,!1);null===t[Hr]&&(t[Hr]=[]),t[Hr].push(n)}(this._lView,n)}markForCheck(){Nl(this._cdRefInjectingView||this._lView)}detach(){this._lView[ot]&=-129}reattach(){this._lView[ot]|=128}detectChanges(){sd(this._lView[Pe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function aM(t,n){Al(t,n,n[nt],2,null,null)}(this._lView[Pe],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=n}}class E1 extends Ll{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;sd(n[Pe],n,n[Xt],!1)}checkNoChanges(){}get context(){return null}}class N0 extends $s{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=ct(n);return new Vl(e,this.ngModule)}}function F0(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class S1{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,i){i=bo(i);const r=this.injector.get(n,Np,i);return r!==Np||e===Np?r:this.parentInjector.get(n,e,i)}}class Vl extends jb{get inputs(){const n=this.componentDef,e=n.inputTransforms,i=F0(n.inputs);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return F0(this.componentDef.outputs)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function u(t){return t.map(s).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,i,r){let o=(r=r||this.ngModule)instanceof pr?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const l=o?new S1(n,o):n,c=l.get(kl,null);if(null===c)throw new be(407,!1);const w={rendererFactory:c,sanitizer:l.get(CR,null),effectManager:l.get(A0,null),afterRenderEventManager:l.get(jp,null)},M=c.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",U=i?function YR(t,n,e,i){const o=i.get(o0,!1)||e===qn.ShadowDom,l=t.selectRootElement(n,o);return function ZR(t){g0(t)}(l),l}(M,i,this.componentDef.encapsulation,l):Pu(M,k,function D1(t){const n=t.toLowerCase();return"svg"===n?Jv:"math"===n?"math":null}(k)),xe=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let pe=null;null!==U&&(pe=Rp(U,l,!0));const Le=Wp(0,null,null,1,0,null,null,null,null,null,null),Be=id(null,Le,null,xe,null,null,w,M,l,null,pe);let it,Rt;Ph(Be);try{const Vt=this.componentDef;let yn,ai=null;Vt.findHostDirectiveDefs?(yn=[],ai=new Map,Vt.findHostDirectiveDefs(Vt,yn,ai),yn.push(Vt)):yn=[Vt];const Pi=function A1(t,n){const e=t[Pe],i=ht;return t[i]=n,Zs(e,i,2,"#host",null)}(Be,U),Qf=function I1(t,n,e,i,r,o,l){const c=r[Pe];!function M1(t,n,e,i){for(const r of t)n.mergedAttrs=wo(n.mergedAttrs,r.hostAttrs);null!==n.mergedAttrs&&(od(n,n.mergedAttrs,!0),null!==e&&gb(i,e,n))}(i,t,n,l);let d=null;null!==n&&(d=Rp(n,r[Br]));const h=o.rendererFactory.createRenderer(n,e);let v=16;e.signals?v=4096:e.onPush&&(v=64);const w=id(r,m0(e),null,v,r[t.index],t,o,h,null,null,d);return c.firstCreatePass&&Zp(c,t,i.length-1),rd(r,w),r[t.index]=w}(Pi,U,Vt,yn,Be,w,M);Rt=ty(Le,ht),U&&function O1(t,n,e,i){if(i)ms(t,e,["ng-version",wR.full]);else{const{attrs:r,classes:o}=function f(t){const n=[],e=[];let i=1,r=2;for(;i<t.length;){let o=t[i];if("string"==typeof o)2===r?""!==o&&n.push(o,t[++i]):8===r&&e.push(o);else{if(!Qn(r))break;r=o}i++}return{attrs:n,classes:e}}(n.selectors[0]);r&&ms(t,e,r),o&&o.length>0&&mb(t,e,o.join(" "))}}(M,Vt,U,i),void 0!==e&&function k1(t,n,e){const i=t.projection=[];for(let r=0;r<n.length;r++){const o=e[r];i.push(null!=o?Array.from(o):null)}}(Rt,this.ngContentSelectors,e),it=function R1(t,n,e,i,r,o){const l=mn(),c=r[Pe],d=Wn(l,r);y0(c,r,l,e,null,i);for(let v=0;v<e.length;v++)wn(So(r,c,l.directiveStart+v,l),r);b0(c,r,l),d&&wn(d,r);const h=So(r,c,l.directiveStart+l.componentOffset,l);if(t[Xt]=r[Xt]=h,null!==o)for(const v of o)v(h,n);return $p(c,l,t),h}(Qf,Vt,yn,ai,Be,[N1]),Jp(Le,Be,null)}finally{Lh()}return new T1(this.componentType,it,qs(Rt,Be),Be,Rt)}}class T1 extends mR{constructor(n,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new E1(r),this.componentType=n}setInput(n,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;const o=this._rootLView;Qp(o[Pe],o,r,n,e),this.previousInputValues.set(n,e),Nl(Jn(this._tNode.index,o))}}get injector(){return new Fn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function N1(){const t=mn();vu(Te()[Pe],t)}function Ue(t){let n=function P0(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const i=[t];for(;n;){let r;if(Ti(t))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new be(903,!1);r=n.\u0275dir}if(r){if(e){i.push(r);const l=t;l.inputs=ad(t.inputs),l.inputTransforms=ad(t.inputTransforms),l.declaredInputs=ad(t.declaredInputs),l.outputs=ad(t.outputs);const c=r.hostBindings;c&&V1(t,c);const d=r.viewQuery,h=r.contentQueries;if(d&&P1(t,d),h&&L1(t,h),po(t.inputs,r.inputs),po(t.declaredInputs,r.declaredInputs),po(t.outputs,r.outputs),null!==r.inputTransforms&&(null===l.inputTransforms&&(l.inputTransforms={}),po(l.inputTransforms,r.inputTransforms)),Ti(r)&&r.data.animation){const v=t.data;v.animation=(v.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let l=0;l<o.length;l++){const c=o[l];c&&c.ngInherit&&c(t),c===Ue&&(e=!1)}}n=Object.getPrototypeOf(n)}!function F1(t){let n=0,e=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=n+=r.hostVars,r.hostAttrs=wo(r.hostAttrs,e=wo(e,r.hostAttrs))}}(i)}function ad(t){return t===fi?{}:t===pt?[]:t}function P1(t,n){const e=t.viewQuery;t.viewQuery=e?(i,r)=>{n(i,r),e(i,r)}:n}function L1(t,n){const e=t.contentQueries;t.contentQueries=e?(i,r,o)=>{n(i,r,o),e(i,r,o)}:n}function V1(t,n){const e=t.hostBindings;t.hostBindings=e?(i,r)=>{n(i,r),e(i,r)}:n}function ld(t){return!!em(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function em(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Wi(t,n,e){return t[n]=e}function xn(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function ii(t,n,e,i){const r=Te();return xn(r,Ds(),n)&&(_t(),Gi(Ut(),r,t,n,e,i)),ii}function Ft(t,n,e,i,r,o,l,c){const d=Te(),h=_t(),v=t+ht,w=h.firstCreatePass?function uO(t,n,e,i,r,o,l,c,d){const h=n.consts,v=Zs(n,t,4,l||null,Ur(h,c));Yp(n,e,v,Ur(h,d)),vu(n,v);const w=v.tView=Wp(2,v,i,r,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,h,null);return null!==n.queries&&(n.queries.template(n,v),w.queries=n.queries.embeddedTView(v)),v}(v,h,d,n,e,i,r,o,l):h.data[v];zi(w,!1);const M=Q0(h,d,w,t);_u()&&Bu(h,d,M,w),wn(M,d),rd(d,d[v]=w0(M,d,M,w)),hu(w)&&qp(h,d,w),null!=l&&Gp(d,w,c)}let Q0=function J0(t,n,e,i){return zr(!0),n[nt].createComment("")};function Pn(t,n,e){const i=Te();return xn(i,Ds(),n)&&ni(_t(),Ut(),i,t,n,i[nt],e,!1),Pn}function sm(t,n,e,i,r){const l=r?"class":"style";Qp(t,e,n.inputs[l],l,i)}function ft(t,n,e,i){const r=Te(),o=_t(),l=ht+t,c=r[nt],d=o.firstCreatePass?function mO(t,n,e,i,r,o){const l=n.consts,d=Zs(n,t,2,i,Ur(l,r));return Yp(n,e,d,Ur(l,o)),null!==d.attrs&&od(d,d.attrs,!1),null!==d.mergedAttrs&&od(d,d.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,d),d}(l,o,r,n,e,i):o.data[l],h=eC(o,r,d,c,n,t);r[l]=h;const v=hu(d);return zi(d,!0),gb(c,h,d),32!=(32&d.flags)&&_u()&&Bu(o,r,h,d),0===function BA(){return Qe.lFrame.elementDepthCount}()&&wn(h,r),function HA(){Qe.lFrame.elementDepthCount++}(),v&&(qp(o,r,d),$p(o,d,r)),null!==i&&Gp(r,d),ft}function mt(){let t=mn();Rh()?Oh():(t=t.parent,zi(t,!1));const n=t;(function UA(t){return Qe.skipHydrationRootTNode===t})(n)&&function GA(){Qe.skipHydrationRootTNode=null}(),function jA(){Qe.lFrame.elementDepthCount--}();const e=_t();return e.firstCreatePass&&(vu(e,t),bh(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function oI(t){return 0!=(8&t.flags)}(n)&&sm(e,n,Te(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function sI(t){return 0!=(16&t.flags)}(n)&&sm(e,n,Te(),n.stylesWithoutHost,!1),mt}function _n(t,n,e,i){return ft(t,n,e,i),mt(),_n}let eC=(t,n,e,i,r,o)=>(zr(!0),Pu(i,r,function vy(){return Qe.lFrame.currentNamespace}()));function Yi(t,n,e){const i=Te(),r=_t(),o=t+ht,l=r.firstCreatePass?function vO(t,n,e,i,r){const o=n.consts,l=Ur(o,i),c=Zs(n,t,8,"ng-container",l);return null!==l&&od(c,l,!0),Yp(n,e,c,Ur(o,r)),null!==n.queries&&n.queries.elementStart(n,c),c}(o,r,i,n,e):r.data[o];zi(l,!0);const c=tC(r,i,l,t);return i[o]=c,_u()&&Bu(r,i,c,l),wn(c,i),hu(l)&&(qp(r,i,l),$p(r,l,i)),null!=e&&Gp(i,l),Yi}function Zi(){let t=mn();const n=_t();return Rh()?Oh():(t=t.parent,zi(t,!1)),n.firstCreatePass&&(vu(n,t),bh(t)&&n.queries.elementEnd(t)),Zi}function Ki(t,n,e){return Yi(t,n,e),Zi(),Ki}let tC=(t,n,e,i)=>(zr(!0),ip(n[nt],""));function am(){return Te()}function hd(t){return!!t&&"function"==typeof t.then}function nC(t){return!!t&&"function"==typeof t.subscribe}function vn(t,n,e,i){const r=Te(),o=_t(),l=mn();return iC(o,r,r[nt],l,t,n,i),vn}function lm(t,n){const e=mn(),i=Te(),r=_t();return iC(r,i,S0(Nh(r.data),e,i),e,t,n),lm}function iC(t,n,e,i,r,o,l){const c=hu(i),h=t.firstCreatePass&&D0(t),v=n[Xt],w=E0(n);let M=!0;if(3&i.type||l){const J=Wn(i,n),he=l?l(J):J,xe=w.length,pe=l?Be=>l(kt(Be[i.index])):i.index;let Le=null;if(!l&&c&&(Le=function CO(t,n,e,i){const r=t.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const l=r[o];if(l===e&&r[o+1]===i){const c=n[_s],d=r[o+2];return c.length>d?c[d]:null}"string"==typeof l&&(o+=2)}return null}(t,n,r,i.index)),null!==Le)(Le.__ngLastListenerFn__||Le).__ngNextListenerFn__=o,Le.__ngLastListenerFn__=o,M=!1;else{o=oC(i,n,v,o,!1);const Be=e.listen(he,r,o);w.push(o,Be),h&&h.push(r,pe,xe,xe+1)}}else o=oC(i,n,v,o,!1);const k=i.outputs;let U;if(M&&null!==k&&(U=k[r])){const J=U.length;if(J)for(let he=0;he<J;he+=2){const it=n[U[he]][U[he+1]].subscribe(o),Rt=w.length;w.push(o,it),h&&h.push(r,i.index,Rt,-(Rt+1))}}}function rC(t,n,e,i){try{return Ui(6,n,e),!1!==e(i)}catch(r){return T0(t,r),!1}finally{Ui(7,n,e)}}function oC(t,n,e,i,r){return function o(l){if(l===Function)return i;Nl(t.componentOffset>-1?Jn(t.index,n):n);let d=rC(n,e,i,l),h=o.__ngNextListenerFn__;for(;h;)d=rC(n,e,h,l)&&d,h=h.__ngNextListenerFn__;return r&&!1===d&&l.preventDefault(),d}}function _r(t=1){return function QA(t){return(Qe.lFrame.contextLView=function JA(t,n){for(;t>0;)n=n[ys],t--;return n}(t,Qe.lFrame.contextLView))[Xt]}(t)}function wO(t,n){let e=null;const i=function se(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(!(1&e))return n[e+1]}return null}(t);for(let r=0;r<n.length;r++){const o=n[r];if("*"!==o){if(null===i?cr(t,o,!0):vh(i,o))return r}else e=r}return e}function pd(t){const n=Te()[Qt][Cn];if(!n.projection){const i=n.projection=xl(t?t.length:1,null),r=i.slice();let o=n.child;for(;null!==o;){const l=t?wO(o,t):0;null!==l&&(r[l]?r[l].projectionNext=o:i[l]=o,r[l]=o),o=o.next}}}function Gr(t,n=0,e){const i=Te(),r=_t(),o=Zs(r,ht+t,16,null,e||null);null===o.projection&&(o.projection=n),Oh(),(!i[ur]||Es())&&32!=(32&o.flags)&&function mM(t,n,e){pb(n[nt],0,n,e,sp(t,e,n),lb(e.parent||n[Cn],e,n))}(r,i,o)}function md(t,n){return t<<17|n<<2}function Wr(t){return t>>17&32767}function um(t){return 2|t}function ko(t){return(131068&t)>>2}function dm(t,n){return-131069&t|n<<2}function fm(t){return 1|t}function mC(t,n,e,i,r){const o=t[e+1],l=null===n;let c=i?Wr(o):ko(o),d=!1;for(;0!==c&&(!1===d||l);){const v=t[c+1];AO(t[c],n)&&(d=!0,t[c+1]=i?fm(v):um(v)),c=i?Wr(v):ko(v)}d&&(t[e+1]=i?um(o):fm(o))}function AO(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&ks(t,n)>=0}function Xi(t,n){return function Ii(t,n,e,i){const r=Te(),o=_t(),l=function fr(t){const n=Qe.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}(2);o.firstUpdatePass&&function xC(t,n,e,i){const r=t.data;if(null===r[e+1]){const o=r[Nn()],l=function wC(t,n){return n>=t.expandoStartIndex}(t,e);(function TC(t,n){return 0!=(t.flags&(n?8:16))})(o,i)&&null===n&&!l&&(n=!1),n=function LO(t,n,e,i){const r=Nh(t);let o=i?n.residualClasses:n.residualStyles;if(null===r)0===(i?n.classBindings:n.styleBindings)&&(e=zl(e=hm(null,t,n,e,i),n.attrs,i),o=null);else{const l=n.directiveStylingLast;if(-1===l||t[l]!==r)if(e=hm(r,t,n,e,i),null===o){let d=function VO(t,n,e){const i=e?n.classBindings:n.styleBindings;if(0!==ko(i))return t[Wr(i)]}(t,n,i);void 0!==d&&Array.isArray(d)&&(d=hm(null,t,n,d[1],i),d=zl(d,n.attrs,i),function BO(t,n,e,i){t[Wr(e?n.classBindings:n.styleBindings)]=i}(t,n,i,d))}else o=function HO(t,n,e){let i;const r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++)i=zl(i,t[o].hostAttrs,e);return zl(i,n.attrs,e)}(t,n,i)}return void 0!==o&&(i?n.residualClasses=o:n.residualStyles=o),e}(r,o,n,i),function SO(t,n,e,i,r,o){let l=o?n.classBindings:n.styleBindings,c=Wr(l),d=ko(l);t[i]=e;let v,h=!1;if(Array.isArray(e)?(v=e[1],(null===v||ks(e,v)>0)&&(h=!0)):v=e,r)if(0!==d){const M=Wr(t[c+1]);t[i+1]=md(M,c),0!==M&&(t[M+1]=dm(t[M+1],i)),t[c+1]=function EO(t,n){return 131071&t|n<<17}(t[c+1],i)}else t[i+1]=md(c,0),0!==c&&(t[c+1]=dm(t[c+1],i)),c=i;else t[i+1]=md(d,0),0===c?c=i:t[d+1]=dm(t[d+1],i),d=i;h&&(t[i+1]=um(t[i+1])),mC(t,v,i,!0),mC(t,v,i,!1),function TO(t,n,e,i,r){const o=r?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof n&&ks(o,n)>=0&&(e[i+1]=fm(e[i+1]))}(n,v,t,i,o),l=md(c,d),o?n.classBindings=l:n.styleBindings=l}(r,o,n,e,l,i)}}(o,t,l,i),n!==rt&&xn(r,l,n)&&function DC(t,n,e,i,r,o,l,c){if(!(3&n.type))return;const d=t.data,h=d[c+1],v=function DO(t){return 1==(1&t)}(h)?SC(d,n,e,r,ko(h),l):void 0;gd(v)||(gd(o)||function xO(t){return 2==(2&t)}(h)&&(o=SC(d,null,e,r,c,l)),function _M(t,n,e,i,r){if(n)r?t.addClass(e,i):t.removeClass(e,i);else{let o=-1===i.indexOf("-")?void 0:$r.DashCase;null==r?t.removeStyle(e,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=$r.Important),t.setStyle(e,i,r,o))}}(i,l,gu(Nn(),e),r,o))}(o,o.data[Nn()],r,r[nt],t,r[l+1]=function $O(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Gt(function ti(t){return t instanceof Ao?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(n,e),i,l)}(t,n,null,!0),Xi}function hm(t,n,e,i,r){let o=null;const l=e.directiveEnd;let c=e.directiveStylingLast;for(-1===c?c=e.directiveStart:c++;c<l&&(o=n[c],i=zl(i,o.hostAttrs,r),o!==t);)c++;return null!==t&&(e.directiveStylingLast=c),i}function zl(t,n,e){const i=e?1:2;let r=-1;if(null!==n)for(let o=0;o<n.length;o++){const l=n[o];"number"==typeof l?r=l:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ei(t,l,!!e||n[++o]))}return void 0===t?null:t}function SC(t,n,e,i,r,o){const l=null===n;let c;for(;r>0;){const d=t[r],h=Array.isArray(d),v=h?d[1]:d,w=null===v;let M=e[r+1];M===rt&&(M=w?pt:void 0);let k=w?Wh(M,i):v===i?M:void 0;if(h&&!gd(k)&&(k=Wh(d,i)),gd(k)&&(c=k,l))return c;const U=t[r+1];r=l?Wr(U):ko(U)}if(null!==n){let d=o?n.residualClasses:n.residualStyles;null!=d&&(c=Wh(d,i))}return c}function gd(t){return void 0!==t}function un(t,n=""){const e=Te(),i=_t(),r=t+ht,o=i.firstCreatePass?Zs(i,r,1,n,null):i.data[r],l=AC(i,e,o,n,t);e[r]=l,_u()&&Bu(i,e,l,o),zi(o,!1)}let AC=(t,n,e,i,r)=>(zr(!0),function Fu(t,n){return t.createText(n)}(n[nt],i));function No(t){return vr("",t,""),No}function vr(t,n,e){const i=Te(),r=function Xs(t,n,e,i){return xn(t,Ds(),e)?n+Xe(e)+i:rt}(i,t,n,e);return r!==rt&&function gr(t,n,e){const i=gu(n,t);!function ib(t,n,e){t.setValue(n,e)}(t[nt],i,e)}(i,Nn(),r),vr}function pm(t,n,e){const i=Te();return xn(i,Ds(),n)&&ni(_t(),Ut(),i,t,n,i[nt],e,!0),pm}function mm(t,n,e){const i=Te();if(xn(i,Ds(),n)){const o=_t(),l=Ut();ni(o,l,i,t,n,S0(Nh(o.data),l,i),e,!0)}return mm}const Fo=void 0;var fk=["en",[["a","p"],["AM","PM"],Fo],[["AM","PM"],Fo,Fo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fo,"{1} 'at' {0}",Fo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function dk(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let aa={};function Ln(t){const n=function hk(t){return t.toLowerCase().replace(/_/g,"-")}(t);let e=WC(n);if(e)return e;const i=n.split("-")[0];if(e=WC(i),e)return e;if("en"===i)return fk;throw new be(701,!1)}function WC(t){return t in aa||(aa[t]=Tt.ng&&Tt.ng.common&&Tt.ng.common.locales&&Tt.ng.common.locales[t]),aa[t]}var Pt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Pt||{});const la="en-US";let YC=la;function vm(t,n,e,i,r){if(t=We(t),Array.isArray(t))for(let o=0;o<t.length;o++)vm(t[o],n,e,i,r);else{const o=_t(),l=Te(),c=mn();let d=Io(t)?t:We(t.provide);const h=Pb(t),v=1048575&c.providerIndexes,w=c.directiveStart,M=c.providerIndexes>>20;if(Io(t)||!t.multi){const k=new vl(h,r,ae),U=bm(d,n,r?v:v+M,w);-1===U?($h(wu(c,l),o,d),ym(o,t,n.length),n.push(d),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(k),l.push(k)):(e[U]=k,l[U]=k)}else{const k=bm(d,n,v+M,w),U=bm(d,n,v,v+M),he=U>=0&&e[U];if(r&&!he||!r&&!(k>=0&&e[k])){$h(wu(c,l),o,d);const xe=function dN(t,n,e,i,r){const o=new vl(t,e,ae);return o.multi=[],o.index=n,o.componentProviders=0,yw(o,r,i&&!e),o}(r?uN:cN,e.length,r,i,h);!r&&he&&(e[U].providerFactory=xe),ym(o,t,n.length,0),n.push(d),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(xe),l.push(xe)}else ym(o,t,k>-1?k:U,yw(e[r?U:k],h,!r&&i));!r&&i&&he&&e[U].componentProviders++}}}function ym(t,n,e,i){const r=Io(n),o=function QM(t){return!!t.useClass}(n);if(r||o){const d=(o?We(n.useClass):n).prototype.ngOnDestroy;if(d){const h=t.destroyHooks||(t.destroyHooks=[]);if(!r&&n.multi){const v=h.indexOf(e);-1===v?h.push(e,[i,d]):h[v+1].push(i,d)}else h.push(e,d)}}}function yw(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function bm(t,n,e,i){for(let r=e;r<i;r++)if(n[r]===t)return r;return-1}function cN(t,n,e,i){return Cm(this.multi,[])}function uN(t,n,e,i){const r=this.multi;let o;if(this.providerFactory){const l=this.providerFactory.componentProviders,c=So(e,e[Pe],this.providerFactory.index,i);o=c.slice(0,l),Cm(r,o);for(let d=l;d<c.length;d++)o.push(c[d])}else o=[],Cm(r,o);return o}function Cm(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function st(t,n=[]){return e=>{e.providersResolver=(i,r)=>function lN(t,n,e){const i=_t();if(i.firstCreatePass){const r=Ti(t);vm(e,i.data,i.blueprint,r,!0),vm(n,i.data,i.blueprint,r,!1)}}(i,r?r(t):t,n)}}class Po{}class fN{}class wm extends Po{constructor(n,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new N0(this);const r=function Rn(t,n){const e=t[tl]||null;if(!e&&!0===n)throw new Error(`Type ${Gt(t)} does not have '\u0275mod' property.`);return e}(n);this._bootstrapComponents=function mr(t){return t instanceof Function?t():t}(r.bootstrap),this._r3Injector=Wb(n,e,[{provide:Po,useValue:this},{provide:$s,useValue:this.componentFactoryResolver},...i],Gt(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class xm extends fN{constructor(n){super(),this.moduleType=n}create(n){return new wm(this.moduleType,n,[])}}function Dm(t,n,e,i){return function Tw(t,n,e,i,r,o){const l=n+e;return xn(t,l,r)?Wi(t,l+1,o?i.call(o,r):i(r)):Zl(t,l+1)}(Te(),kn(),t,n,e,i)}function Zl(t,n){const e=t[n];return e===rt?void 0:e}function Aw(t,n,e,i,r,o,l){const c=n+e;return function Oo(t,n,e,i){const r=xn(t,n,e);return xn(t,n+1,i)||r}(t,c,r,o)?Wi(t,c+2,l?i.call(l,r,o):i(r,o)):Zl(t,c+2)}function kw(t,n,e,i){const r=t+ht,o=Te(),l=function xs(t,n){return t[n]}(o,r);return function Kl(t,n){return t[Pe].data[n].pure}(o,r)?Aw(o,kn(),n,l.transform,e,i,l):l.transform(e,i)}function HN(){return this._results[Symbol.iterator]()}class Sm{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Jt)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Sm.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=HN)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const i=this;i.dirty=!1;const r=function gi(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function bI(t,n,e){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=n[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function UN(t,n,e,i=!0){const r=n[Pe];if(function cM(t,n,e,i){const r=hn+i,o=e.length;i>0&&(e[r-1][Si]=n),i<o-hn?(n[Si]=e[r],ky(e,hn+i,n)):(e.push(n),n[Si]=null),n[Ht]=e;const l=n[ul];null!==l&&e!==l&&function uM(t,n){const e=t[Cs];n[Qt]!==n[Ht][Ht][Qt]&&(t[kv]=!0),null===e?t[Cs]=[n]:e.push(n)}(l,n);const c=n[Hi];null!==c&&c.insertView(t),n[ot]|=128}(r,n,t,e),i){const o=lp(e,t),l=n[nt],c=Vu(l,t[ji]);null!==c&&function sM(t,n,e,i,r,o){i[Wt]=r,i[Cn]=n,Al(t,i,e,1,r,o)}(r,t[Cn],l,n,c,o)}}let an=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=qN}return t})();const zN=an,$N=class extends zN{constructor(n,e,i){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,i){const r=function jN(t,n,e,i){const r=n.tView,c=id(t,r,e,4096&t[ot]?4096:16,null,n,null,null,null,i?.injector??null,i?.hydrationInfo??null);c[ul]=t[n.index];const h=t[Hi];return null!==h&&(c[Hi]=h.createEmbeddedView(r)),Jp(r,c,e),c}(this._declarationLView,this._declarationTContainer,n,{injector:e,hydrationInfo:i});return new Ll(r)}};function qN(){return Cd(mn(),Te())}function Cd(t,n){return 4&t.type?new $N(n,t,qs(t,n)):null}let En=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=XN}return t})();function XN(){return Hw(mn(),Te())}const QN=En,Vw=class extends QN{constructor(n,e,i){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=i}get element(){return qs(this._hostTNode,this._hostLView)}get injector(){return new Fn(this._hostTNode,this._hostLView)}get parentInjector(){const n=xu(this._hostTNode,this._hostLView);if(jh(n)){const e=bl(n,this._hostLView),i=yl(n);return new Fn(e[Pe].data[i+8],e)}return new Fn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=Bw(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-hn}createEmbeddedView(n,e,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const c=n.createEmbeddedViewImpl(e||{},o,null);return this.insertImpl(c,r,false),c}createComponent(n,e,i,r,o){const l=n&&!function wl(t){return"function"==typeof t}(n);let c;if(l)c=e;else{const J=e||{};c=J.index,i=J.injector,r=J.projectableNodes,o=J.environmentInjector||J.ngModuleRef}const d=l?n:new Vl(ct(n)),h=i||this.parentInjector;if(!o&&null==d.ngModule){const he=(l?h:this.parentInjector).get(pr,null);he&&(o=he)}ct(d.componentType??{});const k=d.create(h,r,null,o);return this.insertImpl(k.hostView,c,false),k}insert(n,e){return this.insertImpl(n,e,!1)}insertImpl(n,e,i){const r=n._lView;if(function PA(t){return On(t[Ht])}(r)){const d=this.indexOf(n);if(-1!==d)this.detach(d);else{const h=r[Ht],v=new Vw(h,h[Cn],h[Ht]);v.detach(v.indexOf(n))}}const l=this._adjustIndex(e),c=this._lContainer;return UN(c,r,l,!i),n.attachToViewContainerRef(),ky(Tm(c),l,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=Bw(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),i=Lu(this._lContainer,e);i&&(Su(Tm(this._lContainer),e),rp(i[Pe],i))}detach(n){const e=this._adjustIndex(n,-1),i=Lu(this._lContainer,e);return i&&null!=Su(Tm(this._lContainer),e)?new Ll(i):null}_adjustIndex(n,e=0){return n??this.length+e}};function Bw(t){return t[8]}function Tm(t){return t[8]||(t[8]=[])}function Hw(t,n){let e;const i=n[t.index];return On(i)?e=i:(e=w0(i,n,null,t),n[t.index]=e,rd(n,e)),jw(e,n,t,i),new Vw(e,t,n)}let jw=function Uw(t,n,e,i){if(t[ji])return;let r;r=8&e.type?kt(i):function JN(t,n){const e=t[nt],i=e.createComment(""),r=Wn(n,t);return To(e,Vu(e,r),i,function pM(t,n){return t.nextSibling(n)}(e,r),!1),i}(n,e),t[ji]=r};class Am{constructor(n){this.queryList=n,this.matches=null}clone(){return new Am(this.queryList)}setDirty(){this.queryList.setDirty()}}class Im{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const i=null!==n.contentQueries?n.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const l=e.getByIndex(o);r.push(this.queries[l.indexInDeclarationView].clone())}return new Im(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==Ww(n,e).matches&&this.queries[e].setDirty()}}class zw{constructor(n,e,i=null){this.predicate=n,this.flags=e,this.read=i}}class Mm{constructor(n=[]){this.queries=n}elementStart(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(n,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new Mm(e):null}template(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Rm{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new Rm(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(n,e,nF(e,o)),this.matchTNodeWithReadOption(n,e,Eu(e,n,o,!1,!1))}else i===an?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,Eu(e,n,i,!1,!1))}matchTNodeWithReadOption(n,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===At||r===En||r===an&&4&e.type)this.addMatch(e.index,-2);else{const o=Eu(e,n,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function nF(t,n){const e=t.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===n)return e[i+1];return null}function rF(t,n,e,i){return-1===e?function iF(t,n){return 11&t.type?qs(t,n):4&t.type?Cd(t,n):null}(n,t):-2===e?function oF(t,n,e){return e===At?qs(n,t):e===an?Cd(n,t):e===En?Hw(n,t):void 0}(t,n,i):So(t,t[Pe],e,n)}function $w(t,n,e,i){const r=n[Hi].queries[i];if(null===r.matches){const o=t.data,l=e.matches,c=[];for(let d=0;d<l.length;d+=2){const h=l[d];c.push(h<0?null:rF(n,o[h],l[d+1],e.metadata.read))}r.matches=c}return r.matches}function Om(t,n,e,i){const r=t.queries.getByIndex(e),o=r.matches;if(null!==o){const l=$w(t,n,r,e);for(let c=0;c<o.length;c+=2){const d=o[c];if(d>0)i.push(l[c/2]);else{const h=o[c+1],v=n[-d];for(let w=hn;w<v.length;w++){const M=v[w];M[ul]===M[Ht]&&Om(M[Pe],M,h,i)}if(null!==v[Cs]){const w=v[Cs];for(let M=0;M<w.length;M++){const k=w[M];Om(k[Pe],k,h,i)}}}}}return i}function ln(t){const n=Te(),e=_t(),i=fy();Fh(i+1);const r=Ww(e,i);if(t.dirty&&function NA(t){return 4==(4&t[ot])}(n)===(2==(2&r.metadata.flags))){if(null===r.matches)t.reset([]);else{const o=r.crossesNgTemplate?Om(e,n,i,[]):$w(e,n,r,i);t.reset(o,yR),t.notifyOnChanges()}return!0}return!1}function Ri(t,n,e){const i=_t();i.firstCreatePass&&(Gw(i,new zw(t,n,e),-1),2==(2&n)&&(i.staticViewQueries=!0)),qw(i,Te(),n)}function yr(t,n,e,i){const r=_t();if(r.firstCreatePass){const o=mn();Gw(r,new zw(n,e,i),o.index),function aF(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(r,t),2==(2&e)&&(r.staticContentQueries=!0)}qw(r,Te(),e)}function cn(){return function sF(t,n){return t[Hi].queries[n].queryList}(Te(),fy())}function qw(t,n,e){const i=new Sm(4==(4&e));(function QR(t,n,e,i){const r=E0(n);r.push(e),t.firstCreatePass&&D0(t).push(i,r.length-1)})(t,n,i,i.destroy),null===n[Hi]&&(n[Hi]=new Im),n[Hi].queries.push(new Am(i))}function Gw(t,n,e){null===t.queries&&(t.queries=new Mm),t.queries.track(new Rm(n,e))}function Ww(t,n){return t.queries.getByIndex(n)}const IF=new Ie("Application Initializer");let Lm=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=Je(IF,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const o=r();if(hd(o))e.push(o);else if(nC(o)){const l=new Promise((c,d)=>{o.subscribe({complete:c,error:d})});e.push(l)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const er=new Ie("LocaleId",{providedIn:"root",factory:()=>Je(er,dt.Optional|dt.SkipSelf)||function RF(){return typeof $localize<"u"&&$localize.locale||la}()});let NF=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new zn(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const px=new Ie(""),Dd=new Ie("");let Um,Hm=(()=>{class t{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Um||(function iP(t){Um=t}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{et.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(l=>l.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||t)(ge(et),ge(jm),ge(Dd))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}return t})(),jm=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return Um?.findTestabilityInTree(this,e,i)??null}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Yr=null;const mx=new Ie("AllowMultipleToken"),zm=new Ie("PlatformDestroyListeners"),gx=new Ie("appBootstrapListener");function yx(t,n,e=[]){const i=`Platform: ${n}`,r=new Ie(i);return(o=[])=>{let l=$m();if(!l||l.injector.get(mx,!1)){const c=[...e,...o,{provide:r,useValue:!0}];t?t(c):function sP(t){if(Yr&&!Yr.get(mx,!1))throw new be(400,!1);(function _x(){!function CA(t){qv=t}(()=>{throw new be(600,!1)})})(),Yr=t;const n=t.get(Cx);(function vx(t){t.get(Lb,null)?.forEach(e=>e())})(t)}(function bx(t=[],n){return Yt.create({name:n,providers:[{provide:yp,useValue:"platform"},{provide:zm,useValue:new Set([()=>Yr=null])},...t]})}(c,i))}return function lP(t){const n=$m();if(!n)throw new be(401,!1);return n}()}}function $m(){return Yr?.get(Cx)??null}let Cx=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function cP(t="zone.js",n){return"noop"===t?new NR:"zone.js"===t?new et(n):t}(i?.ngZone,function wx(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function pN(t,n,e){return new wm(t,n,e)}(e.moduleType,this.injector,function Tx(t){return[{provide:et,useFactory:t},{provide:qu,multi:!0,useFactory:()=>{const n=Je(dP,{optional:!0});return()=>n.initialize()}},{provide:Sx,useFactory:uP},{provide:Qb,useFactory:Jb}]}(()=>r)),l=o.injector.get(Ai,null);return r.runOutsideAngular(()=>{const c=r.onError.subscribe({next:d=>{l.handleError(d)}});o.onDestroy(()=>{Sd(this._modules,o),c.unsubscribe()})}),function xx(t,n,e){try{const i=e();return hd(i)?i.catch(r=>{throw n.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}(l,r,()=>{const c=o.injector.get(Lm);return c.runInitializers(),c.donePromise.then(()=>(function ZC(t){$n(t,"Expected localeId to be defined"),"string"==typeof t&&(YC=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(er,la)||la),this._moduleDoBootstrap(o),o))})})}bootstrapModule(e,i=[]){const r=Ex({},i);return function rP(t,n,e){const i=new xm(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(Lo);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new be(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(zm,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||t)(ge(Yt))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function Ex(t,n){return Array.isArray(n)?n.reduce(Ex,t):{...t,...n}}let Lo=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Je(Sx),this.zoneIsStable=Je(Qb),this.componentTypes=[],this.components=[],this.isStable=Je(NF).hasPendingTasks.pipe(function Wc(t,n){return ee((e,i)=>{let r=null,o=0,l=!1;const c=()=>l&&!r&&i.complete();e.subscribe(ie(i,d=>{r?.unsubscribe();let h=0;const v=o++;qt(t(d,v)).subscribe(r=ie(i,w=>i.next(n?n(d,w,v,h++):w),()=>{r=null,c()}))},()=>{l=!0,c()}))})}(e=>e?Mn(!1):this.zoneIsStable),ho(),os()),this._injector=Je(pr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof jb;if(!this._injector.get(Lm).done)throw!r&&function Ve(t){const n=ct(t)||Kt(t)||_e(t);return null!==n&&n.standalone}(e),new be(405,!1);let l;l=r?e:this._injector.get($s).resolveComponentFactory(e),this.componentTypes.push(l.componentType);const c=function oP(t){return t.isBoundToModule}(l)?void 0:this._injector.get(Po),h=l.create(Yt.NULL,[],i||l.selector,c),v=h.location.nativeElement,w=h.injector.get(px,null);return w?.registerApplication(v),h.onDestroy(()=>{this.detachView(h.hostView),Sd(this.components,h),w?.unregisterApplication(v)}),this._loadComponent(h),h}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Sd(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(gx,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Sd(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new be(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Sd(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}const Sx=new Ie("",{providedIn:"root",factory:()=>Je(Ai).handleError.bind(void 0)});function uP(){const t=Je(et),n=Je(Ai);return e=>t.runOutsideAngular(()=>n.handleError(e))}let dP=(()=>{class t{constructor(){this.zone=Je(et),this.applicationRef=Je(Lo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let Td=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=hP}return t})();function hP(t){return function pP(t,n,e){if(xo(t)&&!e){const i=Jn(t.index,n);return new Ll(i,i)}return 47&t.type?new Ll(n[Qt],n):null}(mn(),Te(),16==(16&t))}class Rx{constructor(){}supports(n){return ld(n)}create(n){return new bP(n)}}const yP=(t,n)=>n;class bP{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||yP}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const l=!i||e&&e.currentIndex<kx(i,r,o)?e:i,c=kx(l,r,o),d=l.currentIndex;if(l===i)r--,i=i._nextRemoved;else if(e=e._next,null==l.previousIndex)r++;else{o||(o=[]);const h=c-r,v=d-r;if(h!=v){for(let M=0;M<h;M++){const k=M<o.length?o[M]:o[M]=0,U=k+M;v<=U&&U<h&&(o[M]=k+1)}o[l.previousIndex]=v-h}}c!==d&&n(l,c,d)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!ld(n))throw new be(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r,o,l,e=this._itHead,i=!1;if(Array.isArray(n)){this.length=n.length;for(let c=0;c<this.length;c++)o=n[c],l=this._trackByFn(c,o),null!==e&&Object.is(e.trackById,l)?(i&&(e=this._verifyReinsertion(e,o,l,c)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,l,c),i=!0),e=e._next}else r=0,function G1(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Symbol.iterator]();let i;for(;!(i=e.next()).done;)n(i.value)}}(n,c=>{l=this._trackByFn(r,c),null!==e&&Object.is(e.trackById,l)?(i&&(e=this._verifyReinsertion(e,c,l,r)),Object.is(e.item,c)||this._addIdentityChange(e,c)):(e=this._mismatch(e,c,l,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,i,r){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,r)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,r)):n=this._addAfter(new CP(e,i),o,r),n}_verifyReinsertion(n,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?n=this._reinsertAfter(o,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const r=n._prevRemoved,o=n._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(n,e,i),this._addToMoves(n,i),n}_moveAfter(n,e,i){return this._unlink(n),this._insertAfter(n,e,i),this._addToMoves(n,i),n}_addAfter(n,e,i){return this._insertAfter(n,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,i){const r=null===e?this._itHead:e._next;return n._next=r,n._prev=e,null===r?this._itTail=n:r._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new Ox),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,i=n._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ox),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class CP{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wP{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){const e=n._prevDup,i=n._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class Ox{constructor(){this.map=new Map}put(n){const e=n.trackById;let i=this.map.get(e);i||(i=new wP,this.map.set(e,i)),i.add(n)}get(n,e){const r=this.map.get(n);return r?r.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kx(t,n,e){const i=t.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+n+r}class Nx{constructor(){}supports(n){return n instanceof Map||em(n)}create(){return new xP}}class xP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||em(n)))throw new be(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const i=n._prev;return e._next=n,e._prev=i,n._prev=e,i&&(i._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const r=this._records.get(n);this._maybeAddToChanges(r,e);const o=r._prev,l=r._next;return o&&(o._next=l),l&&(l._prev=o),r._next=null,r._prev=null,r}const i=new EP(n);return this._records.set(n,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(i=>e(n[i],i))}}class EP{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Fx(){return new br([new Rx])}let br=(()=>{class t{static#e=this.\u0275prov=Fe({token:t,providedIn:"root",factory:Fx});constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||Fx()),deps:[[t,new Au,new Ns]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new be(901,!1)}}return t})();function Px(){return new Jl([new Nx])}let Jl=(()=>{class t{static#e=this.\u0275prov=Fe({token:t,providedIn:"root",factory:Px});constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||Px()),deps:[[t,new Au,new Ns]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new be(901,!1)}}return t})();const TP=yx(null,"core",[]);let AP=(()=>{class t{constructor(e){}static#e=this.\u0275fac=function(i){return new(i||t)(ge(Lo))};static#t=this.\u0275mod=ce({type:t});static#n=this.\u0275inj=bt({})}return t})();let Xm=null;function Zr(){return Xm}class jP{}const ut=new Ie("DocumentToken");let qx=(()=>{class t{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Fe({token:t,factory:function(){return Je(UP)},providedIn:"platform"})}return t})(),UP=(()=>{class t extends qx{constructor(){super(),this._doc=Je(ut),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zr().getBaseHref(this._doc)}onPopState(e){const i=Zr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Zr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Fe({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function Gx(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function Wx(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function Bo(t){return t&&"?"!==t[0]?"?"+t:t}let Qm=(()=>{class t{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Fe({token:t,factory:function(){return Je($P)},providedIn:"root"})}return t})();const zP=new Ie("appBaseHref");let $P=(()=>{class t extends Qm{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Je(ut).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Gx(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Bo(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const l=this.prepareExternalUrl(r+Bo(o));this._platformLocation.pushState(e,i,l)}replaceState(e,i,r,o){const l=this.prepareExternalUrl(r+Bo(o));this._platformLocation.replaceState(e,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||t)(ge(qx),ge(zP,8))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Jm=(()=>{class t{constructor(e){this._subject=new Jt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function WP(t){if(new RegExp("^(https?:)?//").test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}(Wx(Yx(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Bo(i))}normalize(e){return t.stripTrailingSlash(function GP(t,n){if(!t||!n.startsWith(t))return n;const e=n.substring(t.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,Yx(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Bo(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Bo(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=Bo;static#t=this.joinWithSlash=Gx;static#n=this.stripTrailingSlash=Wx;static#i=this.\u0275fac=function(i){return new(i||t)(ge(Qm))};static#r=this.\u0275prov=Fe({token:t,factory:function(){return function qP(){return new Jm(ge(Qm))}()},providedIn:"root"})}return t})();function Yx(t){return t.replace(/\/index.html$/,"")}var Bn=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Bn||{}),Ot=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Ot||{}),ri=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(ri||{}),en=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(en||{});function Od(t,n){return yi(Ln(t)[Pt.DateFormat],n)}function kd(t,n){return yi(Ln(t)[Pt.TimeFormat],n)}function Nd(t,n){return yi(Ln(t)[Pt.DateTimeFormat],n)}function vi(t,n){const e=Ln(t),i=e[Pt.NumberSymbols][n];if(typeof i>"u"){if(n===en.CurrencyDecimal)return e[Pt.NumberSymbols][en.Decimal];if(n===en.CurrencyGroup)return e[Pt.NumberSymbols][en.Group]}return i}function Kx(t){if(!t[Pt.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Pt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function yi(t,n){for(let e=n;e>-1;e--)if(typeof t[e]<"u")return t[e];throw new Error("Locale data API: locale data undefined")}function tg(t){const[n,e]=t.split(":");return{hours:+n,minutes:+e}}const l2=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ec={},c2=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Cr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Cr||{}),Et=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Et||{}),Dt=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Dt||{});function u2(t,n,e,i){let r=function y2(t){if(Jx(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[r,o=1,l=1]=t.split("-").map(c=>+c);return Fd(r,o-1,l)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let i;if(i=t.match(l2))return function b2(t){const n=new Date(0);let e=0,i=0;const r=t[8]?n.setUTCFullYear:n.setFullYear,o=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));const l=Number(t[4]||0)-e,c=Number(t[5]||0)-i,d=Number(t[6]||0),h=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(n,l,c,d,h),n}(i)}const n=new Date(t);if(!Jx(n))throw new Error(`Unable to convert "${t}" into a date`);return n}(t);n=wr(e,n)||n;let c,l=[];for(;n;){if(c=c2.exec(n),!c){l.push(n);break}{l=l.concat(c.slice(1));const v=l.pop();if(!v)break;n=v}}let d=r.getTimezoneOffset();i&&(d=Qx(i,d),r=function v2(t,n,e){const i=e?-1:1,r=t.getTimezoneOffset();return function _2(t,n){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+n),t}(t,i*(Qx(n,r)-r))}(r,i,!0));let h="";return l.forEach(v=>{const w=function g2(t){if(ig[t])return ig[t];let n;switch(t){case"G":case"GG":case"GGG":n=Lt(Dt.Eras,Ot.Abbreviated);break;case"GGGG":n=Lt(Dt.Eras,Ot.Wide);break;case"GGGGG":n=Lt(Dt.Eras,Ot.Narrow);break;case"y":n=nn(Et.FullYear,1,0,!1,!0);break;case"yy":n=nn(Et.FullYear,2,0,!0,!0);break;case"yyy":n=nn(Et.FullYear,3,0,!1,!0);break;case"yyyy":n=nn(Et.FullYear,4,0,!1,!0);break;case"Y":n=Bd(1);break;case"YY":n=Bd(2,!0);break;case"YYY":n=Bd(3);break;case"YYYY":n=Bd(4);break;case"M":case"L":n=nn(Et.Month,1,1);break;case"MM":case"LL":n=nn(Et.Month,2,1);break;case"MMM":n=Lt(Dt.Months,Ot.Abbreviated);break;case"MMMM":n=Lt(Dt.Months,Ot.Wide);break;case"MMMMM":n=Lt(Dt.Months,Ot.Narrow);break;case"LLL":n=Lt(Dt.Months,Ot.Abbreviated,Bn.Standalone);break;case"LLLL":n=Lt(Dt.Months,Ot.Wide,Bn.Standalone);break;case"LLLLL":n=Lt(Dt.Months,Ot.Narrow,Bn.Standalone);break;case"w":n=ng(1);break;case"ww":n=ng(2);break;case"W":n=ng(1,!0);break;case"d":n=nn(Et.Date,1);break;case"dd":n=nn(Et.Date,2);break;case"c":case"cc":n=nn(Et.Day,1);break;case"ccc":n=Lt(Dt.Days,Ot.Abbreviated,Bn.Standalone);break;case"cccc":n=Lt(Dt.Days,Ot.Wide,Bn.Standalone);break;case"ccccc":n=Lt(Dt.Days,Ot.Narrow,Bn.Standalone);break;case"cccccc":n=Lt(Dt.Days,Ot.Short,Bn.Standalone);break;case"E":case"EE":case"EEE":n=Lt(Dt.Days,Ot.Abbreviated);break;case"EEEE":n=Lt(Dt.Days,Ot.Wide);break;case"EEEEE":n=Lt(Dt.Days,Ot.Narrow);break;case"EEEEEE":n=Lt(Dt.Days,Ot.Short);break;case"a":case"aa":case"aaa":n=Lt(Dt.DayPeriods,Ot.Abbreviated);break;case"aaaa":n=Lt(Dt.DayPeriods,Ot.Wide);break;case"aaaaa":n=Lt(Dt.DayPeriods,Ot.Narrow);break;case"b":case"bb":case"bbb":n=Lt(Dt.DayPeriods,Ot.Abbreviated,Bn.Standalone,!0);break;case"bbbb":n=Lt(Dt.DayPeriods,Ot.Wide,Bn.Standalone,!0);break;case"bbbbb":n=Lt(Dt.DayPeriods,Ot.Narrow,Bn.Standalone,!0);break;case"B":case"BB":case"BBB":n=Lt(Dt.DayPeriods,Ot.Abbreviated,Bn.Format,!0);break;case"BBBB":n=Lt(Dt.DayPeriods,Ot.Wide,Bn.Format,!0);break;case"BBBBB":n=Lt(Dt.DayPeriods,Ot.Narrow,Bn.Format,!0);break;case"h":n=nn(Et.Hours,1,-12);break;case"hh":n=nn(Et.Hours,2,-12);break;case"H":n=nn(Et.Hours,1);break;case"HH":n=nn(Et.Hours,2);break;case"m":n=nn(Et.Minutes,1);break;case"mm":n=nn(Et.Minutes,2);break;case"s":n=nn(Et.Seconds,1);break;case"ss":n=nn(Et.Seconds,2);break;case"S":n=nn(Et.FractionalSeconds,1);break;case"SS":n=nn(Et.FractionalSeconds,2);break;case"SSS":n=nn(Et.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=Ld(Cr.Short);break;case"ZZZZZ":n=Ld(Cr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Ld(Cr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=Ld(Cr.Long);break;default:return null}return ig[t]=n,n}(v);h+=w?w(r,e,d):"''"===v?"'":v.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),h}function Fd(t,n,e){const i=new Date(0);return i.setFullYear(t,n,e),i.setHours(0,0,0),i}function wr(t,n){const e=function ZP(t){return Ln(t)[Pt.LocaleId]}(t);if(ec[e]=ec[e]||{},ec[e][n])return ec[e][n];let i="";switch(n){case"shortDate":i=Od(t,ri.Short);break;case"mediumDate":i=Od(t,ri.Medium);break;case"longDate":i=Od(t,ri.Long);break;case"fullDate":i=Od(t,ri.Full);break;case"shortTime":i=kd(t,ri.Short);break;case"mediumTime":i=kd(t,ri.Medium);break;case"longTime":i=kd(t,ri.Long);break;case"fullTime":i=kd(t,ri.Full);break;case"short":const r=wr(t,"shortTime"),o=wr(t,"shortDate");i=Pd(Nd(t,ri.Short),[r,o]);break;case"medium":const l=wr(t,"mediumTime"),c=wr(t,"mediumDate");i=Pd(Nd(t,ri.Medium),[l,c]);break;case"long":const d=wr(t,"longTime"),h=wr(t,"longDate");i=Pd(Nd(t,ri.Long),[d,h]);break;case"full":const v=wr(t,"fullTime"),w=wr(t,"fullDate");i=Pd(Nd(t,ri.Full),[v,w])}return i&&(ec[e][n]=i),i}function Pd(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,i){return null!=n&&i in n?n[i]:e})),t}function Oi(t,n,e="-",i,r){let o="";(t<0||r&&t<=0)&&(r?t=1-t:(t=-t,o=e));let l=String(t);for(;l.length<n;)l="0"+l;return i&&(l=l.slice(l.length-n)),o+l}function nn(t,n,e=0,i=!1,r=!1){return function(o,l){let c=function f2(t,n){switch(t){case Et.FullYear:return n.getFullYear();case Et.Month:return n.getMonth();case Et.Date:return n.getDate();case Et.Hours:return n.getHours();case Et.Minutes:return n.getMinutes();case Et.Seconds:return n.getSeconds();case Et.FractionalSeconds:return n.getMilliseconds();case Et.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((e>0||c>-e)&&(c+=e),t===Et.Hours)0===c&&-12===e&&(c=12);else if(t===Et.FractionalSeconds)return function d2(t,n){return Oi(t,3).substring(0,n)}(c,n);const d=vi(l,en.MinusSign);return Oi(c,n,d,i,r)}}function Lt(t,n,e=Bn.Format,i=!1){return function(r,o){return function h2(t,n,e,i,r,o){switch(e){case Dt.Months:return function QP(t,n,e){const i=Ln(t),o=yi([i[Pt.MonthsFormat],i[Pt.MonthsStandalone]],n);return yi(o,e)}(n,r,i)[t.getMonth()];case Dt.Days:return function XP(t,n,e){const i=Ln(t),o=yi([i[Pt.DaysFormat],i[Pt.DaysStandalone]],n);return yi(o,e)}(n,r,i)[t.getDay()];case Dt.DayPeriods:const l=t.getHours(),c=t.getMinutes();if(o){const h=function n2(t){const n=Ln(t);return Kx(n),(n[Pt.ExtraData][2]||[]).map(i=>"string"==typeof i?tg(i):[tg(i[0]),tg(i[1])])}(n),v=function r2(t,n,e){const i=Ln(t);Kx(i);const o=yi([i[Pt.ExtraData][0],i[Pt.ExtraData][1]],n)||[];return yi(o,e)||[]}(n,r,i),w=h.findIndex(M=>{if(Array.isArray(M)){const[k,U]=M,J=l>=k.hours&&c>=k.minutes,he=l<U.hours||l===U.hours&&c<U.minutes;if(k.hours<U.hours){if(J&&he)return!0}else if(J||he)return!0}else if(M.hours===l&&M.minutes===c)return!0;return!1});if(-1!==w)return v[w]}return function KP(t,n,e){const i=Ln(t),o=yi([i[Pt.DayPeriodsFormat],i[Pt.DayPeriodsStandalone]],n);return yi(o,e)}(n,r,i)[l<12?0:1];case Dt.Eras:return function JP(t,n){return yi(Ln(t)[Pt.Eras],n)}(n,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,t,n,e,i)}}function Ld(t){return function(n,e,i){const r=-1*i,o=vi(e,en.MinusSign),l=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case Cr.Short:return(r>=0?"+":"")+Oi(l,2,o)+Oi(Math.abs(r%60),2,o);case Cr.ShortGMT:return"GMT"+(r>=0?"+":"")+Oi(l,1,o);case Cr.Long:return"GMT"+(r>=0?"+":"")+Oi(l,2,o)+":"+Oi(Math.abs(r%60),2,o);case Cr.Extended:return 0===i?"Z":(r>=0?"+":"")+Oi(l,2,o)+":"+Oi(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}const p2=0,Vd=4;function Xx(t){return Fd(t.getFullYear(),t.getMonth(),t.getDate()+(Vd-t.getDay()))}function ng(t,n=!1){return function(e,i){let r;if(n){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,l=e.getDate();r=1+Math.floor((l+o)/7)}else{const o=Xx(e),l=function m2(t){const n=Fd(t,p2,1).getDay();return Fd(t,0,1+(n<=Vd?Vd:Vd+7)-n)}(o.getFullYear()),c=o.getTime()-l.getTime();r=1+Math.round(c/6048e5)}return Oi(r,t,vi(i,en.MinusSign))}}function Bd(t,n=!1){return function(e,i){return Oi(Xx(e).getFullYear(),t,vi(i,en.MinusSign),n)}}const ig={};function Qx(t,n){t=t.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function Jx(t){return t instanceof Date&&!isNaN(t.valueOf())}const cg=/\s+/,iE=[];let ug=(()=>{class t{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=iE,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(cg):iE}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(cg):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(cg).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||t)(ae(br),ae(Jl),ae(At),ae(Ro))};static#t=this.\u0275dir=Ae({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return t})(),jd=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new P2,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){sE("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){sE("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||t)(ae(En),ae(an))};static#t=this.\u0275dir=Ae({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class P2{constructor(){this.$implicit=null,this.ngIf=null}}function sE(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Gt(n)}'.`)}const Z2=new Ie("DATE_PIPE_DEFAULT_TIMEZONE"),K2=new Ie("DATE_PIPE_DEFAULT_OPTIONS");let lE=(()=>{class t{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(null==e||""===e||e!=e)return null;try{return u2(e,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(l){throw function ki(t,n){return new be(2100,!1)}()}}static#e=this.\u0275fac=function(i){return new(i||t)(ae(er,16),ae(Z2,24),ae(K2,24))};static#t=this.\u0275pipe=Bt({name:"date",type:t,pure:!0,standalone:!0})}return t})(),mg=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=ce({type:t});static#n=this.\u0275inj=bt({})}return t})();const uE="browser";function dE(t){return"server"===t}class NL extends jP{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class vg extends NL{static makeCurrent(){!function HP(t){Xm||(Xm=t)}(new vg)}onAndCancel(n,e,i){return n.addEventListener(e,i),()=>{n.removeEventListener(e,i)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function FL(){return ic=ic||document.querySelector("base"),ic?ic.getAttribute("href"):null}();return null==e?null:function PL(t){$d=$d||document.createElement("a"),$d.setAttribute("href",t);const n=$d.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){ic=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function O2(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}(document.cookie,n)}}let $d,ic=null,VL=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}return t})();const yg=new Ie("EventManagerPlugins");let gE=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new be(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||t)(ge(yg),ge(et))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}return t})();class _E{constructor(n){this._doc=n}}const bg="ng-app-id";let vE=(()=>{class t{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=dE(o),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${bg}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(bg),o;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=i,this.platformIsServer&&l.setAttribute(bg,this.appId),l}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const o=this.styleRef,l=o.get(i)?.elements;l?l.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||t)(ge(ut),ge(Zu),ge(xp,8),ge(Mo))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}return t})();const Cg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},wg=/%COMP%/g,UL=new Ie("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function bE(t,n){return n.map(e=>e.replace(wg,t))}let xg=(()=>{class t{constructor(e,i,r,o,l,c,d,h=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=l,this.platformId=c,this.ngZone=d,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=dE(c),this.defaultRenderer=new Eg(e,l,d,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===qn.ShadowDom&&(i={...i,encapsulation:qn.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof wE?r.applyToHost(e):r instanceof Dg&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const l=this.doc,c=this.ngZone,d=this.eventManager,h=this.sharedStylesHost,v=this.removeStylesOnCompDestroy,w=this.platformIsServer;switch(i.encapsulation){case qn.Emulated:o=new wE(d,h,i,this.appId,v,l,c,w);break;case qn.ShadowDom:return new GL(d,h,e,i,l,c,this.nonce,w);default:o=new Dg(d,h,i,v,l,c,w)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||t)(ge(gE),ge(vE),ge(Zu),ge(UL),ge(ut),ge(Mo),ge(et),ge(xp))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}return t})();class Eg{constructor(n,e,i,r){this.eventManager=n,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(Cg[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(CE(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&(CE(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i="string"==typeof n?this.doc.querySelector(n):n;if(!i)throw new be(-5104,!1);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,r){if(r){e=r+":"+e;const o=Cg[r];o?n.setAttributeNS(o,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){const r=Cg[i];r?n.removeAttributeNS(r,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,r){r&($r.DashCase|$r.Important)?n.style.setProperty(e,i,r&$r.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&$r.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n[e]=i}setValue(n,e){n.nodeValue=e}listen(n,e,i){if("string"==typeof n&&!(n=Zr().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(i))}decoratePreventDefault(n){return e=>{if("__ngUnwrap__"===e)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))&&e.preventDefault()}}}function CE(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class GL extends Eg{constructor(n,e,i,r,o,l,c,d){super(n,o,l,d),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=bE(r.id,r.styles);for(const v of h){const w=document.createElement("style");c&&w.setAttribute("nonce",c),w.textContent=v,this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Dg extends Eg{constructor(n,e,i,r,o,l,c,d){super(n,o,l,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=d?bE(d,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class wE extends Dg{constructor(n,e,i,r,o,l,c,d){const h=r+"-"+i.id;super(n,e,i,o,l,c,d,h),this.contentAttr=function zL(t){return"_ngcontent-%COMP%".replace(wg,t)}(h),this.hostAttr=function $L(t){return"_nghost-%COMP%".replace(wg,t)}(h)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}}let WL=(()=>{class t extends _E{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||t)(ge(ut))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}return t})();const xE=["alt","control","meta","shift"],YL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ZL={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let KL=(()=>{class t extends _E{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,r){const o=t.parseEventName(i),l=t.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zr().onAndCancel(e,o.domEventName,l))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=t._normalizeKey(i.pop());let l="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),l="code."),xE.forEach(h=>{const v=i.indexOf(h);v>-1&&(i.splice(v,1),l+=h+".")}),l+=o,0!=i.length||0===o.length)return null;const d={};return d.domEventName=r,d.fullKey=l,d}static matchEventFullKeyCode(e,i){let r=YL[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),xE.forEach(l=>{l!==r&&(0,ZL[l])(e)&&(o+=l+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{t.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||t)(ge(ut))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}return t})();const eV=yx(TP,"browser",[{provide:Mo,useValue:uE},{provide:Lb,useValue:function XL(){vg.makeCurrent()},multi:!0},{provide:ut,useFactory:function JL(){return function wM(t){dp=t}(document),document},deps:[]}]),tV=new Ie(""),SE=[{provide:Dd,useClass:class LL{addToWindow(n){Tt.getAngularTestability=(i,r=!0)=>{const o=n.findTestabilityInTree(i,r);if(null==o)throw new be(5103,!1);return o},Tt.getAllAngularTestabilities=()=>n.getAllTestabilities(),Tt.getAllAngularRootElements=()=>n.getAllRootElements(),Tt.frameworkStabilizers||(Tt.frameworkStabilizers=[]),Tt.frameworkStabilizers.push(i=>{const r=Tt.getAllAngularTestabilities();let o=r.length,l=!1;const c=function(d){l=l||d,o--,0==o&&i(l)};r.forEach(d=>{d.whenStable(c)})})}findTestabilityInTree(n,e,i){return null==e?null:n.getTestability(e)??(i?Zr().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:px,useClass:Hm,deps:[et,jm,Dd]},{provide:Hm,useClass:Hm,deps:[et,jm,Dd]}],TE=[{provide:yp,useValue:"root"},{provide:Ai,useFactory:function QL(){return new Ai},deps:[]},{provide:yg,useClass:WL,multi:!0,deps:[ut,et,Mo]},{provide:yg,useClass:KL,multi:!0,deps:[ut]},xg,vE,gE,{provide:kl,useExisting:xg},{provide:class dL{},useClass:VL,deps:[]},[]];let Ag,AE=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:Zu,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||t)(ge(tV,12))};static#t=this.\u0275mod=ce({type:t});static#n=this.\u0275inj=bt({providers:[...TE,...SE],imports:[mg,AP]})}return t})();function Hn(t){return ee((n,e)=>{qt(t).subscribe(ie(e,()=>e.complete(),C)),!e.closed&&n.subscribe(e)})}function tr(t,n){return ee((e,i)=>{let r=0;e.subscribe(ie(i,o=>t.call(n,o,r++)&&i.next(o)))})}function qd(t){return tr((n,e)=>t<=e)}typeof window<"u"&&window;try{Ag=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Ag=!1}let rc,Ho,Ig,jn=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function cL(t){return t===uE}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ag)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||t)(ge(Mo))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function oc(t){return function lV(){if(null==rc&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>rc=!0}))}finally{rc=rc||!1}return rc}()?t:!!t.capture}function cV(){if(null==Ho){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ho=!1,Ho;if("scrollBehavior"in document.documentElement.style)Ho=!0;else{const t=Element.prototype.scrollTo;Ho=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return Ho}function Mg(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){const n=t.shadowRoot.activeElement;if(n===t)break;t=n}return t}function Xr(t){return t.composedPath?t.composedPath()[0]:t.target}function Rg(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function FE(t,...n){return n.length?n.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function xr(t){return t<=0?()=>ts:ee((n,e)=>{let i=0;n.subscribe(ie(e,r=>{++i<=t&&(e.next(r),t<=i&&e.complete())}))})}function Qr(t){return null!=t&&"false"!=`${t}`}function PE(t,n=0){return function _V(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):n}function Wd(t){return Array.isArray(t)?t:[t]}function rn(t){return null==t?"":"string"==typeof t?t:`${t}px`}function ha(t){return t instanceof At?t.nativeElement:t}let vV=(()=>{class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),LE=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=ce({type:t});static#n=this.\u0275inj=bt({providers:[vV]})}return t})();const{isArray:yV}=Array,{getPrototypeOf:bV,prototype:CV,keys:wV}=Object;function VE(t){if(1===t.length){const n=t[0];if(yV(n))return{args:n,keys:null};if(function xV(t){return t&&"object"==typeof t&&bV(t)===CV}(n)){const e=wV(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}const{isArray:EV}=Array;function Og(t){return Se(n=>function DV(t,n){return EV(n)?t(...n):t(n)}(t,n))}function BE(t,n){return t.reduce((e,i,r)=>(e[i]=n[r],e),{})}function HE(t,n,e){t?ci(e,t,n):n()}function kg(...t){return function AV(){return Pa(1)}()(Vi(t,Li(t)))}class IV extends ye{constructor(n,e){super()}schedule(n,e=0){return this}}const Yd={setInterval(t,n,...e){const{delegate:i}=Yd;return i?.setInterval?i.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=Yd;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};class Ng extends IV{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var i;if(this.closed)return this;this.state=n;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(n,e,i=0){return Yd.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&Yd.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(n,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let r,i=!1;try{this.work(n)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,g(i,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}const jE={now:()=>(jE.delegate||Date).now(),delegate:void 0};class sc{constructor(n,e=sc.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,i){return new this.schedulerActionCtor(this,n).schedule(i,e)}}sc.now=jE.now;class Fg extends sc{constructor(n,e=sc.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let i;this._active=!0;do{if(i=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,i){for(;n=e.shift();)n.unsubscribe();throw i}}}const Zd=new Fg(Ng),MV=Zd;function Pg(...t){const n=Li(t);return ee((e,i)=>{(n?kg(t,e,n):kg(t,e)).subscribe(i)})}const UE=new Set;let jo,OV=(()=>{class t{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):NV}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function kV(t,n){if(!UE.has(t))try{jo||(jo=document.createElement("style"),n&&(jo.nonce=n),jo.setAttribute("type","text/css"),document.head.appendChild(jo)),jo.sheet&&(jo.sheet.insertRule(`@media ${t} {body{ }}`,0),UE.add(t))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(i){return new(i||t)(ge(jn),ge(xp,8))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function NV(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let Lg=(()=>{class t{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new b}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return zE(Wd(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=function SV(...t){const n=Li(t),e=Va(t),{args:i,keys:r}=VE(t);if(0===i.length)return Vi([],n);const o=new q(function TV(t,n,e=de){return i=>{HE(n,()=>{const{length:r}=t,o=new Array(r);let l=r,c=r;for(let d=0;d<r;d++)HE(n,()=>{const h=Vi(t[d],n);let v=!1;h.subscribe(ie(i,w=>{o[d]=w,v||(v=!0,c--),c||i.next(e(o.slice()))},()=>{--l||i.complete()}))},i)},i)}}(i,n,r?l=>BE(r,l):de));return e?o.pipe(Og(e)):o}(zE(Wd(e)).map(l=>this._registerQuery(l).observable));return o=kg(o.pipe(xr(1)),o.pipe(qd(1),function RV(t,n=Zd){return ee((e,i)=>{let r=null,o=null,l=null;const c=()=>{if(r){r.unsubscribe(),r=null;const h=o;o=null,i.next(h)}};function d(){const h=l+t,v=n.now();if(v<h)return r=this.schedule(void 0,h-v),void i.add(r);c()}e.subscribe(ie(i,h=>{o=h,l=n.now(),r||(r=n.schedule(d,t),i.add(r))},()=>{c(),i.complete()},void 0,()=>{o=r=null}))})}(0))),o.pipe(Se(l=>{const c={matches:!1,breakpoints:{}};return l.forEach(({matches:d,query:h})=>{c.matches=c.matches||d,c.breakpoints[h]=d}),c}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new q(l=>{const c=d=>this._zone.run(()=>l.next(d));return i.addListener(c),()=>{i.removeListener(c)}}).pipe(Pg(i),Se(({matches:l})=>({query:e,matches:l})),Hn(this._destroySubject)),mql:i};return this._queries.set(e,o),o}static#e=this.\u0275fac=function(i){return new(i||t)(ge(OV),ge(et))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function zE(t){return t.map(n=>n.split(",")).reduce((n,e)=>n.concat(e)).map(n=>n.trim())}let Kd=(()=>{class t{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function BV(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function VV(t){try{return t.frameElement}catch{return null}}(function WV(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}(e));if(i&&(-1===WE(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=WE(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function qV(t){let n=t.nodeName.toLowerCase(),e="input"===n&&t.type;return"text"===e||"password"===e||"select"===n||"textarea"===n}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function GV(t){return!function jV(t){return function zV(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function HV(t){let n=t.nodeName.toLowerCase();return"input"===n||"select"===n||"button"===n||"textarea"===n}(t)||function UV(t){return function $V(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||GE(t))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(i){return new(i||t)(ge(jn))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function GE(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let n=t.getAttribute("tabindex");return!(!n||isNaN(parseInt(n,10)))}function WE(t){if(!GE(t))return null;const n=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}class YV{get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}constructor(n,e,i,r,o=!1){this._element=n,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const n=this._startAnchor,e=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(n)))})}focusFirstTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(n)))})}focusLastTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(n)))})}_getRegionBoundary(n){const e=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);return"start"==n?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(n){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(n),!!i}return e.focus(n),!0}return this.focusFirstTabbableElement(n)}focusFirstTabbableElement(n){const e=this._getRegionBoundary("start");return e&&e.focus(n),!!e}focusLastTabbableElement(n){const e=this._getRegionBoundary("end");return e&&e.focus(n),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const e=n.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const e=n.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,e){n?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._ngZone.isStable?n():this._ngZone.onStable.pipe(xr(1)).subscribe(n)}}let Vg=(()=>{class t{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new YV(e,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||t)(ge(Kd),ge(et),ge(ut))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function YE(t){return 0===t.buttons||0===t.detail}function ZE(t){const n=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const ZV=new Ie("cdk-input-modality-detector-options"),KV={ignoreKeys:[18,17,224,91,16]},pa=oc({passive:!0,capture:!0});let XV=(()=>{class t{get mostRecentModality(){return this._modality.value}constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new zn(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(c=>c===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Xr(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(YE(l)?"keyboard":"mouse"),this._mostRecentTarget=Xr(l))},this._onTouchstart=l=>{ZE(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Xr(l))},this._options={...KV,...o},this.modalityDetected=this._modality.pipe(qd(1)),this.modalityChanged=this.modalityDetected.pipe(ho()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,pa),r.addEventListener("mousedown",this._onMousedown,pa),r.addEventListener("touchstart",this._onTouchstart,pa)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,pa),document.removeEventListener("mousedown",this._onMousedown,pa),document.removeEventListener("touchstart",this._onTouchstart,pa))}static#e=this.\u0275fac=function(i){return new(i||t)(ge(jn),ge(et),ge(ut),ge(ZV,8))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const QV=new Ie("liveAnnouncerElement",{providedIn:"root",factory:function JV(){return null}}),eB=new Ie("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let tB=0,XE=(()=>{class t{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,l;return 1===i.length&&"number"==typeof i[0]?l=i[0]:[o,l]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==l&&r&&(l=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(c=>this._currentResolve=c)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof l&&(this._previousTimeout=setTimeout(()=>this.clear(),l)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+tB++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],l=o.getAttribute("aria-owns");l?-1===l.indexOf(e)&&o.setAttribute("aria-owns",l+" "+e):o.setAttribute("aria-owns",e)}}static#e=this.\u0275fac=function(i){return new(i||t)(ge(QV,8),ge(et),ge(ut),ge(eB,8))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const nB=new Ie("cdk-focus-monitor-default-options"),Xd=oc({passive:!0,capture:!0});let Qd=(()=>{class t{constructor(e,i,r,o,l){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new b,this._rootNodeFocusAndBlurListener=c=>{for(let h=Xr(c);h;h=h.parentElement)"focus"===c.type?this._onFocus(c,h):this._onBlur(c,h)},this._document=o,this._detectionMode=l?.detectionMode||0}monitor(e,i=!1){const r=ha(e);if(!this._platform.isBrowser||1!==r.nodeType)return Mn();const o=function dV(t){if(function uV(){if(null==Ig){const t=typeof document<"u"?document.head:null;Ig=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Ig}()){const n=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}(r)||this._getDocument(),l=this._elementInfo.get(r);if(l)return i&&(l.checkChildren=!0),l.subject;const c={checkChildren:i,subject:new b,rootNode:o};return this._elementInfo.set(r,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(e){const i=ha(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=ha(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([c,d])=>this._originChanged(c,i,d)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=Xr(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Xd),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Xd)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Hn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Xd),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Xd),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let l=0;l<o.length;l++)if(o[l].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||t)(ge(et),ge(jn),ge(XV),ge(ut,8),ge(nB,8))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const QE="cdk-high-contrast-black-on-white",JE="cdk-high-contrast-white-on-black",Bg="cdk-high-contrast-active";let eD=(()=>{class t{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=Je(Lg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Bg,QE,JE),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(Bg,QE):2===i&&e.add(Bg,JE)}}static#e=this.\u0275fac=function(i){return new(i||t)(ge(jn),ge(ut))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),iB=(()=>{class t{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||t)(ge(eD))};static#t=this.\u0275mod=ce({type:t});static#n=this.\u0275inj=bt({imports:[LE]})}return t})();const rB=new Ie("cdk-dir-doc",{providedIn:"root",factory:function oB(){return Je(ut)}}),sB=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Jd=(()=>{class t{constructor(e){this.value="ltr",this.change=new Jt,e&&(this.value=function aB(t){const n=t?.toLowerCase()||"";return"auto"===n&&typeof navigator<"u"&&navigator?.language?sB.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||t)(ge(rB,8))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ac=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=ce({type:t});static#n=this.\u0275inj=bt({})}return t})();const cB=new Ie("mat-sanity-checks",{providedIn:"root",factory:function lB(){return!0}});let Dn=(()=>{class t{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Rg()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(i){return new(i||t)(ge(eD),ge(cB,8),ge(ut))};static#t=this.\u0275mod=ce({type:t});static#n=this.\u0275inj=bt({imports:[ac,ac]})}return t})();function uB(t){return class extends t{get disabled(){return this._disabled}set disabled(n){this._disabled=Qr(n)}constructor(...n){super(...n),this._disabled=!1}}}function dB(t,n){return class extends t{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=n,this.color=n}}}function fB(t){return class extends t{get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=Qr(n)}constructor(...n){super(...n),this._disableRipple=!1}}}class pB{constructor(n,e,i,r=!1){this._renderer=n,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const iD=oc({passive:!0,capture:!0});class mB{constructor(){this._events=new Map,this._delegateEventHandler=n=>{const e=Xr(n);e&&this._events.get(n.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(n))})}}addHandler(n,e,i,r){const o=this._events.get(e);if(o){const l=o.get(i);l?l.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),n.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,iD)})}removeHandler(n,e,i){const r=this._events.get(n);if(!r)return;const o=r.get(e);o&&(o.delete(i),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(n),document.removeEventListener(n,this._delegateEventHandler,iD)))}}const rD={enterDuration:225,exitDuration:150},oD=oc({passive:!0,capture:!0}),sD=["mousedown","touchstart"],aD=["mouseup","mouseleave","touchend","touchcancel"];class ef{static#e=this._eventManager=new mB;constructor(n,e,i,r){this._target=n,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=ha(i))}fadeInRipple(n,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...rD,...i.animation};i.centered&&(n=r.left+r.width/2,e=r.top+r.height/2);const l=i.radius||function _B(t,n,e){const i=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),r=Math.max(Math.abs(n-e.top),Math.abs(n-e.bottom));return Math.sqrt(i*i+r*r)}(n,e,r),c=n-r.left,d=e-r.top,h=o.enterDuration,v=document.createElement("div");v.classList.add("mat-ripple-element"),v.style.left=c-l+"px",v.style.top=d-l+"px",v.style.height=2*l+"px",v.style.width=2*l+"px",null!=i.color&&(v.style.backgroundColor=i.color),v.style.transitionDuration=`${h}ms`,this._containerElement.appendChild(v);const w=window.getComputedStyle(v),k=w.transitionDuration,U="none"===w.transitionProperty||"0s"===k||"0s, 0s"===k||0===r.width&&0===r.height,J=new pB(this,v,i,U);v.style.transform="scale3d(1, 1, 1)",J.state=0,i.persistent||(this._mostRecentTransientRipple=J);let he=null;return!U&&(h||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const xe=()=>this._finishRippleTransition(J),pe=()=>this._destroyRipple(J);v.addEventListener("transitionend",xe),v.addEventListener("transitioncancel",pe),he={onTransitionEnd:xe,onTransitionCancel:pe}}),this._activeRipples.set(J,he),(U||!h)&&this._finishRippleTransition(J),J}fadeOutRipple(n){if(2===n.state||3===n.state)return;const e=n.element,i={...rD,...n.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",n.state=2,(n._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const e=ha(n);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,sD.forEach(i=>{ef._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{aD.forEach(e=>{this._triggerElement.addEventListener(e,this,oD)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){0===n.state?this._startFadeOutTransition(n):2===n.state&&this._destroyRipple(n)}_startFadeOutTransition(n){const e=n===this._mostRecentTransientRipple,{persistent:i}=n.config;n.state=1,!i&&(!e||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){const e=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=3,null!==e&&(n.element.removeEventListener("transitionend",e.onTransitionEnd),n.element.removeEventListener("transitioncancel",e.onTransitionCancel)),n.element.remove()}_onMousedown(n){const e=YE(n),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!ZE(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=n.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{!n.config.persistent&&(1===n.state||n.config.terminateOnPointerUp&&0===n.state)&&n.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const n=this._triggerElement;n&&(sD.forEach(e=>ef._eventManager.removeHandler(e,n,this)),this._pointerUpEventsRegistered&&aD.forEach(e=>n.removeEventListener(e,this,oD)))}}const lD=new Ie("mat-ripple-global-options");let vB=(()=>{class t{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,o,l){this._elementRef=e,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new ef(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(i){return new(i||t)(ae(At),ae(et),ae(jn),ae(lD,8),ae(qr,8))};static#t=this.\u0275dir=Ae({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&Xi("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return t})(),yB=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=ce({type:t});static#n=this.\u0275inj=bt({imports:[Dn,Dn]})}return t})();const cD={capture:!0},uD=["focus","click","mouseenter","touchstart"],Hg="mat-ripple-loader-uninitialized",jg="mat-ripple-loader-class-name",dD="mat-ripple-loader-centered",tf="mat-ripple-loader-disabled";let bB=(()=>{class t{constructor(){this._document=Je(ut,{optional:!0}),this._animationMode=Je(qr,{optional:!0}),this._globalRippleOptions=Je(lD,{optional:!0}),this._platform=Je(jn),this._ngZone=Je(et),this._hosts=new Map,this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${Hg}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of uD)this._document?.addEventListener(e,this._onInteraction,cD)})}ngOnDestroy(){const e=this._hosts.keys();for(const i of e)this.destroyRipple(i);for(const i of uD)this._document?.removeEventListener(i,this._onInteraction,cD)}configureRipple(e,i){e.setAttribute(Hg,""),(i.className||!e.hasAttribute(jg))&&e.setAttribute(jg,i.className||""),i.centered&&e.setAttribute(dD,""),i.disabled&&e.setAttribute(tf,"")}getRipple(e){return this._hosts.get(e)||this._createRipple(e)}setDisabled(e,i){const r=this._hosts.get(e);r?r.disabled=i:i?e.setAttribute(tf,""):e.removeAttribute(tf)}_createRipple(e){if(!this._document)return;const i=this._hosts.get(e);if(i)return i;e.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",e.getAttribute(jg)),e.append(r);const o=new vB(new At(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=e,o.centered=e.hasAttribute(dD),o.disabled=e.hasAttribute(tf),this.attachRipple(e,o),o}attachRipple(e,i){e.removeAttribute(Hg),this._hosts.set(e,i)}destroyRipple(e){const i=this._hosts.get(e);i&&(i.ngOnDestroy(),this._hosts.delete(e))}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const CB=["mat-button",""],wB=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],xB=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],EB=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],DB=dB(uB(fB(class{constructor(t){this._elementRef=t}})));let SB=(()=>{class t extends DB{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Qr(e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=Qr(e),this._updateRippleDisabled()}constructor(e,i,r,o){super(e),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=Je(Qd),this._rippleLoader=Je(bB),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const l=e.nativeElement.classList;for(const c of EB)this._hasHostAttributes(c.selector)&&c.mdcClasses.forEach(d=>{l.add(d)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){Up()};static#t=this.\u0275dir=Ae({type:t,features:[Ue]})}return t})(),fD=(()=>{class t extends SB{constructor(e,i,r,o){super(e,i,r,o)}static#e=this.\u0275fac=function(i){return new(i||t)(ae(At),ae(jn),ae(et),ae(qr,8))};static#t=this.\u0275cmp=m({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(ii("disabled",r.disabled||null),Xi("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Ue],attrs:CB,ngContentSelectors:xB,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(pd(wB),_n(0,"span",0),Gr(1),ft(2,"span",1),Gr(3,1),mt(),Gr(4,2),_n(5,"span",2)(6,"span",3)),2&i&&Xi("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return t})(),hD=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=ce({type:t});static#n=this.\u0275inj=bt({imports:[Dn,yB,Dn]})}return t})();class pD{}class IB{}const Er="*";function Ug(t,n){return{type:7,name:t,definitions:n,options:{}}}function cc(t,n=null){return{type:4,styles:n,timings:t}}function gD(t,n=null){return{type:2,steps:t,options:n}}function Ni(t){return{type:6,styles:t,offset:null}}function uc(t,n,e){return{type:0,name:t,styles:n,options:e}}function dc(t,n,e=null){return{type:1,expr:t,animation:n,options:e}}class fc{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class yD{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++e==o&&this._onFinish()}),l.onDestroy(()=>{++i==o&&this._onDestroy()}),l.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((l,c)=>Math.max(l,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const n=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class $g{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class hc extends $g{constructor(n,e,i,r,o){super(),this.component=n,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class qg extends $g{constructor(n,e,i,r){super(),this.templateRef=n,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class MB extends $g{constructor(n){super(),this.element=n instanceof At?n.nativeElement:n}}class nf{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof hc?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof qg?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof MB?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class RB extends nf{constructor(n,e,i,r,o){super(),this.outletElement=n,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=l=>{const c=l.element,d=this._document.createComment("dom-portal");c.parentNode.insertBefore(d,c),this.outletElement.appendChild(c),this._attachedPortal=l,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(c,d)})},this._document=o}attachComponentPortal(n){const i=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let r;return n.viewContainerRef?(r=n.viewContainerRef.createComponent(i,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector,n.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(n.injector||this._defaultInjector||Yt.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=n,r}attachTemplatePortal(n){let e=n.viewContainerRef,i=e.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=n,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let pc=(()=>{class t extends nf{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Jt,this.attachDomPortal=o=>{const l=o.element,c=this._document.createComment("dom-portal");o.setAttachedHost(this),l.parentNode.insertBefore(c,l),this._getRootNode().appendChild(l),this._attachedPortal=o,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(l,c)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),l=i.createComponent(o,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(l.hostView.rootNodes[0]),super.setDisposeFn(()=>l.destroy()),this._attachedPortal=e,this._attachedRef=l,this.attached.emit(l),l}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static#e=this.\u0275fac=function(i){return new(i||t)(ae($s),ae(En),ae(ut))};static#t=this.\u0275dir=Ae({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ue]})}return t})(),mc=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=ce({type:t});static#n=this.\u0275inj=bt({})}return t})();const OB=["addListener","removeListener"],kB=["addEventListener","removeEventListener"],NB=["on","off"];function Gg(t,n,e,i){if(re(e)&&(i=e,e=void 0),i)return Gg(t,n,e).pipe(Og(i));const[r,o]=function LB(t){return re(t.addEventListener)&&re(t.removeEventListener)}(t)?kB.map(l=>c=>t[l](n,c,e)):function FB(t){return re(t.addListener)&&re(t.removeListener)}(t)?OB.map(bD(t,n)):function PB(t){return re(t.on)&&re(t.off)}(t)?NB.map(bD(t,n)):[];if(!r&&uo(t))return sr(l=>Gg(l,n,e))(qt(t));if(!r)throw new TypeError("Invalid event target");return new q(l=>{const c=(...d)=>l.next(1<d.length?d:d[0]);return r(c),()=>o(c)})}function bD(t,n){return e=>i=>t[e](n,i)}const gc={schedule(t){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=gc;i&&(n=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=n(o=>{e=void 0,t(o)});return new ye(()=>e?.(r))},requestAnimationFrame(...t){const{delegate:n}=gc;return(n?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:n}=gc;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};new class BB extends Fg{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;n=n||i.shift();do{if(r=n.execute(n.state,n.delay))break}while((n=i[0])&&n.id===e&&i.shift());if(this._active=!1,r){for(;(n=i[0])&&n.id===e&&i.shift();)n.unsubscribe();throw r}}}(class VB extends Ng{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return null!==i&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=gc.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(n,e,i);const{actions:o}=n;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(gc.cancelAnimationFrame(e),n._scheduled=void 0)}});let Wg,jB=1;const rf={};function CD(t){return t in rf&&(delete rf[t],!0)}const UB={setImmediate(t){const n=jB++;return rf[n]=!0,Wg||(Wg=Promise.resolve()),Wg.then(()=>CD(n)&&t()),n},clearImmediate(t){CD(t)}},{setImmediate:zB,clearImmediate:$B}=UB,sf={setImmediate(...t){const{delegate:n}=sf;return(n?.setImmediate||zB)(...t)},clearImmediate(t){const{delegate:n}=sf;return(n?.clearImmediate||$B)(t)},delegate:void 0};new class GB extends Fg{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;n=n||i.shift();do{if(r=n.execute(n.state,n.delay))break}while((n=i[0])&&n.id===e&&i.shift());if(this._active=!1,r){for(;(n=i[0])&&n.id===e&&i.shift();)n.unsubscribe();throw r}}}(class qB extends Ng{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return null!==i&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=sf.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(n,e,i);const{actions:o}=n;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(sf.clearImmediate(e),n._scheduled===e&&(n._scheduled=void 0))}});function wD(t=0,n,e=MV){let i=-1;return null!=n&&(Or(n)?e=n:i=n),new q(r=>{let o=function ZB(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;o<0&&(o=0);let l=0;return e.schedule(function(){r.closed||(r.next(l++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function xD(t,n=Zd){return function YB(t){return ee((n,e)=>{let i=!1,r=null,o=null,l=!1;const c=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const h=r;r=null,e.next(h)}l&&e.complete()},d=()=>{o=null,l&&e.complete()};n.subscribe(ie(e,h=>{i=!0,r=h,o||qt(t(h)).subscribe(o=ie(e,c,d))},()=>{l=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>wD(t,n))}let XB=(()=>{class t{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new b,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new q(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(xD(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Mn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(tr(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=ha(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Gg(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||t)(ge(et),ge(jn),ge(ut,8))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Yg=(()=>{class t{constructor(e,i,r){this._platform=e,this._change=new b,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(xD(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||t)(ge(jn),ge(et),ge(ut,8))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ED=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=ce({type:t});static#n=this.\u0275inj=bt({})}return t})(),Zg=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=ce({type:t});static#n=this.\u0275inj=bt({imports:[ac,ED,ac,ED]})}return t})();const DD=cV();class JB{constructor(n,e){this._viewportRuler=n,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=rn(-this._previousScrollPosition.left),n.style.top=rn(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const n=this._document.documentElement,i=n.style,r=this._document.body.style,o=i.scrollBehavior||"",l=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),DD&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),DD&&(i.scrollBehavior=o,r.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class eH{constructor(n,e,i,r){this._scrollDispatcher=n,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(n){this._overlayRef=n}enable(){if(this._scrollSubscription)return;const n=this._scrollDispatcher.scrolled(0).pipe(tr(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class SD{enable(){}disable(){}attach(){}}function Kg(t,n){return n.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function TD(t,n){return n.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class tH{constructor(n,e,i,r){this._scrollDispatcher=n,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(n){this._overlayRef=n}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Kg(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let nH=(()=>{class t{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new SD,this.close=l=>new eH(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new JB(this._viewportRuler,this._document),this.reposition=l=>new tH(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=o}static#e=this.\u0275fac=function(i){return new(i||t)(ge(XB),ge(Yg),ge(et),ge(ut))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Xg{constructor(n){if(this.scrollStrategy=new SD,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n){const e=Object.keys(n);for(const i of e)void 0!==n[i]&&(this[i]=n[i])}}}class iH{constructor(n,e){this.connectionPair=n,this.scrollableViewProperties=e}}let AD=(()=>{class t{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||t)(ge(ut))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),rH=(()=>{class t extends AD{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let l=o.length-1;l>-1;l--)if(o[l]._keydownEvents.observers.length>0){const c=o[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(r)):c.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||t)(ge(ut),ge(et,8))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),oH=(()=>{class t extends AD{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Xr(o)},this._clickListener=o=>{const l=Xr(o),c="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const d=this._attachedOverlays.slice();for(let h=d.length-1;h>-1;h--){const v=d[h];if(v._outsidePointerEvents.observers.length<1||!v.hasAttached())continue;if(v.overlayElement.contains(l)||v.overlayElement.contains(c))break;const w=v._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>w.next(o)):w.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||t)(ge(ut),ge(jn),ge(et,8))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),af=(()=>{class t{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Rg()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),Rg()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||t)(ge(ut),ge(jn))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class _c{constructor(n,e,i,r,o,l,c,d,h,v=!1){this._portalOutlet=n,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=l,this._document=c,this._location=d,this._outsideClickDispatcher=h,this._animationsDisabled=v,this._backdropElement=null,this._backdropClick=new b,this._attachments=new b,this._detachments=new b,this._locationChanges=ye.EMPTY,this._backdropClickHandler=w=>this._backdropClick.next(w),this._backdropTransitionendHandler=w=>{this._disposeBackdrop(w.target)},this._keydownEvents=new b,this._outsidePointerEvents=new b,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(n);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(xr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){const n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,n&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config={...this._config,...n},this._updateElementSize()}setDirection(n){this._config={...this._config,direction:n},this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){const n=this._config.direction;return n?"string"==typeof n?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const n=this._pane.style;n.width=rn(this._config.width),n.height=rn(this._config.height),n.minWidth=rn(this._config.minWidth),n.minHeight=rn(this._config.minHeight),n.maxWidth=rn(this._config.maxWidth),n.maxHeight=rn(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){const n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const n=this._backdropElement;if(n){if(this._animationsDisabled)return void this._disposeBackdrop(n);n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",this._backdropTransitionendHandler)}),n.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(n)},500))}}_toggleClasses(n,e,i){const r=Wd(e||[]).filter(o=>!!o);r.length&&(i?n.classList.add(...r):n.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const n=this._ngZone.onStable.pipe(Hn(rs(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){const n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",this._backdropTransitionendHandler),n.remove(),this._backdropElement===n&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const ID="cdk-overlay-connected-position-bounding-box",sH=/([A-Za-z%]+)$/;class aH{get positions(){return this._preferredPositions}constructor(n,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new b,this._resizeSubscription=ye.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(n)}attach(n){this._validatePositions(),n.hostElement.classList.add(ID),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let l;for(let c of this._preferredPositions){let d=this._getOriginPoint(n,r,c),h=this._getOverlayPoint(d,e,c),v=this._getOverlayFit(h,e,i,c);if(v.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,d);this._canFitWithFlexibleDimensions(v,h,i)?o.push({position:c,origin:d,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(d,c)}):(!l||l.overlayFit.visibleArea<v.visibleArea)&&(l={overlayFit:v,overlayPoint:h,originPoint:d,position:c,overlayRect:e})}if(o.length){let c=null,d=-1;for(const h of o){const v=h.boundingBoxRect.width*h.boundingBoxRect.height*(h.position.weight||1);v>d&&(d=v,c=h)}return this._isPushed=!1,void this._applyPosition(c.position,c.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Uo(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ID),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,e)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,-1===n.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,e,i){let r,o;if("center"==i.originX)r=n.left+n.width/2;else{const l=this._isRtl()?n.right:n.left,c=this._isRtl()?n.left:n.right;r="start"==i.originX?l:c}return e.left<0&&(r-=e.left),o="center"==i.originY?n.top+n.height/2:"top"==i.originY?n.top:n.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(n,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:n.x+r,y:n.y+o}}_getOverlayFit(n,e,i,r){const o=RD(e);let{x:l,y:c}=n,d=this._getOffset(r,"x"),h=this._getOffset(r,"y");d&&(l+=d),h&&(c+=h);let M=0-c,k=c+o.height-i.height,U=this._subtractOverflows(o.width,0-l,l+o.width-i.width),J=this._subtractOverflows(o.height,M,k),he=U*J;return{visibleArea:he,isCompletelyWithinViewport:o.width*o.height===he,fitsInViewportVertically:J===o.height,fitsInViewportHorizontally:U==o.width}}_canFitWithFlexibleDimensions(n,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,l=MD(this._overlayRef.getConfig().minHeight),c=MD(this._overlayRef.getConfig().minWidth);return(n.fitsInViewportVertically||null!=l&&l<=r)&&(n.fitsInViewportHorizontally||null!=c&&c<=o)}return!1}_pushOverlayOnScreen(n,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};const r=RD(e),o=this._viewportRect,l=Math.max(n.x+r.width-o.width,0),c=Math.max(n.y+r.height-o.height,0),d=Math.max(o.top-i.top-n.y,0),h=Math.max(o.left-i.left-n.x,0);let v=0,w=0;return v=r.width<=o.width?h||-l:n.x<this._viewportMargin?o.left-i.left-n.x:0,w=r.height<=o.height?d||-c:n.y<this._viewportMargin?o.top-i.top-n.y:0,this._previousPushAmount={x:v,y:w},{x:n.x+v,y:n.y+w}}_applyPosition(n,e){if(this._setTransformOrigin(n),this._setOverlayElementStyles(e,n),this._setBoundingBoxStyles(e,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._lastPosition=n,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new iH(n,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=n.overlayY;i="center"===n.overlayX?"center":this._isRtl()?"start"===n.overlayX?"right":"left":"start"===n.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(n,e){const i=this._viewportRect,r=this._isRtl();let o,l,c,v,w,M;if("top"===e.overlayY)l=n.y,o=i.height-l+this._viewportMargin;else if("bottom"===e.overlayY)c=i.height-n.y+2*this._viewportMargin,o=i.height-c+this._viewportMargin;else{const k=Math.min(i.bottom-n.y+i.top,n.y),U=this._lastBoundingBoxSize.height;o=2*k,l=n.y-k,o>U&&!this._isInitialRender&&!this._growAfterOpen&&(l=n.y-U/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)M=i.width-n.x+this._viewportMargin,v=n.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)w=n.x,v=i.right-n.x;else{const k=Math.min(i.right-n.x+i.left,n.x),U=this._lastBoundingBoxSize.width;v=2*k,w=n.x-k,v>U&&!this._isInitialRender&&!this._growAfterOpen&&(w=n.x-U/2)}return{top:l,left:w,bottom:c,right:M,width:v,height:o}}_setBoundingBoxStyles(n,e){const i=this._calculateBoundingBoxRect(n,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;r.height=rn(i.height),r.top=rn(i.top),r.bottom=rn(i.bottom),r.width=rn(i.width),r.left=rn(i.left),r.right=rn(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=rn(o)),l&&(r.maxWidth=rn(l))}this._lastBoundingBoxSize=i,Uo(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Uo(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Uo(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(r){const v=this._viewportRuler.getViewportScrollPosition();Uo(i,this._getExactOverlayY(e,n,v)),Uo(i,this._getExactOverlayX(e,n,v))}else i.position="static";let c="",d=this._getOffset(e,"x"),h=this._getOffset(e,"y");d&&(c+=`translateX(${d}px) `),h&&(c+=`translateY(${h}px)`),i.transform=c.trim(),l.maxHeight&&(r?i.maxHeight=rn(l.maxHeight):o&&(i.maxHeight="")),l.maxWidth&&(r?i.maxWidth=rn(l.maxWidth):o&&(i.maxWidth="")),Uo(this._pane.style,i)}_getExactOverlayY(n,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===n.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=rn(o.y),r}_getExactOverlayX(n,e,i){let l,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),l=this._isRtl()?"end"===n.overlayX?"left":"right":"end"===n.overlayX?"right":"left","right"===l?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=rn(o.x),r}_getScrollVisibility(){const n=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:TD(n,i),isOriginOutsideView:Kg(n,i),isOverlayClipped:TD(e,i),isOverlayOutsideView:Kg(e,i)}}_subtractOverflows(n,...e){return e.reduce((i,r)=>i-Math.max(r,0),n)}_getNarrowedViewportRect(){const n=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+n-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:n-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,e){return"x"===e?null==n.offsetX?this._offsetX:n.offsetX:null==n.offsetY?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&Wd(n).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){const n=this._origin;if(n instanceof At)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();const e=n.width||0,i=n.height||0;return{top:n.y,bottom:n.y+i,left:n.x,right:n.x+e,height:i,width:e}}}function Uo(t,n){for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}function MD(t){if("number"!=typeof t&&null!=t){const[n,e]=t.split(sH);return e&&"px"!==e?null:parseFloat(n)}return t||null}function RD(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}const OD="cdk-global-overlay-wrapper";class lH{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(n){const e=n.getConfig();this._overlayRef=n,this._width&&!e.width&&n.updateSize({width:this._width}),this._height&&!e.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(OD),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._xOffset=n,this._xPosition="left",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._xOffset=n,this._xPosition="right",this}start(n=""){return this._xOffset=n,this._xPosition="start",this}end(n=""){return this._xOffset=n,this._xPosition="end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._xPosition="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:l,maxHeight:c}=i,d=!("100%"!==r&&"100vw"!==r||l&&"100%"!==l&&"100vw"!==l),h=!("100%"!==o&&"100vh"!==o||c&&"100%"!==c&&"100vh"!==c),v=this._xPosition,w=this._xOffset,M="rtl"===this._overlayRef.getConfig().direction;let k="",U="",J="";d?J="flex-start":"center"===v?(J="center",M?U=w:k=w):M?"left"===v||"end"===v?(J="flex-end",k=w):("right"===v||"start"===v)&&(J="flex-start",U=w):"left"===v||"start"===v?(J="flex-start",k=w):("right"===v||"end"===v)&&(J="flex-end",U=w),n.position=this._cssPosition,n.marginLeft=d?"0":k,n.marginTop=h?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=d?"0":U,e.justifyContent=J,e.alignItems=h?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(OD),i.justifyContent=i.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}}let cH=(()=>{class t{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new lH}flexibleConnectedTo(e){return new aH(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||t)(ge(Yg),ge(ut),ge(jn),ge(af))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),uH=0,Jr=(()=>{class t{constructor(e,i,r,o,l,c,d,h,v,w,M,k){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=l,this._injector=c,this._ngZone=d,this._document=h,this._directionality=v,this._location=w,this._outsideClickDispatcher=M,this._animationsModuleType=k}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),l=new Xg(e);return l.direction=l.direction||this._directionality.value,new _c(o,i,r,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+uH++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Lo)),new RB(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||t)(ge(nH),ge(af),ge($s),ge(cH),ge(rH),ge(Yt),ge(et),ge(ut),ge(Jd),ge(Jm),ge(oH),ge(qr,8))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const hH={provide:new Ie("cdk-connected-overlay-scroll-strategy"),deps:[Jr],useFactory:function fH(t){return()=>t.scrollStrategies.reposition()}};let Qg=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=ce({type:t});static#n=this.\u0275inj=bt({providers:[Jr,hH],imports:[ac,mc,Zg,Zg]})}return t})();function pH(t,n){if(1&t){const e=am();ft(0,"div",2)(1,"button",3),vn("click",function(){return Ih(e),Mh(_r().action())}),un(2),mt()()}if(2&t){const e=_r();Nt(2),vr(" ",e.data.action," ")}}const mH=["label"];function gH(t,n){}const _H=Math.pow(2,31)-1;class Jg{constructor(n,e){this._overlayRef=e,this._afterDismissed=new b,this._afterOpened=new b,this._onAction=new b,this._dismissedByAction=!1,this.containerInstance=n,n._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(n){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(n,_H))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const kD=new Ie("MatSnackBarData");class lf{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let vH=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Ae({type:t,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return t})(),yH=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Ae({type:t,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return t})(),bH=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=Ae({type:t,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return t})(),CH=(()=>{class t{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(i){return new(i||t)(ae(Jg),ae(kD))};static#t=this.\u0275cmp=m({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(i,r){1&i&&(ft(0,"div",0),un(1),mt(),Ft(2,pH,3,1,"div",1)),2&i&&(Nt(1),vr(" ",r.data.message,"\n"),Nt(1),Pn("ngIf",r.hasAction))},dependencies:[jd,fD,vH,yH,bH],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return t})();const wH={snackBarState:Ug("state",[uc("void, hidden",Ni({transform:"scale(0.8)",opacity:0})),uc("visible",Ni({transform:"scale(1)",opacity:1})),dc("* => visible",cc("150ms cubic-bezier(0, 0, 0.2, 1)")),dc("* => void, * => hidden",cc("75ms cubic-bezier(0.4, 0.0, 1, 1)",Ni({opacity:0})))])};let xH=0,EH=(()=>{class t extends nf{constructor(e,i,r,o,l){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=l,this._document=Je(ut),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new b,this._onExit=new b,this._onEnter=new b,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+xH++,this.attachDomPortal=c=>{this._assertNotAttached();const d=this._portalOutlet.attachDomPortal(c);return this._afterPortalAttached(),d},this._live="assertive"!==l.politeness||l.announcementMessage?"off"===l.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(xr(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i)),this._exposeToModals()}_exposeToModals(){const e=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],l=o.getAttribute("aria-owns");this._trackedModals.add(o),l?-1===l.indexOf(e)&&o.setAttribute("aria-owns",l+" "+e):o.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{const i=e.getAttribute("aria-owns");if(i){const r=i.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(i){return new(i||t)(ae(et),ae(At),ae(Td),ae(jn),ae(lf))};static#t=this.\u0275dir=Ae({type:t,viewQuery:function(i,r){if(1&i&&Ri(pc,7),2&i){let o;ln(o=cn())&&(r._portalOutlet=o.first)}},features:[Ue]})}return t})(),DH=(()=>{class t extends EH{_afterPortalAttached(){super._afterPortalAttached();const e=this._label.nativeElement,i="mdc-snackbar__label";e.classList.toggle(i,!e.querySelector(`.${i}`))}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(t)))(r||t)}}();static#t=this.\u0275cmp=m({type:t,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,r){if(1&i&&Ri(mH,7),2&i){let o;ln(o=cn())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(i,r){1&i&&lm("@state.done",function(l){return r.onAnimationEnd(l)}),2&i&&mm("@state",r._animationState)},features:[Ue],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(ft(0,"div",0)(1,"div",1,2)(3,"div",3),Ft(4,gH,0,0,"ng-template",4),mt(),_n(5,"div"),mt()()),2&i&&(Nt(5),ii("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[pc],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[wH.snackBarState]}})}return t})(),SH=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=ce({type:t});static#n=this.\u0275inj=bt({imports:[Qg,mc,mg,hD,Dn,Dn]})}return t})();const ND=new Ie("mat-snack-bar-default-options",{providedIn:"root",factory:function TH(){return new lf}});let AH=(()=>{class t{get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,i,r,o,l,c){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=l,this._defaultConfig=c,this._snackBarRefAtThisLevel=null}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const o={...this._defaultConfig,...r};return o.data={message:e,action:i},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const o=Yt.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:lf,useValue:i}]}),l=new hc(this.snackBarContainerComponent,i.viewContainerRef,o),c=e.attach(l);return c.instance.snackBarConfig=i,c.instance}_attach(e,i){const r={...new lf,...this._defaultConfig,...i},o=this._createOverlay(r),l=this._attachSnackBarContainer(o,r),c=new Jg(l,o);if(e instanceof an){const d=new qg(e,null,{$implicit:r.data,snackBarRef:c});c.instance=l.attachTemplatePortal(d)}else{const d=this._createInjector(r,c),h=new hc(e,void 0,d),v=l.attachComponentPortal(h);c.instance=v.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Hn(o.detachments())).subscribe(d=>{o.overlayElement.classList.toggle(this.handsetCssClass,d.matches)}),r.announcementMessage&&l._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(c,r),this._openedSnackBarRef=c,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new Xg;i.direction=e.direction;let r=this._overlay.position().global();const o="rtl"===e.direction,l="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!o||"end"===e.horizontalPosition&&o,c=!l&&"center"!==e.horizontalPosition;return l?r.left("0"):c?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return Yt.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Jg,useValue:i},{provide:kD,useValue:e.data}]})}static#e=this.\u0275fac=function(i){return new(i||t)(ge(Jr),ge(XE),ge(Yt),ge(Lg),ge(t,12),ge(ND))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}return t})(),FD=(()=>{class t extends AH{constructor(e,i,r,o,l,c){super(e,i,r,o,l,c),this.simpleSnackBarComponent=CH,this.snackBarContainerComponent=DH,this.handsetCssClass="mat-mdc-snack-bar-handset"}static#e=this.\u0275fac=function(i){return new(i||t)(ge(Jr),ge(XE),ge(Yt),ge(Lg),ge(t,12),ge(ND))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:SH})}return t})(),e_=(()=>{class t{constructor(e){this._snackBar=e}openToast(e,i="",r=2e3){this._snackBar.open(e,i,{duration:r,horizontalPosition:"right",verticalPosition:"top"})}static#e=this.\u0275fac=function(i){return new(i||t)(ge(FD))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class tn{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(n,e=!1){return this.onePassHasher.start().appendStr(n).end(e)}static hashAsciiStr(n,e=!1){return this.onePassHasher.start().appendAsciiStr(n).end(e)}static _hex(n){const e=tn.hexChars,i=tn.hexOut;let r,o,l,c;for(c=0;c<4;c+=1)for(o=8*c,r=n[c],l=0;l<8;l+=2)i[o+1+l]=e.charAt(15&r),r>>>=4,i[o+0+l]=e.charAt(15&r),r>>>=4;return i.join("")}static _md5cycle(n,e){let i=n[0],r=n[1],o=n[2],l=n[3];i+=(r&o|~r&l)+e[0]-680876936|0,i=(i<<7|i>>>25)+r|0,l+=(i&r|~i&o)+e[1]-389564586|0,l=(l<<12|l>>>20)+i|0,o+=(l&i|~l&r)+e[2]+606105819|0,o=(o<<17|o>>>15)+l|0,r+=(o&l|~o&i)+e[3]-1044525330|0,r=(r<<22|r>>>10)+o|0,i+=(r&o|~r&l)+e[4]-176418897|0,i=(i<<7|i>>>25)+r|0,l+=(i&r|~i&o)+e[5]+1200080426|0,l=(l<<12|l>>>20)+i|0,o+=(l&i|~l&r)+e[6]-1473231341|0,o=(o<<17|o>>>15)+l|0,r+=(o&l|~o&i)+e[7]-45705983|0,r=(r<<22|r>>>10)+o|0,i+=(r&o|~r&l)+e[8]+1770035416|0,i=(i<<7|i>>>25)+r|0,l+=(i&r|~i&o)+e[9]-1958414417|0,l=(l<<12|l>>>20)+i|0,o+=(l&i|~l&r)+e[10]-42063|0,o=(o<<17|o>>>15)+l|0,r+=(o&l|~o&i)+e[11]-1990404162|0,r=(r<<22|r>>>10)+o|0,i+=(r&o|~r&l)+e[12]+1804603682|0,i=(i<<7|i>>>25)+r|0,l+=(i&r|~i&o)+e[13]-40341101|0,l=(l<<12|l>>>20)+i|0,o+=(l&i|~l&r)+e[14]-1502002290|0,o=(o<<17|o>>>15)+l|0,r+=(o&l|~o&i)+e[15]+1236535329|0,r=(r<<22|r>>>10)+o|0,i+=(r&l|o&~l)+e[1]-165796510|0,i=(i<<5|i>>>27)+r|0,l+=(i&o|r&~o)+e[6]-1069501632|0,l=(l<<9|l>>>23)+i|0,o+=(l&r|i&~r)+e[11]+643717713|0,o=(o<<14|o>>>18)+l|0,r+=(o&i|l&~i)+e[0]-373897302|0,r=(r<<20|r>>>12)+o|0,i+=(r&l|o&~l)+e[5]-701558691|0,i=(i<<5|i>>>27)+r|0,l+=(i&o|r&~o)+e[10]+38016083|0,l=(l<<9|l>>>23)+i|0,o+=(l&r|i&~r)+e[15]-660478335|0,o=(o<<14|o>>>18)+l|0,r+=(o&i|l&~i)+e[4]-405537848|0,r=(r<<20|r>>>12)+o|0,i+=(r&l|o&~l)+e[9]+568446438|0,i=(i<<5|i>>>27)+r|0,l+=(i&o|r&~o)+e[14]-1019803690|0,l=(l<<9|l>>>23)+i|0,o+=(l&r|i&~r)+e[3]-187363961|0,o=(o<<14|o>>>18)+l|0,r+=(o&i|l&~i)+e[8]+1163531501|0,r=(r<<20|r>>>12)+o|0,i+=(r&l|o&~l)+e[13]-1444681467|0,i=(i<<5|i>>>27)+r|0,l+=(i&o|r&~o)+e[2]-51403784|0,l=(l<<9|l>>>23)+i|0,o+=(l&r|i&~r)+e[7]+1735328473|0,o=(o<<14|o>>>18)+l|0,r+=(o&i|l&~i)+e[12]-1926607734|0,r=(r<<20|r>>>12)+o|0,i+=(r^o^l)+e[5]-378558|0,i=(i<<4|i>>>28)+r|0,l+=(i^r^o)+e[8]-2022574463|0,l=(l<<11|l>>>21)+i|0,o+=(l^i^r)+e[11]+1839030562|0,o=(o<<16|o>>>16)+l|0,r+=(o^l^i)+e[14]-35309556|0,r=(r<<23|r>>>9)+o|0,i+=(r^o^l)+e[1]-1530992060|0,i=(i<<4|i>>>28)+r|0,l+=(i^r^o)+e[4]+1272893353|0,l=(l<<11|l>>>21)+i|0,o+=(l^i^r)+e[7]-155497632|0,o=(o<<16|o>>>16)+l|0,r+=(o^l^i)+e[10]-1094730640|0,r=(r<<23|r>>>9)+o|0,i+=(r^o^l)+e[13]+681279174|0,i=(i<<4|i>>>28)+r|0,l+=(i^r^o)+e[0]-358537222|0,l=(l<<11|l>>>21)+i|0,o+=(l^i^r)+e[3]-722521979|0,o=(o<<16|o>>>16)+l|0,r+=(o^l^i)+e[6]+76029189|0,r=(r<<23|r>>>9)+o|0,i+=(r^o^l)+e[9]-640364487|0,i=(i<<4|i>>>28)+r|0,l+=(i^r^o)+e[12]-421815835|0,l=(l<<11|l>>>21)+i|0,o+=(l^i^r)+e[15]+530742520|0,o=(o<<16|o>>>16)+l|0,r+=(o^l^i)+e[2]-995338651|0,r=(r<<23|r>>>9)+o|0,i+=(o^(r|~l))+e[0]-198630844|0,i=(i<<6|i>>>26)+r|0,l+=(r^(i|~o))+e[7]+1126891415|0,l=(l<<10|l>>>22)+i|0,o+=(i^(l|~r))+e[14]-1416354905|0,o=(o<<15|o>>>17)+l|0,r+=(l^(o|~i))+e[5]-57434055|0,r=(r<<21|r>>>11)+o|0,i+=(o^(r|~l))+e[12]+1700485571|0,i=(i<<6|i>>>26)+r|0,l+=(r^(i|~o))+e[3]-1894986606|0,l=(l<<10|l>>>22)+i|0,o+=(i^(l|~r))+e[10]-1051523|0,o=(o<<15|o>>>17)+l|0,r+=(l^(o|~i))+e[1]-2054922799|0,r=(r<<21|r>>>11)+o|0,i+=(o^(r|~l))+e[8]+1873313359|0,i=(i<<6|i>>>26)+r|0,l+=(r^(i|~o))+e[15]-30611744|0,l=(l<<10|l>>>22)+i|0,o+=(i^(l|~r))+e[6]-1560198380|0,o=(o<<15|o>>>17)+l|0,r+=(l^(o|~i))+e[13]+1309151649|0,r=(r<<21|r>>>11)+o|0,i+=(o^(r|~l))+e[4]-145523070|0,i=(i<<6|i>>>26)+r|0,l+=(r^(i|~o))+e[11]-1120210379|0,l=(l<<10|l>>>22)+i|0,o+=(i^(l|~r))+e[2]+718787259|0,o=(o<<15|o>>>17)+l|0,r+=(l^(o|~i))+e[9]-343485551|0,r=(r<<21|r>>>11)+o|0,n[0]=i+n[0]|0,n[1]=r+n[1]|0,n[2]=o+n[2]|0,n[3]=l+n[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(tn.stateIdentity),this}appendStr(n){const e=this._buffer8,i=this._buffer32;let o,l,r=this._bufferLength;for(l=0;l<n.length;l+=1){if(o=n.charCodeAt(l),o<128)e[r++]=o;else if(o<2048)e[r++]=192+(o>>>6),e[r++]=63&o|128;else if(o<55296||o>56319)e[r++]=224+(o>>>12),e[r++]=o>>>6&63|128,e[r++]=63&o|128;else{if(o=1024*(o-55296)+(n.charCodeAt(++l)-56320)+65536,o>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");e[r++]=240+(o>>>18),e[r++]=o>>>12&63|128,e[r++]=o>>>6&63|128,e[r++]=63&o|128}r>=64&&(this._dataLength+=64,tn._md5cycle(this._state,i),r-=64,i[0]=i[16])}return this._bufferLength=r,this}appendAsciiStr(n){const e=this._buffer8,i=this._buffer32;let o,r=this._bufferLength,l=0;for(;;){for(o=Math.min(n.length-l,64-r);o--;)e[r++]=n.charCodeAt(l++);if(r<64)break;this._dataLength+=64,tn._md5cycle(this._state,i),r=0}return this._bufferLength=r,this}appendByteArray(n){const e=this._buffer8,i=this._buffer32;let o,r=this._bufferLength,l=0;for(;;){for(o=Math.min(n.length-l,64-r);o--;)e[r++]=n[l++];if(r<64)break;this._dataLength+=64,tn._md5cycle(this._state,i),r=0}return this._bufferLength=r,this}getState(){const n=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[n[0],n[1],n[2],n[3]]}}setState(n){const e=n.buffer,i=n.state,r=this._state;let o;for(this._dataLength=n.length,this._bufferLength=n.buflen,r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],o=0;o<e.length;o+=1)this._buffer8[o]=e.charCodeAt(o)}end(n=!1){const e=this._bufferLength,i=this._buffer8,r=this._buffer32,o=1+(e>>2);this._dataLength+=e;const l=8*this._dataLength;if(i[e]=128,i[e+1]=i[e+2]=i[e+3]=0,r.set(tn.buffer32Identity.subarray(o),o),e>55&&(tn._md5cycle(this._state,r),r.set(tn.buffer32Identity)),l<=4294967295)r[14]=l;else{const c=l.toString(16).match(/(.*?)(.{0,8})$/);if(null===c)return;const d=parseInt(c[2],16),h=parseInt(c[1],16)||0;r[14]=d,r[15]=h}return tn._md5cycle(this._state,r),n?this._state:tn._hex(this._state)}}if(tn.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),tn.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),tn.hexChars="0123456789abcdef",tn.hexOut=[],tn.onePassHasher=new tn,"5d41402abc4b2a76b9719d911017c592"!==tn.hashStr("hello"))throw new Error("Md5 self test failed.");let PD=(()=>{class t{constructor(){this.auth$=new zn(!1),this.authData$=new zn({username:"",password:""}),this.authObj$={username:"vnpt",password:tn.hashStr("Vnpt@2024")}}get getAuthObj$(){return this.authObj$}getAuth$(){return this.auth$}setAuth(e){this.auth$.next(e)}getAuthData$(){return this.authData$}setAuthData(e){this.authData$.next(e)}checkAuthData(e){const{password:i}=e,r=tn.hashStr(i);return this.authObj$.username===e.username&&this.authObj$.password===r}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let VD=(()=>{class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||t)(ae(Ro),ae(At))};static#t=this.\u0275dir=Ae({type:t})}return t})(),zo=(()=>{class t extends VD{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(t)))(r||t)}}();static#t=this.\u0275dir=Ae({type:t,features:[Ue]})}return t})();const nr=new Ie("NgValueAccessor"),MH={provide:nr,useExisting:Mt(()=>cf),multi:!0},OH=new Ie("CompositionEventMode");let cf=(()=>{class t extends VD{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function RH(){const t=Zr()?Zr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||t)(ae(Ro),ae(At),ae(OH,8))};static#t=this.\u0275dir=Ae({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&vn("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[st([MH]),Ue]})}return t})();const Sn=new Ie("NgValidators"),to=new Ie("NgAsyncValidators");function ZD(t){return null!=t}function KD(t){return hd(t)?Vi(t):t}function XD(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function QD(t,n){return n.map(e=>e(t))}function JD(t){return t.map(n=>function NH(t){return!t.validate}(n)?n:e=>n.validate(e))}function t_(t){return null!=t?function eS(t){if(!t)return null;const n=t.filter(ZD);return 0==n.length?null:function(e){return XD(QD(e,n))}}(JD(t)):null}function tS(t){if(!t)return null;const n=t.filter(ZD);return 0==n.length?null:function(e){return function LD(...t){const n=Va(t),{args:e,keys:i}=VE(t),r=new q(o=>{const{length:l}=e;if(!l)return void o.complete();const c=new Array(l);let d=l,h=l;for(let v=0;v<l;v++){let w=!1;qt(e[v]).subscribe(ie(o,M=>{w||(w=!0,h--),c[v]=M},()=>d--,void 0,()=>{(!d||!w)&&(h||o.next(i?BE(i,c):c),o.complete())}))}});return n?r.pipe(Og(n)):r}(QD(e,n).map(KD)).pipe(Se(XD))}}function n_(t){return null!=t?tS(JD(t)):null}function nS(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function i_(t){return t?Array.isArray(t)?t:[t]:[]}function df(t,n){return Array.isArray(t)?t.includes(n):t===n}function oS(t,n){const e=i_(n);return i_(t).forEach(r=>{df(e,r)||e.push(r)}),e}function sS(t,n){return i_(n).filter(e=>!df(t,e))}class aS{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=t_(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=n_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class Un extends aS{get formDirective(){return null}get path(){return null}}class no extends aS{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class lS{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let cS=(()=>{class t extends lS{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||t)(ae(no,2))};static#t=this.\u0275dir=Ae({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&Xi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ue]})}return t})();const vc="VALID",hf="INVALID",ma="PENDING",yc="DISABLED";function pf(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class hS{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===vc}get invalid(){return this.status===hf}get pending(){return this.status==ma}get disabled(){return this.status===yc}get enabled(){return this.status!==yc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(oS(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(oS(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(sS(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(sS(n,this._rawAsyncValidators))}hasValidator(n){return df(this._rawValidators,n)}hasAsyncValidator(n){return df(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=ma,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=yc,this.errors=null,this._forEachChild(i=>{i.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=vc,this._forEachChild(i=>{i.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vc||this.status===ma)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yc:vc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=ma,this._hasOwnPendingAsyncValidator=!0;const e=KD(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(n,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Jt,this.statusChanges=new Jt}_calculateStatus(){return this._allControlsDisabled()?yc:this.errors?hf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ma)?ma:this._anyControlsHaveStatus(hf)?hf:vc}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){pf(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function BH(t){return Array.isArray(t)?t_(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function HH(t){return Array.isArray(t)?n_(t):t||null}(this._rawAsyncValidators)}}const ga=new Ie("CallSetDisabledState",{providedIn:"root",factory:()=>mf}),mf="always";function bc(t,n,e=mf){(function c_(t,n){const e=function iS(t){return t._rawValidators}(t);null!==n.validator?t.setValidators(nS(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const i=function rS(t){return t._rawAsyncValidators}(t);null!==n.asyncValidator?t.setAsyncValidators(nS(i,n.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const r=()=>t.updateValueAndValidity();vf(n._rawValidators,r),vf(n._rawAsyncValidators,r)})(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function zH(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&pS(t,n)})}(t,n),function qH(t,n){const e=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function $H(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&pS(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function UH(t,n){if(n.valueAccessor.setDisabledState){const e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function vf(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function pS(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function _S(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function vS(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const yS=class extends hS{constructor(n=null,e,i){super(function s_(t){return(pf(t)?t.validators:t)||null}(e),function a_(t,n){return(pf(n)?n.asyncValidators:t)||null}(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pf(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=vS(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){_S(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){_S(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){vS(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},JH={provide:no,useExisting:Mt(()=>p_)},wS=(()=>Promise.resolve())();let p_=(()=>{class t extends no{constructor(e,i,r,o,l,c){super(),this._changeDetectorRef=l,this.callSetDisabledState=c,this.control=new yS,this._registered=!1,this.name="",this.update=new Jt,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function f_(t,n){if(!n)return null;let e,i,r;return Array.isArray(n),n.forEach(o=>{o.constructor===cf?e=o:function YH(t){return Object.getPrototypeOf(t.constructor)===zo}(o)?i=o:r=o}),r||i||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function d_(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){bc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){wS.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&function Km(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(i);wS.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function gf(t,n){return[...n.path,t]}(e,this._parent):[e]}static#e=this.\u0275fac=function(i){return new(i||t)(ae(Un,9),ae(Sn,10),ae(to,10),ae(nr,10),ae(Td,8),ae(ga,8))};static#t=this.\u0275dir=Ae({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[st([JH]),Ue,mi]})}return t})(),ES=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=ce({type:t});static#n=this.\u0275inj=bt({})}return t})(),D3=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=ce({type:t});static#n=this.\u0275inj=bt({imports:[ES]})}return t})(),T3=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:ga,useValue:e.callSetDisabledState??mf}]}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=ce({type:t});static#n=this.\u0275inj=bt({imports:[D3]})}return t})(),US=(()=>{class t{constructor(e,i){this.authService=e,this._toast=i,this.onDestroy$=new b,this._authData={username:"vnpt",password:""}}ngOnInit(){this.authService.getAuth$().pipe(Hn(this.onDestroy$),qd(1)).subscribe(e=>{this._toast.openToast(e?"Login success":"Login failed")})}get authData(){return this._authData}onLogin(){!this._authData.username||!this._authData.password||this.authService.setAuthData(this._authData)}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}static#e=this.\u0275fac=function(i){return new(i||t)(ae(PD),ae(e_))};static#t=this.\u0275cmp=m({type:t,selectors:[["translate-auth"]],features:[st([e_])],decls:14,vars:2,consts:[[1,"login-form"],[1,"flex-row"],["for","username",1,"lf--label"],["x","0px","y","0px","width","12px","height","13px"],["fill","#B1B7C4","d","M8.9,7.2C9,6.9,9,6.7,9,6.5v-4C9,1.1,7.9,0,6.5,0h-1C4.1,0,3,1.1,3,2.5v4c0,0.2,0,0.4,0.1,0.7 C1.3,7.8,0,9.5,0,11.5V13h12v-1.5C12,9.5,10.7,7.8,8.9,7.2z M4,2.5C4,1.7,4.7,1,5.5,1h1C7.3,1,8,1.7,8,2.5v4c0,0.2,0,0.4-0.1,0.6 l0.1,0L7.9,7.3C7.6,7.8,7.1,8.2,6.5,8.2h-1c-0.6,0-1.1-0.4-1.4-0.9L4.1,7.1l0.1,0C4,6.9,4,6.7,4,6.5V2.5z M11,12H1v-0.5 c0-1.6,1-2.9,2.4-3.4c0.5,0.7,1.2,1.1,2.1,1.1h1c0.8,0,1.6-0.4,2.1-1.1C10,8.5,11,9.9,11,11.5V12z"],["id","username","placeholder","Username","type","text",1,"lf--input",3,"ngModel","ngModelChange"],["for","password",1,"lf--label"],["x","0px","y","0px","width","15px","height","5px"],["fill","#B1B7C4","d","M6,2L6,2c0-1.1-1-2-2.1-2H2.1C1,0,0,0.9,0,2.1v0.8C0,4.1,1,5,2.1,5h1.7C5,5,6,4.1,6,2.9V3h5v1h1V3h1v2h1V3h1 V2H6z M5.1,2.9c0,0.7-0.6,1.2-1.3,1.2H2.1c-0.7,0-1.3-0.6-1.3-1.2V2.1c0-0.7,0.6-1.2,1.3-1.2h1.7c0.7,0,1.3,0.6,1.3,1.2V2.9z"],["id","password","placeholder","Password","type","password",1,"lf--input",3,"ngModel","ngModelChange"],[1,"lf--submit",3,"click"]],template:function(i,r){1&i&&(ft(0,"div",0)(1,"div",1)(2,"label",2),_l(),ft(3,"svg",3),_n(4,"path",4),mt()(),Vh(),ft(5,"input",5),vn("ngModelChange",function(l){return r.authData.username=l}),mt()(),ft(6,"div",1)(7,"label",6),_l(),ft(8,"svg",7)(9,"g"),_n(10,"path",8),mt()()(),Vh(),ft(11,"input",9),vn("ngModelChange",function(l){return r.authData.password=l}),mt()(),ft(12,"button",10),vn("click",function(){return r.onLogin()}),un(13,"LOGIN"),mt()()),2&i&&(Nt(5),Pn("ngModel",r.authData.username),Nt(6),Pn("ngModel",r.authData.password))},dependencies:[cf,cS,p_],styles:['.login-form[_ngcontent-%COMP%]{width:100%;padding:2em;position:relative;background:rgba(0,0,0,.15)}.login-form[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-2px;left:0;height:2px;width:100%;background:linear-gradient(to right,#35c3c1,#00d6b7)}@media screen and (min-width: 600px){.login-form[_ngcontent-%COMP%]{width:50vw;max-width:15em}}.flex-row[_ngcontent-%COMP%]{display:flex;margin-bottom:1em}.lf--label[_ngcontent-%COMP%]{width:2em;display:flex;align-items:center;justify-content:center;background:#f5f6f8;cursor:pointer}.lf--input[_ngcontent-%COMP%]{flex:1;padding:1em;border:0;color:#8f8f8f;font-size:1rem}.lf--input[_ngcontent-%COMP%]:focus{outline:none;transition:transform .15s ease}.lf--submit[_ngcontent-%COMP%]{display:block;padding:1em;width:100%;background:linear-gradient(to right,#35c3c1,#00d6b7);border:0;color:#fff;cursor:pointer;font-size:.75em;font-weight:600;text-shadow:0 1px 0 rgba(0,0,0,.2)}.lf--submit[_ngcontent-%COMP%]:focus{outline:none;transition:transform .15s ease;transform:scale(1.1)}.lf--forgot[_ngcontent-%COMP%]{margin-top:1em;color:#00d6b7;font-size:.65em;text-align:center;position:relative}[_ngcontent-%COMP%]::placeholder{color:#8f8f8f}']})}return t})();var bf=function(t){return t.AuthKey="_authenObject",t}(bf||{}),C_=$(89);function zS(t){return new q(n=>{qt(t()).subscribe(n)})}function A3(t,n){}class Cf{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let $S=(()=>{class t extends nf{constructor(e,i,r,o,l,c,d,h){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=l,this._ngZone=c,this._overlayRef=d,this._focusMonitor=h,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=v=>{this._portalOutlet.hasAttached();const w=this._portalOutlet.attachDomPortal(v);return this._contentAttached(),w},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=Mg(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Mg();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Mg())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(i){return new(i||t)(ae(At),ae(Vg),ae(ut,8),ae(Cf),ae(Kd),ae(et),ae(_c),ae(Qd))};static#t=this.\u0275cmp=m({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&Ri(pc,7),2&i){let o;ln(o=cn())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&ii("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[Ue],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&Ft(0,A3,0,0,"ng-template",0)},dependencies:[pc],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return t})();class w_{constructor(n,e){this.overlayRef=n,this.config=e,this.closed=new b,this.disableClose=e.disableClose,this.backdropClick=n.backdropClick(),this.keydownEvents=n.keydownEvents(),this.outsidePointerEvents=n.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!FE(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=n.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(n,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(n),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(n="",e=""){return this.overlayRef.updateSize({width:n,height:e}),this}addPanelClass(n){return this.overlayRef.addPanelClass(n),this}removePanelClass(n){return this.overlayRef.removePanelClass(n),this}}const qS=new Ie("DialogScrollStrategy"),I3=new Ie("DialogData"),M3=new Ie("DefaultDialogConfig"),O3={provide:qS,deps:[Jr],useFactory:function R3(t){return()=>t.scrollStrategies.block()}};let k3=0,GS=(()=>{class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,r,o,l,c){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new b,this._afterOpenedAtThisLevel=new b,this._ariaHiddenElements=new Map,this.afterAllClosed=zS(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Pg(void 0))),this._scrollStrategy=c}open(e,i){(i={...this._defaultOptions||new Cf,...i}).id=i.id||"cdk-dialog-"+k3++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),l=this._overlay.create(o),c=new w_(l,i),d=this._attachContainer(l,c,i);return c.containerInstance=d,this._attachDialogContent(e,c,d,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.closed.subscribe(()=>this._removeOpenDialog(c,!0)),this.afterOpened.next(c),c}closeAll(){x_(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){x_(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),x_(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new Xg({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const o=r.injector||r.viewContainerRef?.injector,l=[{provide:Cf,useValue:r},{provide:w_,useValue:i},{provide:_c,useValue:e}];let c;r.container?"function"==typeof r.container?c=r.container:(c=r.container.type,l.push(...r.container.providers(r))):c=$S;const d=new hc(c,r.viewContainerRef,Yt.create({parent:o||this._injector,providers:l}),r.componentFactoryResolver);return e.attach(d).instance}_attachDialogContent(e,i,r,o){if(e instanceof an){const l=this._createInjector(o,i,r,void 0);let c={$implicit:o.data,dialogRef:i};o.templateContext&&(c={...c,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new qg(e,null,c,l))}else{const l=this._createInjector(o,i,r,this._injector),c=r.attachComponentPortal(new hc(e,o.viewContainerRef,l,o.componentFactoryResolver));i.componentRef=c,i.componentInstance=c.instance}}_createInjector(e,i,r,o){const l=e.injector||e.viewContainerRef?.injector,c=[{provide:I3,useValue:e.data},{provide:w_,useValue:i}];return e.providers&&("function"==typeof e.providers?c.push(...e.providers(i,e,r)):c.push(...e.providers)),e.direction&&(!l||!l.get(Jd,null,{optional:!0}))&&c.push({provide:Jd,useValue:{value:e.direction,change:Mn()}}),Yt.create({parent:l||o,providers:c})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,l)=>{o?l.setAttribute("aria-hidden",o):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(i){return new(i||t)(ge(Jr),ge(Yt),ge(M3,8),ge(t,12),ge(af),ge(qS))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}return t})();function x_(t,n){let e=t.length;for(;e--;)n(t[e])}let N3=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=ce({type:t});static#n=this.\u0275inj=bt({providers:[GS,O3],imports:[Qg,mc,iB,mc]})}return t})();function F3(t,n){}class wf{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const E_="mdc-dialog--open",WS="mdc-dialog--opening",YS="mdc-dialog--closing";let V3=(()=>{class t extends $S{constructor(e,i,r,o,l,c,d,h){super(e,i,r,o,l,c,d,h),this._animationStateChanged=new Jt}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}static#e=this.\u0275fac=function(i){return new(i||t)(ae(At),ae(Vg),ae(ut,8),ae(wf),ae(Kd),ae(et),ae(_c),ae(Qd))};static#t=this.\u0275cmp=m({type:t,selectors:[["ng-component"]],features:[Ue],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return t})();const ZS="--mat-dialog-transition-duration";function KS(t){return null==t?null:"number"==typeof t?t:t.endsWith("ms")?PE(t.substring(0,t.length-2)):t.endsWith("s")?1e3*PE(t.substring(0,t.length-1)):"0"===t?0:null}let B3=(()=>{class t extends V3{constructor(e,i,r,o,l,c,d,h,v){super(e,i,r,o,l,c,d,v),this._animationMode=h,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?KS(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?KS(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(ZS,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(WS,E_)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(E_),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(E_),this._animationsEnabled?(this._hostElement.style.setProperty(ZS,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(YS)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(WS,YS)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}static#e=this.\u0275fac=function(i){return new(i||t)(ae(At),ae(Vg),ae(ut,8),ae(wf),ae(Kd),ae(et),ae(_c),ae(qr,8),ae(Qd))};static#t=this.\u0275cmp=m({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(i,r){2&i&&(pm("id",r._config.id),ii("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),Xi("_mat-animation-noopable",!r._animationsEnabled))},features:[Ue],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(ft(0,"div",0)(1,"div",1),Ft(2,F3,0,0,"ng-template",2),mt()())},dependencies:[pc],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return t})();class H3{constructor(n,e,i){this._ref=n,this._containerInstance=i,this._afterOpened=new b,this._beforeClosed=new b,this._state=0,this.disableClose=e.disableClose,this.id=n.id,i._animationStateChanged.pipe(tr(r=>"opened"===r.state),xr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(tr(r=>"closed"===r.state),xr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),n.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),rs(this.backdropClick(),this.keydownEvents().pipe(tr(r=>27===r.keyCode&&!this.disableClose&&!FE(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function j3(t,n,e){t._closeInteractionType=n,t.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(n){this._result=n,this._containerInstance._animationStateChanged.pipe(tr(e=>"closing"===e.state),xr(1)).subscribe(e=>{this._beforeClosed.next(n),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(n){let e=this._ref.config.positionStrategy;return n&&(n.left||n.right)?n.left?e.left(n.left):e.right(n.right):e.centerHorizontally(),n&&(n.top||n.bottom)?n.top?e.top(n.top):e.bottom(n.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(n="",e=""){return this._ref.updateSize(n,e),this}addPanelClass(n){return this._ref.addPanelClass(n),this}removePanelClass(n){return this._ref.removePanelClass(n),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const U3=new Ie("MatMdcDialogData"),z3=new Ie("mat-mdc-dialog-default-options"),XS=new Ie("mat-mdc-dialog-scroll-strategy"),q3={provide:XS,deps:[Jr],useFactory:function $3(t){return()=>t.scrollStrategies.block()}};let G3=0,W3=(()=>{class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,r,o,l,c,d,h,v,w){this._overlay=e,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=d,this._dialogContainerType=h,this._dialogDataToken=v,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new b,this._afterOpenedAtThisLevel=new b,this._idPrefix="mat-dialog-",this.dialogConfigClass=wf,this.afterAllClosed=zS(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Pg(void 0))),this._scrollStrategy=c,this._dialog=i.get(GS)}open(e,i){let r;(i={...this._defaultOptions||new wf,...i}).id=i.id||`${this._idPrefix}${G3++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:Cf,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(l,c,d)=>(r=new this._dialogRefConstructor(l,i,d),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:d},{provide:this._dialogDataToken,useValue:c.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const l=this.openDialogs.indexOf(r);l>-1&&(this.openDialogs.splice(l,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}static#e=this.\u0275fac=function(i){Up()};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}return t})(),QS=(()=>{class t extends W3{constructor(e,i,r,o,l,c,d,h){super(e,i,o,c,d,l,H3,B3,U3,h),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(i){return new(i||t)(ge(Jr),ge(Yt),ge(Jm,8),ge(z3,8),ge(XS),ge(t,12),ge(af),ge(qr,8))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}return t})(),Y3=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=ce({type:t});static#n=this.\u0275inj=bt({providers:[QS,q3],imports:[N3,Qg,mc,Dn,Dn]})}return t})();var xf=function(t){return t.ConnectString="wss://asterisk.3cl.xyz:8089/ws",t.Uri="sip:organization1.3111@asterisk.3cl.xyz",t.Password="gp*7KWVW",t}(xf||{});const Z3={mediaConstraints:{audio:!0,video:!1},rtcOfferConstraints:{offerToReceiveAudio:!0,offerToReceiveVideo:!1},pcConfig:{iceServers:[{urls:["stun:stun.counterpath.com:3478"]}],iceTransportPolicy:"all"}};let K3=(()=>{class t{constructor(){this._sipStatus=new zn(""),this.sipUA=null,this._isConnected=new zn(!1),this._sipSession=null,this._sipPhone=3e3,this._cipCallOptions=Z3}connectServer(){this.sipUA=new C_.UA({sockets:[new C_.WebSocketInterface(xf.ConnectString)],uri:xf.Uri.toString(),password:xf.Password.toString()}),this.registerEvents(),this.registerSessionEvents(),this.sipUA.start(),this.sipUA.call(this._sipPhone.toString(),this._cipCallOptions)}registerEvents(){this.sipUA&&(this.sipUA.on("connecting",e=>{this._sipStatus.next("Connecting...")}),this.sipUA.on("connected",e=>{this._sipStatus.next("Connected")}),this.sipUA.on("newRTCSession",e=>{const i=e.session;this._sipSession&&this._sipSession.terminate(),this._sipSession=i}))}registerSessionEvents(){this._sipSession&&this._sipSession.on("confirmed",e=>{})}disconnectServer(){this.sipUA&&(this.sipUA.stop(),this.sipUA=null,this.setConnectState(!1))}get isConnected(){return this._isConnected}setConnectState(e){this._isConnected.next(e)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ir=function(t){return t[t.Start=0]="Start",t[t.Stop=1]="Stop",t}(ir||{}),_a=function(t){return t[t.SampleRate=16e3]="SampleRate",t[t.BufferSize=4096]="BufferSize",t[t.NumberOfInputChannels=1]="NumberOfInputChannels",t[t.NumberOfOutputChannels=1]="NumberOfOutputChannels",t}(_a||{}),D_=function(t){return t.UrlInput="wss://websock.interits.click/api/audio/input",t.UrlOutput="wss://websock.interits.click/api/audio/output",t}(D_||{});const Q3={audio:{channels:_a.NumberOfInputChannels}};let eT=(()=>{class t{constructor(e){this.zone=e,this._record=new zn(null),this._records=new zn([]),this._recordPlaying=new zn(null),this._recordState=new zn(ir.Stop),this._wsInput=null,this._wsOnput=null}get recordPlaying(){return this._recordPlaying}setRecordPlaying(e){this._recordPlaying.next(e)}get records(){return this._records}setRecords(e){this._records.next(e)}get record(){return this._record}get recordState(){return this._recordState}set recordState(e){this._recordState=e}onRegisterInputWS(){this._wsInput=new WebSocket(D_.UrlInput),this.registerEventsInput(),this.handleRecord()}onRegisterOutputWS(){this._wsOnput=new WebSocket(D_.UrlOutput),this.registerEventsOutput()}onStartRecord(){this._wsInput||this._wsOnput||(this.onRegisterInputWS(),this.onRegisterOutputWS())}onStopRecord(){this.handleStopRecord()}registerEventsInput(){this._wsInput&&(this._wsInput.onopen=()=>{console.log("Connected Input"),this._recordState.next(ir.Start)},this._wsInput.onclose=()=>{console.log("Disconnected Input"),this._recordState.next(ir.Stop),this._wsInput=null},this._wsInput.onerror=e=>{console.log("Error Input",e),this._recordState.next(ir.Stop),this._wsInput=null},this._wsInput.onmessage=e=>{})}handleRecord(){if(!this._wsInput)return;const e=this._wsInput;this.zone.runOutsideAngular(()=>{navigator.mediaDevices.getUserMedia(Q3).then(i=>{const r=new AudioContext({sampleRate:_a.SampleRate}),o=r.createMediaStreamSource(i),l=r.createScriptProcessor(_a.BufferSize,_a.NumberOfInputChannels,_a.NumberOfOutputChannels);o.connect(l),l.connect(r.destination),l.onaudioprocess=c=>{const d=c.inputBuffer.getChannelData(0),h=new Int16Array(d.length);for(let v=0;v<d.length;v++)h[v]=32767*d[v];e.readyState===WebSocket.OPEN&&e.send(h)}})})}handleStopRecord(){!this._wsInput||!this._wsOnput||(this._wsInput.close(),this._wsInput=null,this._wsOnput.close(),this._wsOnput=null,this._recordState.next(ir.Stop))}registerEventsOutput(){this._wsOnput&&(this._wsOnput.onopen=()=>{console.log("Connected Output")},this._wsOnput.onclose=()=>{console.log("Disconnected Output"),this._wsOnput=null},this._wsOnput.onerror=e=>{console.log("Error Output",e),this._wsOnput=null},this._wsOnput.onmessage=e=>{const i=JSON.parse(e.data);i.receivedAt=(new Date).toISOString(),this._record.next(i)})}static#e=this.\u0275fac=function(i){return new(i||t)(ge(et))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class tj{constructor(){this._store=[]}getElements(n){return this._store[n]}getStore(){return this._store}push(n){this._store.push(n)}pop(){return this._store.shift()}}class ij extends q{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,ne(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new ye;const e=this.getSubject();n.add(this.source.subscribe(ie(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=ye.EMPTY)}return n}refCount(){return function nj(){return ee((t,n)=>{let e=null;t._refCount++;const i=ie(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const r=t._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}()(this)}}function S_(t){return t&&"function"==typeof t.connect&&!(t instanceof ij)}class tT{applyChanges(n,e,i,r,o){n.forEachOperation((l,c,d)=>{let h,v;if(null==l.previousIndex){const w=i(l,c,d);h=e.createEmbeddedView(w.templateRef,w.context,w.index),v=1}else null==d?(e.remove(c),v=3):(h=e.get(c),e.move(h,d),v=2);o&&o({context:h?.context,operation:v,record:l})})}detach(){}}const wc=new Ie("_ViewRepeater"),oj=[[["caption"]],[["colgroup"],["col"]]],sj=["caption","colgroup, col"];function T_(t){return class extends t{get sticky(){return this._sticky}set sticky(n){const e=this._sticky;this._sticky=Qr(n),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const n=this._hasStickyChanged;return this._hasStickyChanged=!1,n}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...n){super(...n),this._sticky=!1,this._hasStickyChanged=!1}}}const va=new Ie("CDK_TABLE");let ya=(()=>{class t{constructor(e){this.template=e}static#e=this.\u0275fac=function(i){return new(i||t)(ae(an))};static#t=this.\u0275dir=Ae({type:t,selectors:[["","cdkCellDef",""]]})}return t})(),ba=(()=>{class t{constructor(e){this.template=e}static#e=this.\u0275fac=function(i){return new(i||t)(ae(an))};static#t=this.\u0275dir=Ae({type:t,selectors:[["","cdkHeaderCellDef",""]]})}return t})(),Ef=(()=>{class t{constructor(e){this.template=e}static#e=this.\u0275fac=function(i){return new(i||t)(ae(an))};static#t=this.\u0275dir=Ae({type:t,selectors:[["","cdkFooterCellDef",""]]})}return t})();class uj{}const dj=T_(uj);let Dr=(()=>{class t extends dj{get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=Qr(e),this._hasStickyChanged=i!==this._stickyEnd}constructor(e){super(),this._table=e,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#e=this.\u0275fac=function(i){return new(i||t)(ae(va,8))};static#t=this.\u0275dir=Ae({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(i,r,o){if(1&i&&(yr(o,ya,5),yr(o,ba,5),yr(o,Ef,5)),2&i){let l;ln(l=cn())&&(r.cell=l.first),ln(l=cn())&&(r.headerCell=l.first),ln(l=cn())&&(r.footerCell=l.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[st([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),Ue]})}return t})();class A_{constructor(n,e){e.nativeElement.classList.add(...n._columnCssClassName)}}let I_=(()=>{class t extends A_{constructor(e,i){super(e,i)}static#e=this.\u0275fac=function(i){return new(i||t)(ae(Dr),ae(At))};static#t=this.\u0275dir=Ae({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[Ue]})}return t})(),M_=(()=>{class t extends A_{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}static#e=this.\u0275fac=function(i){return new(i||t)(ae(Dr),ae(At))};static#t=this.\u0275dir=Ae({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[Ue]})}return t})();class rT{constructor(){this.tasks=[],this.endTasks=[]}}const R_=new Ie("_COALESCED_STYLE_SCHEDULER");let oT=(()=>{class t{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new b}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new rT,this._getScheduleObservable().pipe(Hn(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new rT;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?Vi(Promise.resolve(void 0)):this._ngZone.onStable.pipe(xr(1))}static#e=this.\u0275fac=function(i){return new(i||t)(ge(et))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}return t})(),O_=(()=>{class t{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof xc?e.headerCell.template:this instanceof Ec?e.footerCell.template:e.cell.template}static#e=this.\u0275fac=function(i){return new(i||t)(ae(an),ae(br))};static#t=this.\u0275dir=Ae({type:t,features:[mi]})}return t})();class fj extends O_{}const hj=T_(fj);let xc=(()=>{class t extends hj{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}static#e=this.\u0275fac=function(i){return new(i||t)(ae(an),ae(br),ae(va,8))};static#t=this.\u0275dir=Ae({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[Ue,mi]})}return t})();class pj extends O_{}const mj=T_(pj);let Ec=(()=>{class t extends mj{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}static#e=this.\u0275fac=function(i){return new(i||t)(ae(an),ae(br),ae(va,8))};static#t=this.\u0275dir=Ae({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[Ue,mi]})}return t})(),Df=(()=>{class t extends O_{constructor(e,i,r){super(e,i),this._table=r}static#e=this.\u0275fac=function(i){return new(i||t)(ae(an),ae(br),ae(va,8))};static#t=this.\u0275dir=Ae({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[Ue]})}return t})(),Sr=(()=>{class t{static#e=this.mostRecentCellOutlet=null;constructor(e){this._viewContainer=e,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}static#t=this.\u0275fac=function(i){return new(i||t)(ae(En))};static#n=this.\u0275dir=Ae({type:t,selectors:[["","cdkCellOutlet",""]]})}return t})(),k_=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=m({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){1&i&&Ki(0,0)},dependencies:[Sr],encapsulation:2})}return t})(),F_=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=m({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){1&i&&Ki(0,0)},dependencies:[Sr],encapsulation:2})}return t})(),Sf=(()=>{class t{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}static#e=this.\u0275fac=function(i){return new(i||t)(ae(an))};static#t=this.\u0275dir=Ae({type:t,selectors:[["ng-template","cdkNoDataRow",""]]})}return t})();const sT=["top","bottom","left","right"];class gj{constructor(n,e,i,r,o=!0,l=!0,c){this._isNativeHtmlTable=n,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=o,this._needsPositionStickyOnElement=l,this._positionListener=c,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(n,e){const i=[];for(const r of n)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let o=0;o<r.children.length;o++)i.push(r.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(n,e,i,r=!0){if(!n.length||!this._isBrowser||!e.some(M=>M)&&!i.some(M=>M))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=n[0],l=o.children.length,c=this._getCellWidths(o,r),d=this._getStickyStartColumnPositions(c,e),h=this._getStickyEndColumnPositions(c,i),v=e.lastIndexOf(!0),w=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const M="rtl"===this.direction,k=M?"right":"left",U=M?"left":"right";for(const J of n)for(let he=0;he<l;he++){const xe=J.children[he];e[he]&&this._addStickyStyle(xe,k,d[he],he===v),i[he]&&this._addStickyStyle(xe,U,h[he],he===w)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===v?[]:c.slice(0,v+1).map((J,he)=>e[he]?J:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===w?[]:c.slice(w).map((J,he)=>i[he+w]?J:null).reverse()}))})}stickRows(n,e,i){if(!this._isBrowser)return;const r="bottom"===i?n.slice().reverse():n,o="bottom"===i?e.slice().reverse():e,l=[],c=[],d=[];for(let v=0,w=0;v<r.length;v++){if(!o[v])continue;l[v]=w;const M=r[v];d[v]=this._isNativeHtmlTable?Array.from(M.children):[M];const k=M.getBoundingClientRect().height;w+=k,c[v]=k}const h=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let v=0;v<r.length;v++){if(!o[v])continue;const w=l[v],M=v===h;for(const k of d[v])this._addStickyStyle(k,i,w,M)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:c,offsets:l,elements:d}):this._positionListener?.stickyFooterRowsUpdated({sizes:c,offsets:l,elements:d})})}updateStickyFooterContainer(n,e){if(!this._isNativeHtmlTable)return;const i=n.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(n,e){for(const r of e)n.style[r]="",n.classList.remove(this._borderCellCss[r]);sT.some(r=>-1===e.indexOf(r)&&n.style[r])?n.style.zIndex=this._getCalculatedZIndex(n):(n.style.zIndex="",this._needsPositionStickyOnElement&&(n.style.position=""),n.classList.remove(this._stickCellCss))}_addStickyStyle(n,e,i,r){n.classList.add(this._stickCellCss),r&&n.classList.add(this._borderCellCss[e]),n.style[e]=`${i}px`,n.style.zIndex=this._getCalculatedZIndex(n),this._needsPositionStickyOnElement&&(n.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(n){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of sT)n.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(n,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=n.children;for(let o=0;o<r.length;o++)i.push(r[o].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(n,e){const i=[];let r=0;for(let o=0;o<n.length;o++)e[o]&&(i[o]=r,r+=n[o]);return i}_getStickyEndColumnPositions(n,e){const i=[];let r=0;for(let o=n.length;o>0;o--)e[o]&&(i[o]=r,r+=n[o]);return i}}const P_=new Ie("CDK_SPL");let Tf=(()=>{class t{constructor(e,i){this.viewContainer=e,this.elementRef=i}static#e=this.\u0275fac=function(i){return new(i||t)(ae(En),ae(At))};static#t=this.\u0275dir=Ae({type:t,selectors:[["","rowOutlet",""]]})}return t})(),Af=(()=>{class t{constructor(e,i){this.viewContainer=e,this.elementRef=i}static#e=this.\u0275fac=function(i){return new(i||t)(ae(En),ae(At))};static#t=this.\u0275dir=Ae({type:t,selectors:[["","headerRowOutlet",""]]})}return t})(),If=(()=>{class t{constructor(e,i){this.viewContainer=e,this.elementRef=i}static#e=this.\u0275fac=function(i){return new(i||t)(ae(En),ae(At))};static#t=this.\u0275dir=Ae({type:t,selectors:[["","footerRowOutlet",""]]})}return t})(),Mf=(()=>{class t{constructor(e,i){this.viewContainer=e,this.elementRef=i}static#e=this.\u0275fac=function(i){return new(i||t)(ae(En),ae(At))};static#t=this.\u0275dir=Ae({type:t,selectors:[["","noDataRowOutlet",""]]})}return t})(),Rf=(()=>{class t{get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Qr(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Qr(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,i,r,o,l,c,d,h,v,w,M,k){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=l,this._platform=d,this._viewRepeater=h,this._coalescedStyleScheduler=v,this._viewportRuler=w,this._stickyPositioningListener=M,this._ngZone=k,this._onDestroy=new b,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new Jt,this.viewChange=new zn({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=c,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Hn(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),S_(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,o,l)=>this._getEmbeddedViewArgs(r.item,l),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&et.isInAngularZone()?this._ngZone.onStable.pipe(xr(1),Hn(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const o=this._headerRowDefs.map(l=>l.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,o,"top"),this._headerRowDefs.forEach(l=>l.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const o=this._footerRowDefs.map(l=>l.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(l=>l.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,l)=>{this._addStickyColumnStyles([o],this._headerRowDefs[l])}),this._rowDefs.forEach(o=>{const l=[];for(let c=0;c<i.length;c++)this._renderRows[c].rowDef===o&&l.push(i[c]);this._addStickyColumnStyles(l,o)}),r.forEach((o,l)=>{this._addStickyColumnStyles([o],this._footerRowDefs[l])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let o=this._data[r];const l=this._getRenderRowsForData(o,r,i.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let c=0;c<l.length;c++){let d=l[c];const h=this._cachedRenderRowsMap.get(d.data);h.has(d.rowDef)?h.get(d.rowDef).push(d):h.set(d.rowDef,[d]),e.push(d)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(l=>{const c=r&&r.has(l)?r.get(l):[];if(c.length){const d=c.shift();return d.dataIndex=i,d}return{data:e,rowDef:l,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Of(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=Of(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Of(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Of(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(l,c)=>l||!!c.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),i||r||o}_switchDataSource(e){this._data=[],S_(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;S_(this.dataSource)?e=this.dataSource.connect(this):function rj(t){return!!t&&(t instanceof q||re(t.lift)&&re(t.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Mn(this.dataSource)),this._renderChangeSubscription=e.pipe(Hn(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(c=>this._columnDefsByName.get(c)),o=r.map(c=>c.sticky),l=r.map(c=>c.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,l,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const o=e.viewContainer.get(r);i.push(o.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(o=>!o.when||o.when(i,e));else{let o=this._rowDefs.find(l=>l.when&&l.when(i,e))||this._defaultRowDef;o&&r.push(o)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,o={}){const l=e.viewContainer.createEmbeddedView(i.template,o,r);return this._renderCellTemplateForItem(i,o),l}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))Sr.mostRecentCellOutlet&&Sr.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const l=e.get(i).context;l.count=r,l.first=0===i,l.last=i===r-1,l.even=i%2==0,l.odd=!l.even,this.multiTemplateDataRows?(l.dataIndex=this._renderRows[i].dataIndex,l.renderIndex=i):l.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const o=this._document.createElement(r.tag);o.setAttribute("role","rowgroup");for(const l of r.outlets)o.appendChild(l.elementRef.nativeElement);e.appendChild(o)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new gj(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Mn()).pipe(Hn(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const o=r.createEmbeddedView(e.templateRef),l=o.rootNodes[0];1===o.rootNodes.length&&l?.nodeType===this._document.ELEMENT_NODE&&(l.setAttribute("role","row"),l.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i,this._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(i){return new(i||t)(ae(br),ae(Td),ae(At),function Du(t){return function uI(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(il(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===n)return e[r+1];r+=2}}}return null}(mn(),t)}("role"),ae(Jd,8),ae(ut),ae(jn),ae(wc),ae(R_),ae(Yg),ae(P_,12),ae(et,8))};static#t=this.\u0275cmp=m({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(i,r,o){if(1&i&&(yr(o,Sf,5),yr(o,Dr,5),yr(o,Df,5),yr(o,xc,5),yr(o,Ec,5)),2&i){let l;ln(l=cn())&&(r._noDataRow=l.first),ln(l=cn())&&(r._contentColumnDefs=l),ln(l=cn())&&(r._contentRowDefs=l),ln(l=cn())&&(r._contentHeaderRowDefs=l),ln(l=cn())&&(r._contentFooterRowDefs=l)}},viewQuery:function(i,r){if(1&i&&(Ri(Tf,7),Ri(Af,7),Ri(If,7),Ri(Mf,7)),2&i){let o;ln(o=cn())&&(r._rowOutlet=o.first),ln(o=cn())&&(r._headerRowOutlet=o.first),ln(o=cn())&&(r._footerRowOutlet=o.first),ln(o=cn())&&(r._noDataRowOutlet=o.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(i,r){2&i&&Xi("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[st([{provide:va,useExisting:t},{provide:wc,useClass:tT},{provide:R_,useClass:oT},{provide:P_,useValue:null}])],ngContentSelectors:sj,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,r){1&i&&(pd(oj),Gr(0),Gr(1,1),Ki(2,0)(3,1)(4,2)(5,3))},dependencies:[Tf,Af,If,Mf],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return t})();function Of(t,n){return t.concat(Array.from(n))}let vj=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=ce({type:t});static#n=this.\u0275inj=bt({imports:[Zg]})}return t})();const yj=[[["caption"]],[["colgroup"],["col"]]],bj=["caption","colgroup, col"];let lT=(()=>{class t extends Rf{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(t)))(r||t)}}();static#t=this.\u0275cmp=m({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(i,r){2&i&&Xi("mdc-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[st([{provide:Rf,useExisting:t},{provide:va,useExisting:t},{provide:R_,useClass:oT},{provide:wc,useClass:tT},{provide:P_,useValue:null}]),Ue],ngContentSelectors:bj,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,r){1&i&&(pd(yj),Gr(0),Gr(1,1),Ki(2,0)(3,1)(4,2)(5,3))},dependencies:[Tf,Af,If,Mf],styles:[".mat-mdc-table-sticky{position:sticky !important}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{--mat-table-row-item-outline-width:1px;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color)}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-header-headline-font, Roboto, sans-serif);line-height:var(--mat-table-header-headline-line-height);font-size:var(--mat-table-header-headline-size, 14px);font-weight:var(--mat-table-header-headline-weight, 500)}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, Roboto, sans-serif);line-height:var(--mat-table-row-item-label-text-line-height);font-size:var(--mat-table-row-item-label-text-size, 14px);font-weight:var(--mat-table-row-item-label-text-weight)}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-footer-supporting-text-font, Roboto, sans-serif);line-height:var(--mat-table-footer-supporting-text-line-height);font-size:var(--mat-table-footer-supporting-text-size, 14px);font-weight:var(--mat-table-footer-supporting-text-weight);letter-spacing:var(--mat-table-footer-supporting-text-tracking)}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking);font-weight:inherit;line-height:inherit}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking);line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking)}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}return t})(),L_=(()=>{class t extends ya{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(t)))(r||t)}}();static#t=this.\u0275dir=Ae({type:t,selectors:[["","matCellDef",""]],features:[st([{provide:ya,useExisting:t}]),Ue]})}return t})(),V_=(()=>{class t extends ba{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(t)))(r||t)}}();static#t=this.\u0275dir=Ae({type:t,selectors:[["","matHeaderCellDef",""]],features:[st([{provide:ba,useExisting:t}]),Ue]})}return t})(),B_=(()=>{class t extends Dr{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(t)))(r||t)}}();static#t=this.\u0275dir=Ae({type:t,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[st([{provide:Dr,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),Ue]})}return t})(),H_=(()=>{class t extends I_{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(t)))(r||t)}}();static#t=this.\u0275dir=Ae({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[Ue]})}return t})(),j_=(()=>{class t extends M_{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(t)))(r||t)}}();static#t=this.\u0275dir=Ae({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[Ue]})}return t})(),cT=(()=>{class t extends xc{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(t)))(r||t)}}();static#t=this.\u0275dir=Ae({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[st([{provide:xc,useExisting:t}]),Ue]})}return t})(),uT=(()=>{class t extends Df{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(t)))(r||t)}}();static#t=this.\u0275dir=Ae({type:t,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[st([{provide:Df,useExisting:t}]),Ue]})}return t})(),dT=(()=>{class t extends k_{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(t)))(r||t)}}();static#t=this.\u0275cmp=m({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[st([{provide:k_,useExisting:t}]),Ue],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){1&i&&Ki(0,0)},dependencies:[Sr],encapsulation:2})}return t})(),fT=(()=>{class t extends F_{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(t)))(r||t)}}();static#t=this.\u0275cmp=m({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[st([{provide:F_,useExisting:t}]),Ue],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){1&i&&Ki(0,0)},dependencies:[Sr],encapsulation:2})}return t})(),Aj=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=ce({type:t});static#n=this.\u0275inj=bt({imports:[Dn,vj,Dn]})}return t})();function Mj(t,n){1&t&&_n(0,"span",16)}function Rj(t,n){1&t&&(ft(0,"th",17),un(1,"Source Text"),mt())}function Oj(t,n){if(1&t&&(ft(0,"td",18)(1,"span",19),un(2),mt()()),2&t){const e=n.$implicit;Nt(2),No(e.sourceText)}}function kj(t,n){1&t&&(ft(0,"th",17),un(1,"Target Text"),mt())}function Nj(t,n){if(1&t&&(ft(0,"td",18)(1,"span",19),un(2),mt()()),2&t){const e=n.$implicit;Nt(2),No(e.targetText)}}function Fj(t,n){1&t&&(ft(0,"th",17),un(1,"Audio Path"),mt())}function Pj(t,n){if(1&t&&(ft(0,"td",18)(1,"span",19),un(2),mt()()),2&t){const e=n.$implicit;Nt(2),No(e.audioPath)}}function Lj(t,n){1&t&&(ft(0,"th",17),un(1,"Received At"),mt())}function Vj(t,n){if(1&t&&(ft(0,"td",18)(1,"span",19),un(2),function Ow(t,n){const e=_t();let i;const r=t+ht;e.firstCreatePass?(i=function FN(t,n){if(n)for(let e=n.length-1;e>=0;e--){const i=n[e];if(t===i.name)return i}}(n,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=Eo(i.type)),c=fn(ae);try{const d=Cu(!1),h=o();return Cu(d),function hO(t,n,e,i){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=i}(e,Te(),r,h),h}finally{fn(c)}}(3,"date"),mt()()),2&t){const e=n.$implicit;Nt(2),No(kw(3,1,e.receivedAt,"hh:mm:ss dd/MM/yyyy"))}}function Bj(t,n){1&t&&_n(0,"th",17)}function Hj(t,n){1&t&&(ft(0,"span",19),_l(),ft(1,"svg",21),_n(2,"path",22),mt()())}function jj(t,n){if(1&t&&(ft(0,"td",18),Ft(1,Hj,3,0,"span",20),mt()),2&t){const e=n.index,i=_r();Nt(1),Pn("ngIf",e===i.records.length-i.index-1)}}function Uj(t,n){1&t&&_n(0,"tr",23)}function zj(t,n){1&t&&_n(0,"tr",24)}const $j=function(t){return{recording:t}};let qj=(()=>{class t{constructor(e){this.recordsService=e,this.destroy$=new b,this.state=ir.Stop,this.ERecordsState=ir,this.records=[],this.displayedColumns=["sourceText","targetText","audioPath","receivedAt","actions"],this._queue=new tj,this.index=0,this.isPlaying=!1}get isRecording(){return ir.Start===this.state}ngOnInit(){this.recordsService.recordState.pipe(Hn(this.destroy$)).subscribe(e=>{this.state=e}),this.recordsService.records.pipe(Hn(this.destroy$)).subscribe(e=>{this.records=e}),this.recordsService.record.pipe(Hn(this.destroy$),tr(Boolean),function ej(t,n=Zd,e){const i=wD(t,n);return function J3(t,n){return ee((e,i)=>{const{leading:r=!0,trailing:o=!1}=n??{};let l=!1,c=null,d=null,h=!1;const v=()=>{d?.unsubscribe(),d=null,o&&(k(),h&&i.complete())},w=()=>{d=null,h&&i.complete()},M=U=>d=qt(t(U)).subscribe(ie(i,v,w)),k=()=>{if(l){l=!1;const U=c;c=null,i.next(U),!h&&M(U)}};e.subscribe(ie(i,U=>{l=!0,c=U,(!d||d.closed)&&(r?k():M(U))},()=>{h=!0,(!(o&&l&&d)||d.closed)&&i.complete()}))})}(()=>i,e)}(1e3)).subscribe(e=>{this.recordsService.setRecords([e,...this.records]);const i=new Audio(e.audioPath);this._queue.push(i),this.playRecord(this.index)})}playRecord(e){if(!this._queue.getElements(e)||this.isPlaying)return;this.isPlaying=!0;const i=this;this._queue.getElements(e).addEventListener("ended",function(){e++,i.index=e,i.isPlaying=!1,e<i._queue.getStore().length&&i.playRecord(e)}),this._queue.getElements(e).play()}onChangeState(){this.state!==ir.Start?this.onHandleRecord():this.onStopRecord()}onHandleRecord(){console.log("Start recording"),this.recordsService.onStartRecord()}onStopRecord(){console.log("Stop recording"),this.recordsService.onStopRecord()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(i){return new(i||t)(ae(eT))};static#t=this.\u0275cmp=m({type:t,selectors:[["translate-records"]],decls:25,vars:9,consts:[[1,"records--container"],["mat-flat-button","","color","primary",1,"records--container__button",3,"ngClass","click"],[1,"records--container__button"],[1,"records--container__button--text"],["class","records--container__button--loader",4,"ngIf"],[1,"records--container__table-container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","sourceText"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","targetText"],["matColumnDef","audioPath"],["matColumnDef","receivedAt"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"records--container__button--loader"],["mat-header-cell",""],["mat-cell",""],[1,"records--container__row"],["class","records--container__row",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 -960 960 960","width","24px","fill","#e8eaed"],["d","M360-320h80v-320h-80v320Zm160 0h80v-320h-80v320ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"],["mat-header-row",""],["mat-row",""]],template:function(i,r){1&i&&(ft(0,"div",0)(1,"button",1),vn("click",function(){return r.onChangeState()}),ft(2,"div",2)(3,"span",3),un(4),mt(),Ft(5,Mj,1,0,"span",4),mt()(),ft(6,"div",5)(7,"table",6),Yi(8,7),Ft(9,Rj,2,0,"th",8),Ft(10,Oj,3,1,"td",9),Zi(),Yi(11,10),Ft(12,kj,2,0,"th",8),Ft(13,Nj,3,1,"td",9),Zi(),Yi(14,11),Ft(15,Fj,2,0,"th",8),Ft(16,Pj,3,1,"td",9),Zi(),Yi(17,12),Ft(18,Lj,2,0,"th",8),Ft(19,Vj,4,4,"td",9),Zi(),Yi(20,13),Ft(21,Bj,1,0,"th",8),Ft(22,jj,2,1,"td",9),Zi(),Ft(23,Uj,1,0,"tr",14),Ft(24,zj,1,0,"tr",15),mt()()()),2&i&&(Nt(1),Pn("ngClass",Dm(7,$j,r.isRecording)),Nt(3),No(r.isRecording?"Stop":"Start"),Nt(1),Pn("ngIf",r.isRecording),Nt(2),Pn("dataSource",r.records),Nt(16),Pn("matHeaderRowDef",r.displayedColumns)("matHeaderRowDefSticky",!0),Nt(1),Pn("matRowDefColumns",r.displayedColumns))},dependencies:[ug,jd,fD,lT,V_,cT,B_,L_,uT,H_,j_,dT,fT,lE],styles:[".records--container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:32px}.records--container[_ngcontent-%COMP%]   .records--container__button[_ngcontent-%COMP%]{width:100px}.records--container[_ngcontent-%COMP%]   .records--container__table-container[_ngcontent-%COMP%]{height:70vh;overflow-y:scroll}.records--container[_ngcontent-%COMP%]   .records--container__table-container[_ngcontent-%COMP%]     .mat-column-sourceText{width:10%;flex:0 0 25%!important}.records--container[_ngcontent-%COMP%]   .records--container__table-container[_ngcontent-%COMP%]     .mat-column-targetText{width:15%;flex:0 0 25%!important}.records--container[_ngcontent-%COMP%]   .records--container__table-container[_ngcontent-%COMP%]     .mat-column-receivedAt{width:15%;flex:0 0 25%!important}.records--container__button[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:8px}.records--container__button[_ngcontent-%COMP%]   .records--container__button--loader[_ngcontent-%COMP%]{border:2px solid #f3f3f3;border-radius:50%;border-top:2px solid #00a89d;width:10px;height:10px;animation:_ngcontent-%COMP%_spin 2s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}  .mat-mdc-unelevated-button:not(:disabled){background-color:#00a89d!important}  .recording:not(:disabled){background-color:#f5ab6c!important}"]})}return t})();function Gj(t,n){if(1&t){const e=am();ft(0,"div",8),vn("click",function(){return Ih(e),Mh(_r().onOpenAuthDialog())}),_l(),ft(1,"svg",9),_n(2,"path",10),mt()()}}function Wj(t,n){1&t&&_n(0,"translate-records")}function Yj(t,n){1&t&&_n(0,"translate-auth")}const Zj=function(t){return{"auth--container":t}};let Kj=(()=>{class t{constructor(e,i,r,o,l){this.dialog=e,this.authService=i,this.jssipService=r,this._toast=o,this.recordsService=l,this.onDestroy$=new b,this._isLoggedIn=!1,C_.debug.enable("JsSIP:*")}ngOnInit(){this.authService.getAuth$().pipe(Hn(this.onDestroy$),qd(1)).subscribe(e=>{this._isLoggedIn=e,e?this.jssipService.connectServer():this.jssipService.disconnectServer()}),this.authService.getAuthData$().pipe(Hn(this.onDestroy$),tr(e=>!!e.username&&!!e.password)).subscribe(e=>{const i=this.authService.checkAuthData(e);this.authService.setAuth(i),i&&localStorage.setItem(bf.AuthKey,JSON.stringify(e))})}ngAfterViewInit(){const e=localStorage.getItem(bf.AuthKey);e&&this.authService.setAuthData(JSON.parse(e))}get isLoggedIn(){return this._isLoggedIn}onOpenAuthDialog(){this.isLoggedIn?this.onLogout():this.dialog.open(US,{width:"400px"})}onLogout(){this.authService.setAuth(!1),this.recordsService.onStopRecord(),localStorage.removeItem(bf.AuthKey),this._toast.openToast("Logout success")}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}static#e=this.\u0275fac=function(i){return new(i||t)(ae(QS),ae(PD),ae(K3),ae(e_),ae(eT))};static#t=this.\u0275cmp=m({type:t,selectors:[["app-root"]],decls:11,vars:6,consts:[[1,"wrapper"],["role","banner",1,"toolbar"],["width","100","alt","Angular Logo","src","./assets/images/logo.jpeg"],[1,"spacer"],[1,"app--container_title"],["class","auth--container_icon",3,"click",4,"ngIf"],[1,"content",3,"ngClass"],[4,"ngIf"],[1,"auth--container_icon",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 -960 960 960","width","24px","fill","#00a89d"],["d","M440-440v-400h80v400h-80Zm40 320q-74 0-139.5-28.5T226-226q-49-49-77.5-114.5T120-480q0-80 33-151t93-123l56 56q-48 40-75 97t-27 121q0 116 82 198t198 82q117 0 198.5-82T760-480q0-64-26.5-121T658-698l56-56q60 52 93 123t33 151q0 74-28.5 139.5t-77 114.5q-48.5 49-114 77.5T480-120Z"]],template:function(i,r){1&i&&(ft(0,"div",0)(1,"div",1),_n(2,"img",2)(3,"div",3),ft(4,"div",4),un(5," H\u1ec7 th\u1ed1ng d\u1ecbch tr\u1ef1c tuy\u1ebfn "),mt(),_n(6,"div",3),Ft(7,Gj,3,0,"div",5),mt(),ft(8,"div",6),Ft(9,Wj,1,0,"translate-records",7),Ft(10,Yj,1,0,"translate-auth",7),mt()()),2&i&&(Nt(7),Pn("ngIf",r.isLoggedIn),Nt(1),Pn("ngClass",Dm(4,Zj,!r.isLoggedIn)),Nt(1),Pn("ngIf",r.isLoggedIn),Nt(1),Pn("ngIf",!r.isLoggedIn))},dependencies:[ug,jd,US,qj],styles:['[_nghost-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:14px;color:#333;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}[_nghost-%COMP%]   *[_ngcontent-%COMP%]{-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}[_nghost-%COMP%]   .auth--container[_ngcontent-%COMP%]{overflow:hidden;height:100vh;display:flex;align-items:center;justify-content:center;flex-direction:column;position:relative;font-family:Roboto,helvetica,arial,sans-serif;font-size:1.5em}[_nghost-%COMP%]   .auth--container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;height:100%;width:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAUVBMVEWFhYWDg4N3d3dtbW17e3t1dXWBgYGHh4d5eXlzc3OLi4ubm5uVlZWPj4+NjY19fX2JiYl/f39ra2uRkZGZmZlpaWmXl5dvb29xcXGTk5NnZ2c8TV1mAAAAG3RSTlNAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAvEOwtAAAFVklEQVR4XpWWB67c2BUFb3g557T/hRo9/WUMZHlgr4Bg8Z4qQgQJlHI4A8SzFVrapvmTF9O7dmYRFZ60YiBhJRCgh1FYhiLAmdvX0CzTOpNE77ME0Zty/nWWzchDtiqrmQDeuv3powQ5ta2eN0FY0InkqDD73lT9c9lEzwUNqgFHs9VQce3TVClFCQrSTfOiYkVJQBmpbq2L6iZavPnAPcoU0dSw0SUTqz/GtrGuXfbyyBniKykOWQWGqwwMA7QiYAxi+IlPdqo+hYHnUt5ZPfnsHJyNiDtnpJyayNBkF6cWoYGAMY92U2hXHF/C1M8uP/ZtYdiuj26UdAdQQSXQErwSOMzt/XWRWAz5GuSBIkwG1H3FabJ2OsUOUhGC6tK4EMtJO0ttC6IBD3kM0ve0tJwMdSfjZo+EEISaeTr9P3wYrGjXqyC1krcKdhMpxEnt5JetoulscpyzhXN5FRpuPHvbeQaKxFAEB6EN+cYN6xD7RYGpXpNndMmZgM5Dcs3YSNFDHUo2LGfZuukSWyUYirJAdYbF3MfqEKmjM+I2EfhA94iG3L7uKrR+GdWD73ydlIB+6hgref1QTlmgmbM3/LeX5GI1Ux1RWpgxpLuZ2+I+IjzZ8wqE4nilvQdkUdfhzI5QDWy+kw5Wgg2pGpeEVeCCA7b85BO3F9DzxB3cdqvBzWcmzbyMiqhzuYqtHRVG2y4x+KOlnyqla8AoWWpuBoYRxzXrfKuILl6SfiWCbjxoZJUaCBj1CjH7GIaDbc9kqBY3W/Rgjda1iqQcOJu2WW+76pZC9QG7M00dffe9hNnseupFL53r8F7YHSwJWUKP2q+k7RdsxyOB11n0xtOvnW4irMMFNV4H0uqwS5ExsmP9AxbDTc9JwgneAT5vTiUSm1E7BSflSt3bfa1tv8Di3R8n3Af7MNWzs49hmauE2wP+ttrq+AsWpFG2awvsuOqbipWHgtuvuaAE+A1Z/7gC9hesnr+7wqCwG8c5yAg3AL1fm8T9AZtp/bbJGwl1pNrE7RuOX7PeMRUERVaPpEs+yqeoSmuOlokqw49pgomjLeh7icHNlG19yjs6XXOMedYm5xH2YxpV2tc0Ro2jJfxC50ApuxGob7lMsxfTbeUv07TyYxpeLucEH1gNd4IKH2LAg5TdVhlCafZvpskfncCfx8pOhJzd76bJWeYFnFciwcYfubRc12Ip/ppIhA1/mSZ/RxjFDrJC5xifFjJpY2Xl5zXdguFqYyTR1zSp1Y9p+tktDYYSNflcxI0iyO4TPBdlRcpeqjK/piF5bklq77VSEaA+z8qmJTFzIWiitbnzR794USKBUaT0NTEsVjZqLaFVqJoPN9ODG70IPbfBHKK+/q/AWR0tJzYHRULOa4MP+W/HfGadZUbfw177G7j/OGbIs8TahLyynl4X4RinF793Oz+BU0saXtUHrVBFT/DnA3ctNPoGbs4hRIjTok8i+algT1lTHi4SxFvONKNrgQFAq2/gFnWMXgwffgYMJpiKYkmW3tTg3ZQ9Jq+f8XN+A5eeUKHWvJWJ2sgJ1Sop+wwhqFVijqWaJhwtD8MNlSBeWNNWTa5Z5kPZw5+LbVT99wqTdx29lMUH4OIG/D86ruKEauBjvH5xy6um/Sfj7ei6UUVk4AIl3MyD4MSSTOFgSwsH/QJWaQ5as7ZcmgBZkzjjU1UrQ74ci1gWBCSGHtuV1H2mhSnO3Wp/3fEV5a+4wz//6qy8JxjZsmxxy5+4w9CDNJY09T072iKG0EnOS0arEYgXqYnXcYHwjTtUNAcMelOd4xpkoqiTYICWFq0JSiPfPDQdnt+4/wuqcXY47QILbgAAAABJRU5ErkJggg==);opacity:.3}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:8px 0}p[_ngcontent-%COMP%]{margin:0}.wrapper[_ngcontent-%COMP%]{position:relative;overflow:hidden}.spacer[_ngcontent-%COMP%]{flex:1}.toolbar[_ngcontent-%COMP%]{position:sticky;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#ebb688;color:#fff;font-weight:600}.toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 16px}.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]{height:40px;margin:0 8px}.toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]{height:40px;margin:0 16px}.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover{opacity:.8}.app--container_title[_ngcontent-%COMP%]{font-size:28px;font-weight:600;margin:16px;color:#00a89d}.auth--container_icon[_ngcontent-%COMP%]{padding:24px}.auth--container_icon[_ngcontent-%COMP%]:hover{cursor:pointer}.content[_ngcontent-%COMP%]{position:relative;top:0;left:0;padding:32px}']})}return t})(),OU=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=ce({type:t});static#n=this.\u0275inj=bt({imports:[Dn,Dn]})}return t})(),kU=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=ce({type:t});static#n=this.\u0275inj=bt({})}return t})(),K_=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=ce({type:t});static#n=this.\u0275inj=bt({imports:[Dn,mg,LE,Dn]})}return t})(),HU=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=ce({type:t});static#n=this.\u0275inj=bt({imports:[Dn,K_,K_,kU,Dn]})}return t})();function RT(t){return new be(3e3,!1)}function oo(t){switch(t.length){case 0:return new fc;case 1:return t[0];default:return new yD(t)}}function OT(t,n,e=new Map,i=new Map){const r=[],o=[];let l=-1,c=null;if(n.forEach(d=>{const h=d.get("offset"),v=h==l,w=v&&c||new Map;d.forEach((M,k)=>{let U=k,J=M;if("offset"!==k)switch(U=t.normalizePropertyName(U,r),J){case"!":J=e.get(k);break;case Er:J=i.get(k);break;default:J=t.normalizeStyleValue(k,U,J,r)}w.set(U,J)}),v||o.push(w),c=w,l=h}),r.length)throw function u4(t){return new be(3502,!1)}();return o}function X_(t,n,e,i){switch(n){case"start":t.onStart(()=>i(e&&Q_(e,"start",t)));break;case"done":t.onDone(()=>i(e&&Q_(e,"done",t)));break;case"destroy":t.onDestroy(()=>i(e&&Q_(e,"destroy",t)))}}function Q_(t,n,e){const o=J_(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,e.totalTime??t.totalTime,!!e.disabled),l=t._data;return null!=l&&(o._data=l),o}function J_(t,n,e,i,r="",o=0,l){return{element:t,triggerName:n,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!l}}function oi(t,n,e){let i=t.get(n);return i||t.set(n,i=e),i}function kT(t){const n=t.indexOf(":");return[t.substring(1,n),t.slice(n+1)]}const w4=(()=>typeof document>"u"?null:document.documentElement)();function ev(t){const n=t.parentNode||t.host||null;return n===w4?null:n}let Wo=null,NT=!1;function FT(t,n){for(;n;){if(n===t)return!0;n=ev(n)}return!1}function PT(t,n,e){if(e)return Array.from(t.querySelectorAll(n));const i=t.querySelector(n);return i?[i]:[]}let LT=(()=>{class t{validateStyleProperty(e){return function E4(t){Wo||(Wo=function D4(){return typeof document<"u"?document.body:null}()||{},NT=!!Wo.style&&"WebkitAppearance"in Wo.style);let n=!0;return Wo.style&&!function x4(t){return"ebkit"==t.substring(1,6)}(t)&&(n=t in Wo.style,!n&&NT&&(n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Wo.style)),n}(e)}matchesElement(e,i){return!1}containsElement(e,i){return FT(e,i)}getParentElement(e){return ev(e)}query(e,i,r){return PT(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,l,c=[],d){return new fc(r,o)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}return t})(),tv=(()=>{class t{static#e=this.NOOP=new LT}return t})();const S4=1e3,nv="ng-enter",Vf="ng-leave",Bf="ng-trigger",Hf=".ng-trigger",BT="ng-animating",iv=".ng-animating";function Ar(t){if("number"==typeof t)return t;const n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:rv(parseFloat(n[1]),n[2])}function rv(t,n){return"s"===n?t*S4:t}function jf(t,n,e){return t.hasOwnProperty("duration")?t:function A4(t,n,e){let r,o=0,l="";if("string"==typeof t){const c=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===c)return n.push(RT()),{duration:0,delay:0,easing:""};r=rv(parseFloat(c[1]),c[2]);const d=c[3];null!=d&&(o=rv(parseFloat(d),c[4]));const h=c[5];h&&(l=h)}else r=t;if(!e){let c=!1,d=n.length;r<0&&(n.push(function jU(){return new be(3100,!1)}()),c=!0),o<0&&(n.push(function UU(){return new be(3101,!1)}()),c=!0),c&&n.splice(d,0,RT())}return{duration:r,delay:o,easing:l}}(t,n,e)}function Ac(t,n={}){return Object.keys(t).forEach(e=>{n[e]=t[e]}),n}function HT(t){const n=new Map;return Object.keys(t).forEach(e=>{n.set(e,t[e])}),n}function so(t,n=new Map,e){if(e)for(let[i,r]of e)n.set(i,r);for(let[i,r]of t)n.set(i,r);return n}function rr(t,n,e){n.forEach((i,r)=>{const o=sv(r);e&&!e.has(r)&&e.set(r,t.style[o]),t.style[o]=i})}function Yo(t,n){n.forEach((e,i)=>{const r=sv(i);t.style[r]=""})}function Ic(t){return Array.isArray(t)?1==t.length?t[0]:gD(t):t}const ov=new RegExp("{{\\s*(.+?)\\s*}}","g");function UT(t){let n=[];if("string"==typeof t){let e;for(;e=ov.exec(t);)n.push(e[1]);ov.lastIndex=0}return n}function Mc(t,n,e){const i=t.toString(),r=i.replace(ov,(o,l)=>{let c=n[l];return null==c&&(e.push(function $U(t){return new be(3003,!1)}()),c=""),c.toString()});return r==i?t:r}function Uf(t){const n=[];let e=t.next();for(;!e.done;)n.push(e.value),e=t.next();return n}const R4=/-+([a-z0-9])/g;function sv(t){return t.replace(R4,(...n)=>n[1].toUpperCase())}function si(t,n,e){switch(n.type){case 7:return t.visitTrigger(n,e);case 0:return t.visitState(n,e);case 1:return t.visitTransition(n,e);case 2:return t.visitSequence(n,e);case 3:return t.visitGroup(n,e);case 4:return t.visitAnimate(n,e);case 5:return t.visitKeyframes(n,e);case 6:return t.visitStyle(n,e);case 8:return t.visitReference(n,e);case 9:return t.visitAnimateChild(n,e);case 10:return t.visitAnimateRef(n,e);case 11:return t.visitQuery(n,e);case 12:return t.visitStagger(n,e);default:throw function qU(t){return new be(3004,!1)}()}}const zf="*";function N4(t,n){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(i=>function F4(t,n,e){if(":"==t[0]){const d=function P4(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return n.push(function s4(t){return new be(3016,!1)}()),"* => *"}}(t,e);if("function"==typeof d)return void n.push(d);t=d}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function o4(t){return new be(3015,!1)}()),n;const r=i[1],o=i[2],l=i[3];n.push($T(r,l));"<"==o[0]&&!(r==zf&&l==zf)&&n.push($T(l,r))}(i,e,n)):e.push(t),e}const $f=new Set(["true","1"]),qf=new Set(["false","0"]);function $T(t,n){const e=$f.has(t)||qf.has(t),i=$f.has(n)||qf.has(n);return(r,o)=>{let l=t==zf||t==r,c=n==zf||n==o;return!l&&e&&"boolean"==typeof r&&(l=r?$f.has(t):qf.has(t)),!c&&i&&"boolean"==typeof o&&(c=o?$f.has(n):qf.has(n)),l&&c}}const L4=new RegExp("s*:selfs*,?","g");function av(t,n,e,i){return new V4(t).build(n,e,i)}class V4{constructor(n){this._driver=n}build(n,e,i){const r=new j4(e);return this._resetContextStyleTimingState(r),si(this,Ic(n),r)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],l=[];return"@"==n.name.charAt(0)&&e.errors.push(function WU(){return new be(3006,!1)}()),n.definitions.forEach(c=>{if(this._resetContextStyleTimingState(e),0==c.type){const d=c,h=d.name;h.toString().split(/\s*,\s*/).forEach(v=>{d.name=v,o.push(this.visitState(d,e))}),d.name=h}else if(1==c.type){const d=this.visitTransition(c,e);i+=d.queryCount,r+=d.depCount,l.push(d)}else e.errors.push(function YU(){return new be(3007,!1)}())}),{type:7,name:n.name,states:o,transitions:l,queryCount:i,depCount:r,options:null}}visitState(n,e){const i=this.visitStyle(n.styles,e),r=n.options&&n.options.params||null;if(i.containsDynamicStyles){const o=new Set,l=r||{};i.styles.forEach(c=>{c instanceof Map&&c.forEach(d=>{UT(d).forEach(h=>{l.hasOwnProperty(h)||o.add(h)})})}),o.size&&(Uf(o.values()),e.errors.push(function ZU(t,n){return new be(3008,!1)}()))}return{type:0,name:n.name,style:i,options:r?{params:r}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const i=si(this,Ic(n.animation),e);return{type:1,matchers:N4(n.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Zo(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(i=>si(this,i,e)),options:Zo(n.options)}}visitGroup(n,e){const i=e.currentTime;let r=0;const o=n.steps.map(l=>{e.currentTime=i;const c=si(this,l,e);return r=Math.max(r,e.currentTime),c});return e.currentTime=r,{type:3,steps:o,options:Zo(n.options)}}visitAnimate(n,e){const i=function z4(t,n){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return lv(jf(t,n).duration,0,"");const e=t;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=lv(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=jf(e,n);return lv(r.duration,r.delay,r.easing)}(n.timings,e.errors);e.currentAnimateTimings=i;let r,o=n.styles?n.styles:Ni({});if(5==o.type)r=this.visitKeyframes(o,e);else{let l=n.styles,c=!1;if(!l){c=!0;const h={};i.easing&&(h.easing=i.easing),l=Ni(h)}e.currentTime+=i.duration+i.delay;const d=this.visitStyle(l,e);d.isEmptyStep=c,r=d}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(n,e){const i=this._makeStyleAst(n,e);return this._validateStyleAst(i,e),i}_makeStyleAst(n,e){const i=[],r=Array.isArray(n.styles)?n.styles:[n.styles];for(let c of r)"string"==typeof c?c===Er?i.push(c):e.errors.push(new be(3002,!1)):i.push(HT(c));let o=!1,l=null;return i.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(l=c.get("easing"),c.delete("easing")),!o))for(let d of c.values())if(d.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:l,offset:n.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(n,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),n.styles.forEach(l=>{"string"!=typeof l&&l.forEach((c,d)=>{const h=e.collectedStyles.get(e.currentQuerySelector),v=h.get(d);let w=!0;v&&(o!=r&&o>=v.startTime&&r<=v.endTime&&(e.errors.push(function XU(t,n,e,i,r){return new be(3010,!1)}()),w=!1),o=v.startTime),w&&h.set(d,{startTime:o,endTime:r}),e.options&&function M4(t,n,e){const i=n.params||{},r=UT(t);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function zU(t){return new be(3001,!1)}())})}(c,e.options,e.errors)})})}visitKeyframes(n,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function QU(){return new be(3011,!1)}()),i;let o=0;const l=[];let c=!1,d=!1,h=0;const v=n.steps.map(xe=>{const pe=this._makeStyleAst(xe,e);let Le=null!=pe.offset?pe.offset:function U4(t){if("string"==typeof t)return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;n=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const e=t;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(pe.styles),Be=0;return null!=Le&&(o++,Be=pe.offset=Le),d=d||Be<0||Be>1,c=c||Be<h,h=Be,l.push(Be),pe});d&&e.errors.push(function JU(){return new be(3012,!1)}()),c&&e.errors.push(function e4(){return new be(3200,!1)}());const w=n.steps.length;let M=0;o>0&&o<w?e.errors.push(function t4(){return new be(3202,!1)}()):0==o&&(M=1/(w-1));const k=w-1,U=e.currentTime,J=e.currentAnimateTimings,he=J.duration;return v.forEach((xe,pe)=>{const Le=M>0?pe==k?1:M*pe:l[pe],Be=Le*he;e.currentTime=U+J.delay+Be,J.duration=Be,this._validateStyleAst(xe,e),xe.offset=Le,i.styles.push(xe)}),i}visitReference(n,e){return{type:8,animation:si(this,Ic(n.animation),e),options:Zo(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:Zo(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:Zo(n.options)}}visitQuery(n,e){const i=e.currentQuerySelector,r=n.options||{};e.queryCount++,e.currentQuery=n;const[o,l]=function B4(t){const n=!!t.split(/\s*,\s*/).find(e=>":self"==e);return n&&(t=t.replace(L4,"")),t=t.replace(/@\*/g,Hf).replace(/@\w+/g,e=>Hf+"-"+e.slice(1)).replace(/:animating/g,iv),[t,n]}(n.selector);e.currentQuerySelector=i.length?i+" "+o:o,oi(e.collectedStyles,e.currentQuerySelector,new Map);const c=si(this,Ic(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:c,originalSelector:n.selector,options:Zo(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function n4(){return new be(3013,!1)}());const i="full"===n.timings?{duration:0,delay:0,easing:"full"}:jf(n.timings,e.errors,!0);return{type:12,animation:si(this,Ic(n.animation),e),timings:i,options:null}}}class j4{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Zo(t){return t?(t=Ac(t)).params&&(t.params=function H4(t){return t?Ac(t):null}(t.params)):t={},t}function lv(t,n,e){return{duration:t,delay:n,easing:e}}function cv(t,n,e,i,r,o,l=null,c=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:l,subTimeline:c}}class Gf{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let i=this._map.get(n);i||this._map.set(n,i=[]),i.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const G4=new RegExp(":enter","g"),Y4=new RegExp(":leave","g");function uv(t,n,e,i,r,o=new Map,l=new Map,c,d,h=[]){return(new Z4).buildKeyframes(t,n,e,i,r,o,l,c,d,h)}class Z4{buildKeyframes(n,e,i,r,o,l,c,d,h,v=[]){h=h||new Gf;const w=new dv(n,e,h,r,o,v,[]);w.options=d;const M=d.delay?Ar(d.delay):0;w.currentTimeline.delayNextStep(M),w.currentTimeline.setStyles([l],null,w.errors,d),si(this,i,w);const k=w.timelines.filter(U=>U.containsAnimation());if(k.length&&c.size){let U;for(let J=k.length-1;J>=0;J--){const he=k[J];if(he.element===e){U=he;break}}U&&!U.allowOnlyTimelineStyles()&&U.setStyles([c],null,w.errors,d)}return k.length?k.map(U=>U.buildKeyframes()):[cv(e,[],[],[],0,M,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(n.options),o=e.currentTimeline.currentTime,l=this._visitSubInstructions(i,r,r.options);o!=l&&e.transformIntoNewTimeline(l)}e.previousNode=n}visitAnimateRef(n,e){const i=e.createSubContext(n.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,i),this.visitReference(n.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,i){for(const r of n){const o=r?.delay;if(o){const l="number"==typeof o?o:Ar(Mc(o,r?.params??{},e.errors));i.delayNextStep(l)}}}_visitSubInstructions(n,e,i){let o=e.currentTimeline.currentTime;const l=null!=i.duration?Ar(i.duration):null,c=null!=i.delay?Ar(i.delay):null;return 0!==l&&n.forEach(d=>{const h=e.appendInstructionToTimeline(d,l,c);o=Math.max(o,h.duration+h.delay)}),o}visitReference(n,e){e.updateOptions(n.options,!0),si(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const i=e.subContextCount;let r=e;const o=n.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Wf);const l=Ar(o.delay);r.delayNextStep(l)}n.steps.length&&(n.steps.forEach(l=>si(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const i=[];let r=e.currentTimeline.currentTime;const o=n.options&&n.options.delay?Ar(n.options.delay):0;n.steps.forEach(l=>{const c=e.createSubContext(n.options);o&&c.delayNextStep(o),si(this,l,c),r=Math.max(r,c.currentTimeline.currentTime),i.push(c.currentTimeline)}),i.forEach(l=>e.currentTimeline.mergeTimelineCollectedStyles(l)),e.transformIntoNewTimeline(r),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const i=n.strValue;return jf(e.params?Mc(i,e.params,e.errors):i,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const i=e.currentAnimateTimings=this._visitTiming(n.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=n.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||n.easing;n.isEmptyStep?i.applyEmptyStep(o):i.setStyles(n.styles,o,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,c=e.createSubContext().currentTimeline;c.easing=i.easing,n.styles.forEach(d=>{c.forwardTime((d.offset||0)*o),c.setStyles(d.styles,d.easing,e.errors,e.options),c.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(c),e.transformIntoNewTimeline(r+o),e.previousNode=n}visitQuery(n,e){const i=e.currentTimeline.currentTime,r=n.options||{},o=r.delay?Ar(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Wf);let l=i;const c=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=c.length;let d=null;c.forEach((h,v)=>{e.currentQueryIndex=v;const w=e.createSubContext(n.options,h);o&&w.delayNextStep(o),h===e.element&&(d=w.currentTimeline),si(this,n.animation,w),w.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,w.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),d&&(e.currentTimeline.mergeTimelineCollectedStyles(d),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const i=e.parentContext,r=e.currentTimeline,o=n.timings,l=Math.abs(o.duration),c=l*(e.currentQueryTotal-1);let d=l*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":d=c-d;break;case"full":d=i.currentStaggerTime}const v=e.currentTimeline;d&&v.delayNextStep(d);const w=v.currentTime;si(this,n.animation,e),e.previousNode=n,i.currentStaggerTime=r.currentTime-w+(r.startTime-i.currentTimeline.startTime)}}const Wf={};class dv{constructor(n,e,i,r,o,l,c,d){this._driver=n,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=l,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Wf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=d||new Yf(this._driver,e,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const i=n;let r=this.options;null!=i.duration&&(r.duration=Ar(i.duration)),null!=i.delay&&(r.delay=Ar(i.delay));const o=i.params;if(o){let l=r.params;l||(l=this.options.params={}),Object.keys(o).forEach(c=>{(!e||!l.hasOwnProperty(c))&&(l[c]=Mc(o[c],l,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const i=n.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return n}createSubContext(n=null,e,i){const r=e||this.element,o=new dv(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(n),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(n){return this.previousNode=Wf,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,i){const r={duration:e??n.duration,delay:this.currentTimeline.currentTime+(i??0)+n.delay,easing:""},o=new K4(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,r,n.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,i,r,o,l){let c=[];if(r&&c.push(this.element),n.length>0){n=(n=n.replace(G4,"."+this._enterClassName)).replace(Y4,"."+this._leaveClassName);let h=this._driver.query(this.element,n,1!=i);0!==i&&(h=i<0?h.slice(h.length+i,h.length):h.slice(0,i)),c.push(...h)}return!o&&0==c.length&&l.push(function r4(t){return new be(3014,!1)}()),c}}class Yf{constructor(n,e,i,r){this._driver=n,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new Yf(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Er),this._currentKeyframe.set(e,Er);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},l=function X4(t,n){const e=new Map;let i;return t.forEach(r=>{if("*"===r){i=i||n.keys();for(let o of i)e.set(o,Er)}else so(r,e)}),e}(n,this._globalTimelineStyles);for(let[c,d]of l){const h=Mc(d,o,i);this._pendingStyles.set(c,h),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??Er),this._updateStyle(c,h)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((c,d)=>{const h=so(c,new Map,this._backFill);h.forEach((v,w)=>{"!"===v?n.add(w):v===Er&&e.add(w)}),i||h.set("offset",d/this.duration),r.push(h)});const o=n.size?Uf(n.values()):[],l=e.size?Uf(e.values()):[];if(i){const c=r[0],d=new Map(c);c.set("offset",0),d.set("offset",1),r=[c,d]}return cv(this.element,r,o,l,this.duration,this.startTime,this.easing,!1)}}class K4 extends Yf{constructor(n,e,i,r,o,l,c=!1){super(n,e,l.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=c,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],l=i+e,c=e/l,d=so(n[0]);d.set("offset",0),o.push(d);const h=so(n[0]);h.set("offset",WT(c)),o.push(h);const v=n.length-1;for(let w=1;w<=v;w++){let M=so(n[w]);const k=M.get("offset");M.set("offset",WT((e+k*i)/l)),o.push(M)}i=l,e=0,r="",n=o}return cv(this.element,n,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function WT(t,n=3){const e=Math.pow(10,n-1);return Math.round(t*e)/e}class fv{}const Q4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class J4 extends fv{normalizePropertyName(n,e){return sv(n)}normalizeStyleValue(n,e,i,r){let o="";const l=i.toString().trim();if(Q4.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const c=i.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&0==c[1].length&&r.push(function GU(t,n){return new be(3005,!1)}())}return l+o}}function YT(t,n,e,i,r,o,l,c,d,h,v,w,M){return{type:0,element:t,triggerName:n,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:l,timelines:c,queriedElements:d,preStyleProps:h,postStyleProps:v,totalTime:w,errors:M}}const hv={};class ZT{constructor(n,e,i){this._triggerName=n,this.ast=e,this._stateStyles=i}match(n,e,i,r){return function e8(t,n,e,i,r){return t.some(o=>o(n,e,i,r))}(this.ast.matchers,n,e,i,r)}buildStyles(n,e,i){let r=this._stateStyles.get("*");return void 0!==n&&(r=this._stateStyles.get(n?.toString())||r),r?r.buildStyles(e,i):new Map}build(n,e,i,r,o,l,c,d,h,v){const w=[],M=this.ast.options&&this.ast.options.params||hv,U=this.buildStyles(i,c&&c.params||hv,w),J=d&&d.params||hv,he=this.buildStyles(r,J,w),xe=new Set,pe=new Map,Le=new Map,Be="void"===r,it={params:t8(J,M),delay:this.ast.options?.delay},Rt=v?[]:uv(n,e,this.ast.animation,o,l,U,he,it,h,w);let Vt=0;if(Rt.forEach(ai=>{Vt=Math.max(ai.duration+ai.delay,Vt)}),w.length)return YT(e,this._triggerName,i,r,Be,U,he,[],[],pe,Le,Vt,w);Rt.forEach(ai=>{const Pi=ai.element,Qf=oi(pe,Pi,new Set);ai.preStyleProps.forEach(Ko=>Qf.add(Ko));const Oc=oi(Le,Pi,new Set);ai.postStyleProps.forEach(Ko=>Oc.add(Ko)),Pi!==e&&xe.add(Pi)});const yn=Uf(xe.values());return YT(e,this._triggerName,i,r,Be,U,he,Rt,yn,pe,Le,Vt)}}function t8(t,n){const e=Ac(n);for(const i in t)t.hasOwnProperty(i)&&null!=t[i]&&(e[i]=t[i]);return e}class n8{constructor(n,e,i){this.styles=n,this.defaultParams=e,this.normalizer=i}buildStyles(n,e){const i=new Map,r=Ac(this.defaultParams);return Object.keys(n).forEach(o=>{const l=n[o];null!==l&&(r[o]=l)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((l,c)=>{l&&(l=Mc(l,r,e));const d=this.normalizer.normalizePropertyName(c,e);l=this.normalizer.normalizeStyleValue(c,d,l,e),i.set(c,l)})}),i}}class r8{constructor(n,e,i){this.name=n,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new n8(r.style,r.options&&r.options.params||{},i))}),KT(this.states,"true","1"),KT(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new ZT(n,r,this.states))}),this.fallbackTransition=function o8(t,n,e){return new ZT(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,c)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,i,r){return this.transitionFactories.find(l=>l.match(n,e,i,r))||null}matchStyles(n,e,i){return this.fallbackTransition.buildStyles(n,e,i)}}function KT(t,n,e){t.has(n)?t.has(e)||t.set(e,t.get(n)):t.has(e)&&t.set(n,t.get(e))}const s8=new Gf;class a8{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const i=[],o=av(this._driver,e,i,[]);if(i.length)throw function d4(t){return new be(3503,!1)}();this._animations.set(n,o)}_buildPlayer(n,e,i){const r=n.element,o=OT(this._normalizer,n.keyframes,e,i);return this._driver.animate(r,o,n.duration,n.delay,n.easing,[],!0)}create(n,e,i={}){const r=[],o=this._animations.get(n);let l;const c=new Map;if(o?(l=uv(this._driver,e,o,nv,Vf,new Map,new Map,i,s8,r),l.forEach(v=>{const w=oi(c,v.element,new Map);v.postStyleProps.forEach(M=>w.set(M,null))})):(r.push(function f4(){return new be(3300,!1)}()),l=[]),r.length)throw function h4(t){return new be(3504,!1)}();c.forEach((v,w)=>{v.forEach((M,k)=>{v.set(k,this._driver.computeStyle(w,k,Er))})});const h=oo(l.map(v=>{const w=c.get(v.element);return this._buildPlayer(v,new Map,w)}));return this._playersById.set(n,h),h.onDestroy(()=>this.destroy(n)),this.players.push(h),h}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function p4(t){return new be(3301,!1)}();return e}listen(n,e,i,r){const o=J_(e,"","","");return X_(this._getPlayer(n),i,o,r),()=>{}}command(n,e,i,r){if("register"==i)return void this.register(n,r[0]);if("create"==i)return void this.create(n,e,r[0]||{});const o=this._getPlayer(n);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(n)}}}const XT="ng-animate-queued",pv="ng-animate-disabled",f8=[],QT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},h8={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fi="__ng_removed";class mv{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;const i=n&&n.hasOwnProperty("value");if(this.value=function _8(t){return t??null}(i?n.value:n),i){const o=Ac(n);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const e=n.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Rc="void",gv=new mv(Rc);class p8{constructor(n,e,i){this.id=n,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,bi(e,this._hostClassName)}listen(n,e,i,r){if(!this._triggers.has(e))throw function m4(t,n){return new be(3302,!1)}();if(null==i||0==i.length)throw function g4(t){return new be(3303,!1)}();if(!function v8(t){return"start"==t||"done"==t}(i))throw function _4(t,n){return new be(3400,!1)}();const o=oi(this._elementListeners,n,[]),l={name:e,phase:i,callback:r};o.push(l);const c=oi(this._engine.statesByElement,n,new Map);return c.has(e)||(bi(n,Bf),bi(n,Bf+"-"+e),c.set(e,gv)),()=>{this._engine.afterFlush(()=>{const d=o.indexOf(l);d>=0&&o.splice(d,1),this._triggers.has(e)||c.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function v4(t){return new be(3401,!1)}();return e}trigger(n,e,i,r=!0){const o=this._getTrigger(e),l=new _v(this.id,e,n);let c=this._engine.statesByElement.get(n);c||(bi(n,Bf),bi(n,Bf+"-"+e),this._engine.statesByElement.set(n,c=new Map));let d=c.get(e);const h=new mv(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&d&&h.absorbOptions(d.options),c.set(e,h),d||(d=gv),h.value!==Rc&&d.value===h.value){if(!function C8(t,n){const e=Object.keys(t),i=Object.keys(n);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!n.hasOwnProperty(o)||t[o]!==n[o])return!1}return!0}(d.params,h.params)){const J=[],he=o.matchStyles(d.value,d.params,J),xe=o.matchStyles(h.value,h.params,J);J.length?this._engine.reportError(J):this._engine.afterFlush(()=>{Yo(n,he),rr(n,xe)})}return}const M=oi(this._engine.playersByElement,n,[]);M.forEach(J=>{J.namespaceId==this.id&&J.triggerName==e&&J.queued&&J.destroy()});let k=o.matchTransition(d.value,h.value,n,h.params),U=!1;if(!k){if(!r)return;k=o.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:k,fromState:d,toState:h,player:l,isFallbackTransition:U}),U||(bi(n,XT),l.onStart(()=>{Ca(n,XT)})),l.onDone(()=>{let J=this.players.indexOf(l);J>=0&&this.players.splice(J,1);const he=this._engine.playersByElement.get(n);if(he){let xe=he.indexOf(l);xe>=0&&he.splice(xe,1)}}),this.players.push(l),M.push(l),l}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const i=this._engine.driver.query(n,Hf,!0);i.forEach(r=>{if(r[Fi])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(l=>l.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(n,e,i,r){const o=this._engine.statesByElement.get(n),l=new Map;if(o){const c=[];if(o.forEach((d,h)=>{if(l.set(h,d.value),this._triggers.has(h)){const v=this.trigger(n,h,Rc,r);v&&c.push(v)}}),c.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,l),i&&oo(c).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),i=this._engine.statesByElement.get(n);if(e&&i){const r=new Set;e.forEach(o=>{const l=o.name;if(r.has(l))return;r.add(l);const d=this._triggers.get(l).fallbackTransition,h=i.get(l)||gv,v=new mv(Rc),w=new _v(this.id,l,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:l,transition:d,fromState:h,toState:v,player:w,isFallbackTransition:!0})})}}removeNode(n,e){const i=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(n):[];if(o&&o.length)r=!0;else{let l=n;for(;l=l.parentNode;)if(i.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(n),r)i.markElementAsRemoved(this.id,n,!1,e);else{const o=n[Fi];(!o||o===QT)&&(i.afterFlush(()=>this.clearElementCache(n)),i.destroyInnerAnimations(n),i._onRemovalComplete(n,e))}}insertNode(n,e){bi(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,l=this._elementListeners.get(o);l&&l.forEach(c=>{if(c.name==i.triggerName){const d=J_(o,i.triggerName,i.fromState.value,i.toState.value);d._data=n,X_(i.player,c.phase,d,c.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,l=r.transition.ast.depCount;return 0==o||0==l?o-l:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}}class m8{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,i){this.bodyNode=n,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&n.push(i)})}),n}createNamespace(n,e){const i=new p8(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[n]=i}_balanceNamespaceList(n,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let l=!1,c=this.driver.getParentElement(e);for(;c;){const d=r.get(c);if(d){const h=i.indexOf(d);i.splice(h+1,0,n),l=!0;break}c=this.driver.getParentElement(c)}l||i.unshift(n)}else i.push(n);return r.set(e,n),n}register(n,e){let i=this._namespaceLookup[n];return i||(i=this.createNamespace(n,e)),i}registerTrigger(n,e,i){let r=this._namespaceLookup[n];r&&r.register(e,i)&&this.totalAnimations++}destroy(n,e){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(n);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,i=this.statesByElement.get(n);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(n,e,i,r){if(Zf(e)){const o=this._fetchNamespace(n);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(n,e,i,r){if(!Zf(e))return;const o=e[Fi];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(n){const l=this._fetchNamespace(n);l&&l.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),bi(n,pv)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Ca(n,pv))}removeNode(n,e,i){if(Zf(e)){const r=n?this._fetchNamespace(n):null;r?r.removeNode(e,i):this.markElementAsRemoved(n,e,!1,i);const o=this.namespacesByHostElement.get(e);o&&o.id!==n&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(n,e,i,r,o){this.collectedLeaveElements.push(e),e[Fi]={namespaceId:n,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(n,e,i,r,o){return Zf(e)?this._fetchNamespace(n).listen(e,i,r,o):()=>{}}_buildInstruction(n,e,i,r,o){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,i,r,n.fromState.options,n.toState.options,e,o)}destroyInnerAnimations(n){let e=this.driver.query(n,Hf,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,iv,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return oo(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[Fi];if(e&&e.setForRemoval){if(n[Fi]=QT,e.namespaceId){this.destroyInnerAnimations(n);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(pv)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)bi(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,n)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?oo(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(n){throw function y4(t){return new be(3402,!1)}()}_flushAnimations(n,e){const i=new Gf,r=[],o=new Map,l=[],c=new Map,d=new Map,h=new Map,v=new Set;this.disabledNodes.forEach(je=>{v.add(je);const Ge=this.driver.query(je,".ng-animate-queued",!0);for(let Ke=0;Ke<Ge.length;Ke++)v.add(Ge[Ke])});const w=this.bodyNode,M=Array.from(this.statesByElement.keys()),k=tA(M,this.collectedEnterElements),U=new Map;let J=0;k.forEach((je,Ge)=>{const Ke=nv+J++;U.set(Ge,Ke),je.forEach(wt=>bi(wt,Ke))});const he=[],xe=new Set,pe=new Set;for(let je=0;je<this.collectedLeaveElements.length;je++){const Ge=this.collectedLeaveElements[je],Ke=Ge[Fi];Ke&&Ke.setForRemoval&&(he.push(Ge),xe.add(Ge),Ke.hasAnimation?this.driver.query(Ge,".ng-star-inserted",!0).forEach(wt=>xe.add(wt)):pe.add(Ge))}const Le=new Map,Be=tA(M,Array.from(xe));Be.forEach((je,Ge)=>{const Ke=Vf+J++;Le.set(Ge,Ke),je.forEach(wt=>bi(wt,Ke))}),n.push(()=>{k.forEach((je,Ge)=>{const Ke=U.get(Ge);je.forEach(wt=>Ca(wt,Ke))}),Be.forEach((je,Ge)=>{const Ke=Le.get(Ge);je.forEach(wt=>Ca(wt,Ke))}),he.forEach(je=>{this.processLeaveNode(je)})});const it=[],Rt=[];for(let je=this._namespaceList.length-1;je>=0;je--)this._namespaceList[je].drainQueuedTransitions(e).forEach(Ke=>{const wt=Ke.player,dn=Ke.element;if(it.push(wt),this.collectedEnterElements.length){const Tn=dn[Fi];if(Tn&&Tn.setForMove){if(Tn.previousTriggersValues&&Tn.previousTriggersValues.has(Ke.triggerName)){const Xo=Tn.previousTriggersValues.get(Ke.triggerName),Ci=this.statesByElement.get(Ke.element);if(Ci&&Ci.has(Ke.triggerName)){const Jf=Ci.get(Ke.triggerName);Jf.value=Xo,Ci.set(Ke.triggerName,Jf)}}return void wt.destroy()}}const or=!w||!this.driver.containsElement(w,dn),li=Le.get(dn),ao=U.get(dn),zt=this._buildInstruction(Ke,i,ao,li,or);if(zt.errors&&zt.errors.length)return void Rt.push(zt);if(or)return wt.onStart(()=>Yo(dn,zt.fromStyles)),wt.onDestroy(()=>rr(dn,zt.toStyles)),void r.push(wt);if(Ke.isFallbackTransition)return wt.onStart(()=>Yo(dn,zt.fromStyles)),wt.onDestroy(()=>rr(dn,zt.toStyles)),void r.push(wt);const fA=[];zt.timelines.forEach(Tn=>{Tn.stretchStartingKeyframe=!0,this.disabledNodes.has(Tn.element)||fA.push(Tn)}),zt.timelines=fA,i.append(dn,zt.timelines),l.push({instruction:zt,player:wt,element:dn}),zt.queriedElements.forEach(Tn=>oi(c,Tn,[]).push(wt)),zt.preStyleProps.forEach((Tn,Xo)=>{if(Tn.size){let Ci=d.get(Xo);Ci||d.set(Xo,Ci=new Set),Tn.forEach((Jf,yv)=>Ci.add(yv))}}),zt.postStyleProps.forEach((Tn,Xo)=>{let Ci=h.get(Xo);Ci||h.set(Xo,Ci=new Set),Tn.forEach((Jf,yv)=>Ci.add(yv))})});if(Rt.length){const je=[];Rt.forEach(Ge=>{je.push(function b4(t,n){return new be(3505,!1)}())}),it.forEach(Ge=>Ge.destroy()),this.reportError(je)}const Vt=new Map,yn=new Map;l.forEach(je=>{const Ge=je.element;i.has(Ge)&&(yn.set(Ge,Ge),this._beforeAnimationBuild(je.player.namespaceId,je.instruction,Vt))}),r.forEach(je=>{const Ge=je.element;this._getPreviousPlayers(Ge,!1,je.namespaceId,je.triggerName,null).forEach(wt=>{oi(Vt,Ge,[]).push(wt),wt.destroy()})});const ai=he.filter(je=>iA(je,d,h)),Pi=new Map;eA(Pi,this.driver,pe,h,Er).forEach(je=>{iA(je,d,h)&&ai.push(je)});const Oc=new Map;k.forEach((je,Ge)=>{eA(Oc,this.driver,new Set(je),d,"!")}),ai.forEach(je=>{const Ge=Pi.get(je),Ke=Oc.get(je);Pi.set(je,new Map([...Ge?.entries()??[],...Ke?.entries()??[]]))});const Ko=[],uA=[],dA={};l.forEach(je=>{const{element:Ge,player:Ke,instruction:wt}=je;if(i.has(Ge)){if(v.has(Ge))return Ke.onDestroy(()=>rr(Ge,wt.toStyles)),Ke.disabled=!0,Ke.overrideTotalTime(wt.totalTime),void r.push(Ke);let dn=dA;if(yn.size>1){let li=Ge;const ao=[];for(;li=li.parentNode;){const zt=yn.get(li);if(zt){dn=zt;break}ao.push(li)}ao.forEach(zt=>yn.set(zt,dn))}const or=this._buildAnimation(Ke.namespaceId,wt,Vt,o,Oc,Pi);if(Ke.setRealPlayer(or),dn===dA)Ko.push(Ke);else{const li=this.playersByElement.get(dn);li&&li.length&&(Ke.parentPlayer=oo(li)),r.push(Ke)}}else Yo(Ge,wt.fromStyles),Ke.onDestroy(()=>rr(Ge,wt.toStyles)),uA.push(Ke),v.has(Ge)&&r.push(Ke)}),uA.forEach(je=>{const Ge=o.get(je.element);if(Ge&&Ge.length){const Ke=oo(Ge);je.setRealPlayer(Ke)}}),r.forEach(je=>{je.parentPlayer?je.syncPlayerEvents(je.parentPlayer):je.destroy()});for(let je=0;je<he.length;je++){const Ge=he[je],Ke=Ge[Fi];if(Ca(Ge,Vf),Ke&&Ke.hasAnimation)continue;let wt=[];if(c.size){let or=c.get(Ge);or&&or.length&&wt.push(...or);let li=this.driver.query(Ge,iv,!0);for(let ao=0;ao<li.length;ao++){let zt=c.get(li[ao]);zt&&zt.length&&wt.push(...zt)}}const dn=wt.filter(or=>!or.destroyed);dn.length?y8(this,Ge,dn):this.processLeaveNode(Ge)}return he.length=0,Ko.forEach(je=>{this.players.push(je),je.onDone(()=>{je.destroy();const Ge=this.players.indexOf(je);this.players.splice(Ge,1)}),je.play()}),Ko}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,i,r,o){let l=[];if(e){const c=this.playersByQueriedElement.get(n);c&&(l=c)}else{const c=this.playersByElement.get(n);if(c){const d=!o||o==Rc;c.forEach(h=>{h.queued||!d&&h.triggerName!=r||l.push(h)})}}return(i||r)&&(l=l.filter(c=>!(i&&i!=c.namespaceId||r&&r!=c.triggerName))),l}_beforeAnimationBuild(n,e,i){const o=e.element,l=e.isRemovalTransition?void 0:n,c=e.isRemovalTransition?void 0:e.triggerName;for(const d of e.timelines){const h=d.element,v=h!==o,w=oi(i,h,[]);this._getPreviousPlayers(h,v,l,c,e.toState).forEach(k=>{const U=k.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),k.destroy(),w.push(k)})}Yo(o,e.fromStyles)}_buildAnimation(n,e,i,r,o,l){const c=e.triggerName,d=e.element,h=[],v=new Set,w=new Set,M=e.timelines.map(U=>{const J=U.element;v.add(J);const he=J[Fi];if(he&&he.removedBeforeQueried)return new fc(U.duration,U.delay);const xe=J!==d,pe=function b8(t){const n=[];return nA(t,n),n}((i.get(J)||f8).map(Vt=>Vt.getRealPlayer())).filter(Vt=>!!Vt.element&&Vt.element===J),Le=o.get(J),Be=l.get(J),it=OT(this._normalizer,U.keyframes,Le,Be),Rt=this._buildPlayer(U,it,pe);if(U.subTimeline&&r&&w.add(J),xe){const Vt=new _v(n,c,J);Vt.setRealPlayer(Rt),h.push(Vt)}return Rt});h.forEach(U=>{oi(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function g8(t,n,e){let i=t.get(n);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&t.delete(n)}return i}(this.playersByQueriedElement,U.element,U))}),v.forEach(U=>bi(U,BT));const k=oo(M);return k.onDestroy(()=>{v.forEach(U=>Ca(U,BT)),rr(d,e.toStyles)}),w.forEach(U=>{oi(r,U,[]).push(k)}),k}_buildPlayer(n,e,i){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,i):new fc(n.duration,n.delay)}}class _v{constructor(n,e,i){this.namespaceId=n,this.triggerName=e,this.element=i,this._player=new fc,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>X_(n,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){oi(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function Zf(t){return t&&1===t.nodeType}function JT(t,n){const e=t.style.display;return t.style.display=n??"none",e}function eA(t,n,e,i,r){const o=[];e.forEach(d=>o.push(JT(d)));const l=[];i.forEach((d,h)=>{const v=new Map;d.forEach(w=>{const M=n.computeStyle(h,w,r);v.set(w,M),(!M||0==M.length)&&(h[Fi]=h8,l.push(h))}),t.set(h,v)});let c=0;return e.forEach(d=>JT(d,o[c++])),l}function tA(t,n){const e=new Map;if(t.forEach(c=>e.set(c,[])),0==n.length)return e;const r=new Set(n),o=new Map;function l(c){if(!c)return 1;let d=o.get(c);if(d)return d;const h=c.parentNode;return d=e.has(h)?h:r.has(h)?1:l(h),o.set(c,d),d}return n.forEach(c=>{const d=l(c);1!==d&&e.get(d).push(c)}),e}function bi(t,n){t.classList?.add(n)}function Ca(t,n){t.classList?.remove(n)}function y8(t,n,e){oo(e).onDone(()=>t.processLeaveNode(n))}function nA(t,n){for(let e=0;e<t.length;e++){const i=t[e];i instanceof yD?nA(i.players,n):n.push(i)}}function iA(t,n,e){const i=e.get(t);if(!i)return!1;let r=n.get(t);return r?i.forEach(o=>r.add(o)):n.set(t,i),e.delete(t),!0}class Kf{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new m8(n,e,i),this._timelineEngine=new a8(n,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(n,e,i,r,o){const l=n+"-"+r;let c=this._triggerCache[l];if(!c){const d=[],v=av(this._driver,o,d,[]);if(d.length)throw function c4(t,n){return new be(3404,!1)}();c=function i8(t,n,e){return new r8(t,n,e)}(r,v,this._normalizer),this._triggerCache[l]=c}this._transitionEngine.registerTrigger(e,r,c)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,i,r){this._transitionEngine.insertNode(n,e,i,r)}onRemove(n,e,i){this._transitionEngine.removeNode(n,e,i)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,i,r){if("@"==i.charAt(0)){const[o,l]=kT(i);this._timelineEngine.command(o,e,l,r)}else this._transitionEngine.trigger(n,e,i,r)}listen(n,e,i,r,o){if("@"==i.charAt(0)){const[l,c]=kT(i);return this._timelineEngine.listen(l,e,c,o)}return this._transitionEngine.listen(n,e,i,r,o)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}let S8=(()=>{class t extends pD{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:qn.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?gD(e):e;return oA(this._renderer,null,i,"register",[r]),new T8(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||t)(ge(kl),ge(ut))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}return t})();class T8 extends IB{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new A8(this._id,n,e||{},this._renderer)}}class A8{constructor(n,e,i,r){this.id=n,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return oA(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function oA(t,n,e,i,r){return t.setProperty(n,`@@${e}:${i}`,r)}const sA="@.disabled";let I8=(()=>{class t{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,l)=>{const c=l?.parentNode(o);c&&l.removeChild(c,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let v=this._rendererCache.get(o);return v||(v=new aA("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,v)),v}const l=i.id,c=i.id+"-"+this._currentId;this._currentId++,this.engine.register(c,e);const d=v=>{Array.isArray(v)?v.forEach(d):this.engine.registerTrigger(l,c,e,v.name,v)};return i.data.animation.forEach(d),new M8(this,c,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[l,c]=o;l(c)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||t)(ge(kl),ge(Kf),ge(et))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}return t})();class aA{constructor(n,e,i,r){this.namespaceId=n,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,i,r=!0){this.delegate.insertBefore(n,e,i),this.engine.onInsert(this.namespaceId,e,n,r)}removeChild(n,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,i,r){this.delegate.setAttribute(n,e,i,r)}removeAttribute(n,e,i){this.delegate.removeAttribute(n,e,i)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,i,r){this.delegate.setStyle(n,e,i,r)}removeStyle(n,e,i){this.delegate.removeStyle(n,e,i)}setProperty(n,e,i){"@"==e.charAt(0)&&e==sA?this.disableAnimations(n,!!i):this.delegate.setProperty(n,e,i)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,i){return this.delegate.listen(n,e,i)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class M8 extends aA{constructor(n,e,i,r,o){super(e,i,r,o),this.factory=n,this.namespaceId=e}setProperty(n,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==sA?this.disableAnimations(n,i=void 0===i||!!i):this.engine.process(this.namespaceId,n,e.slice(1),i):this.delegate.setProperty(n,e,i)}listen(n,e,i){if("@"==e.charAt(0)){const r=function R8(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(n);let o=e.slice(1),l="";return"@"!=o.charAt(0)&&([o,l]=function O8(t){const n=t.indexOf(".");return[t.substring(0,n),t.slice(n+1)]}(o)),this.engine.listen(this.namespaceId,r,o,l,c=>{this.factory.scheduleListenerCallback(c._data||-1,i,c)})}return this.delegate.listen(n,e,i)}}const cA=[{provide:tv,useClass:LT},{provide:qr,useValue:"NoopAnimations"},...[{provide:pD,useClass:S8},{provide:fv,useFactory:function N8(){return new J4}},{provide:Kf,useClass:(()=>{class t extends Kf{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||t)(ge(ut),ge(tv),ge(fv),ge(Lo))};static#t=this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}return t})()},{provide:kl,useFactory:function F8(t,n,e){return new I8(t,n,e)},deps:[xg,Kf,et]}]];let L8=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=ce({type:t});static#n=this.\u0275inj=bt({providers:cA,imports:[AE]})}return t})(),V8=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=ce({type:t,bootstrap:[Kj]});static#n=this.\u0275inj=bt({providers:[FD],imports:[L8,AE,OU,K_,HU,T3,hD,Y3,Aj]})}return t})();eV().bootstrapModule(V8).catch(t=>console.error(t))},563:(Ne,Ce,$)=>{Ce.formatArgs=function we(a){if(a[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+a[0]+(this.useColors?"%c ":" ")+"+"+Ne.exports.humanize(this.diff),!this.useColors)return;const _="color: "+this.color;a.splice(1,0,_,"color: inherit");let L=0,T=0;a[0].replace(/%[a-zA-Z%]/g,E=>{"%%"!==E&&(L++,"%c"===E&&(T=L))}),a.splice(T,0,_)},Ce.save=function Oe(a){try{a?Ce.storage.setItem("debug",a):Ce.storage.removeItem("debug")}catch{}},Ce.load=function g(){let a;try{a=Ce.storage.getItem("debug")}catch{}return!a&&typeof process<"u"&&"env"in process&&(a=process.env.DEBUG),a},Ce.useColors=function re(){return!(!(typeof window<"u"&&window.process)||"renderer"!==window.process.type&&!window.process.__nwjs)||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},Ce.storage=function ye(){try{return localStorage}catch{}}(),Ce.destroy=(()=>{let a=!1;return()=>{a||(a=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),Ce.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],Ce.log=console.debug||console.log||(()=>{}),Ne.exports=$(18)(Ce);const{formatters:ue}=Ne.exports;ue.j=function(a){try{return JSON.stringify(a)}catch(_){return"[UnexpectedJSONParseError]: "+_.message}}},18:(Ne,Ce,$)=>{Ne.exports=function re(we){function g(C){let p,Q,X,I=null;function W(...O){if(!W.enabled)return;const P=W,F=Number(new Date);P.diff=F-(p||F),P.prev=p,P.curr=F,p=F,O[0]=g.coerce(O[0]),"string"!=typeof O[0]&&O.unshift("%O");let V=0;O[0]=O[0].replace(/%([a-zA-Z%])/g,(te,j)=>{if("%%"===te)return"%";V++;const oe=g.formatters[j];return"function"==typeof oe&&(te=oe.call(P,O[V]),O.splice(V,1),V--),te}),g.formatArgs.call(P,O),(P.log||g.log).apply(P,O)}return W.namespace=C,W.useColors=g.useColors(),W.color=g.selectColor(C),W.extend=ye,W.destroy=g.destroy,Object.defineProperty(W,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==I?I:(Q!==g.namespaces&&(Q=g.namespaces,X=g.enabled(C)),X),set:O=>{I=O}}),"function"==typeof g.init&&g.init(W),W}function ye(C,p){const I=g(this.namespace+(typeof p>"u"?":":p)+C);return I.log=this.log,I}function L(C){return C.toString().substring(2,C.toString().length-2).replace(/\.\*\?$/,"*")}return g.debug=g,g.default=g,g.coerce=function T(C){return C instanceof Error?C.stack||C.message:C},g.disable=function a(){const C=[...g.names.map(L),...g.skips.map(L).map(p=>"-"+p)].join(",");return g.enable(""),C},g.enable=function ue(C){let p;g.save(C),g.namespaces=C,g.names=[],g.skips=[];const I=("string"==typeof C?C:"").split(/[\s,]+/),Q=I.length;for(p=0;p<Q;p++)I[p]&&("-"===(C=I[p].replace(/\*/g,".*?"))[0]?g.skips.push(new RegExp("^"+C.slice(1)+"$")):g.names.push(new RegExp("^"+C+"$")))},g.enabled=function _(C){if("*"===C[C.length-1])return!0;let p,I;for(p=0,I=g.skips.length;p<I;p++)if(g.skips[p].test(C))return!1;for(p=0,I=g.names.length;p<I;p++)if(g.names[p].test(C))return!0;return!1},g.humanize=$(253),g.destroy=function E(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(we).forEach(C=>{g[C]=we[C]}),g.names=[],g.skips=[],g.formatters={},g.selectColor=function Oe(C){let p=0;for(let I=0;I<C.length;I++)p=(p<<5)-p+C.charCodeAt(I),p|=0;return g.colors[Math.abs(p)%g.colors.length]},g.enable(g.load()),g}},16:Ne=>{"use strict";var re,Ce="object"==typeof Reflect?Reflect:null,$=Ce&&"function"==typeof Ce.apply?Ce.apply:function(F,B,V){return Function.prototype.apply.call(F,B,V)};re=Ce&&"function"==typeof Ce.ownKeys?Ce.ownKeys:Object.getOwnPropertySymbols?function(F){return Object.getOwnPropertyNames(F).concat(Object.getOwnPropertySymbols(F))}:function(F){return Object.getOwnPropertyNames(F)};var Oe=Number.isNaN||function(F){return F!=F};function g(){g.init.call(this)}Ne.exports=g,Ne.exports.once=function X(P,F){return new Promise(function(B,V){function G(j){P.removeListener(F,te),V(j)}function te(){"function"==typeof P.removeListener&&P.removeListener("error",G),B([].slice.call(arguments))}O(P,F,te,{once:!0}),"error"!==F&&function W(P,F,B){"function"==typeof P.on&&O(P,"error",F,B)}(P,G,{once:!0})})},g.EventEmitter=g,g.prototype._events=void 0,g.prototype._eventsCount=0,g.prototype._maxListeners=void 0;var ye=10;function ue(P){if("function"!=typeof P)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof P)}function a(P){return void 0===P._maxListeners?g.defaultMaxListeners:P._maxListeners}function _(P,F,B,V){var G,te,j;if(ue(B),void 0===(te=P._events)?(te=P._events=Object.create(null),P._eventsCount=0):(void 0!==te.newListener&&(P.emit("newListener",F,B.listener?B.listener:B),te=P._events),j=te[F]),void 0===j)j=te[F]=B,++P._eventsCount;else if("function"==typeof j?j=te[F]=V?[B,j]:[j,B]:V?j.unshift(B):j.push(B),(G=a(P))>0&&j.length>G&&!j.warned){j.warned=!0;var oe=new Error("Possible EventEmitter memory leak detected. "+j.length+" "+String(F)+" listeners added. Use emitter.setMaxListeners() to increase limit");oe.name="MaxListenersExceededWarning",oe.emitter=P,oe.type=F,oe.count=j.length,function we(P){console&&console.warn&&console.warn(P)}(oe)}return P}function L(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function T(P,F,B){var V={fired:!1,wrapFn:void 0,target:P,type:F,listener:B},G=L.bind(V);return G.listener=B,V.wrapFn=G,G}function E(P,F,B){var V=P._events;if(void 0===V)return[];var G=V[F];return void 0===G?[]:"function"==typeof G?B?[G.listener||G]:[G]:B?function Q(P){for(var F=new Array(P.length),B=0;B<F.length;++B)F[B]=P[B].listener||P[B];return F}(G):p(G,G.length)}function C(P){var F=this._events;if(void 0!==F){var B=F[P];if("function"==typeof B)return 1;if(void 0!==B)return B.length}return 0}function p(P,F){for(var B=new Array(F),V=0;V<F;++V)B[V]=P[V];return B}function O(P,F,B,V){if("function"==typeof P.on)V.once?P.once(F,B):P.on(F,B);else{if("function"!=typeof P.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof P);P.addEventListener(F,function G(te){V.once&&P.removeEventListener(F,G),B(te)})}}Object.defineProperty(g,"defaultMaxListeners",{enumerable:!0,get:function(){return ye},set:function(P){if("number"!=typeof P||P<0||Oe(P))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+P+".");ye=P}}),g.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},g.prototype.setMaxListeners=function(F){if("number"!=typeof F||F<0||Oe(F))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+F+".");return this._maxListeners=F,this},g.prototype.getMaxListeners=function(){return a(this)},g.prototype.emit=function(F){for(var B=[],V=1;V<arguments.length;V++)B.push(arguments[V]);var G="error"===F,te=this._events;if(void 0!==te)G=G&&void 0===te.error;else if(!G)return!1;if(G){var j;if(B.length>0&&(j=B[0]),j instanceof Error)throw j;var oe=new Error("Unhandled error."+(j?" ("+j.message+")":""));throw oe.context=j,oe}var ve=te[F];if(void 0===ve)return!1;if("function"==typeof ve)$(ve,this,B);else{var fe=ve.length,z=p(ve,fe);for(V=0;V<fe;++V)$(z[V],this,B)}return!0},g.prototype.on=g.prototype.addListener=function(F,B){return _(this,F,B,!1)},g.prototype.prependListener=function(F,B){return _(this,F,B,!0)},g.prototype.once=function(F,B){return ue(B),this.on(F,T(this,F,B)),this},g.prototype.prependOnceListener=function(F,B){return ue(B),this.prependListener(F,T(this,F,B)),this},g.prototype.off=g.prototype.removeListener=function(F,B){var V,G,te,j,oe;if(ue(B),void 0===(G=this._events))return this;if(void 0===(V=G[F]))return this;if(V===B||V.listener===B)0==--this._eventsCount?this._events=Object.create(null):(delete G[F],G.removeListener&&this.emit("removeListener",F,V.listener||B));else if("function"!=typeof V){for(te=-1,j=V.length-1;j>=0;j--)if(V[j]===B||V[j].listener===B){oe=V[j].listener,te=j;break}if(te<0)return this;0===te?V.shift():function I(P,F){for(;F+1<P.length;F++)P[F]=P[F+1];P.pop()}(V,te),1===V.length&&(G[F]=V[0]),void 0!==G.removeListener&&this.emit("removeListener",F,oe||B)}return this},g.prototype.removeAllListeners=function(F){var B,V,G;if(void 0===(V=this._events))return this;if(void 0===V.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==V[F]&&(0==--this._eventsCount?this._events=Object.create(null):delete V[F]),this;if(0===arguments.length){var j,te=Object.keys(V);for(G=0;G<te.length;++G)"removeListener"!==(j=te[G])&&this.removeAllListeners(j);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(B=V[F]))this.removeListener(F,B);else if(void 0!==B)for(G=B.length-1;G>=0;G--)this.removeListener(F,B[G]);return this},g.prototype.listeners=function(F){return E(this,F,!0)},g.prototype.rawListeners=function(F){return E(this,F,!1)},g.listenerCount=function(P,F){return"function"==typeof P.listenerCount?P.listenerCount(F):C.call(P,F)},g.prototype.listenerCount=C,g.prototype.eventNames=function(){return this._eventsCount>0?re(this._events):[]}},138:(Ne,Ce,$)=>{"use strict";function re(E,C){var p;if(typeof Symbol>"u"||null==E[Symbol.iterator]){if(Array.isArray(E)||(p=function we(E,C){if(E){if("string"==typeof E)return Oe(E,C);var p=Object.prototype.toString.call(E).slice(8,-1);if("Object"===p&&E.constructor&&(p=E.constructor.name),"Map"===p||"Set"===p)return Array.from(E);if("Arguments"===p||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return Oe(E,C)}}(E))||C&&E&&"number"==typeof E.length){p&&(E=p);var I=0,Q=function(){};return{s:Q,n:function(){return I>=E.length?{done:!0}:{done:!1,value:E[I++]}},e:function(F){throw F},f:Q}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var O,X=!0,W=!1;return{s:function(){p=E[Symbol.iterator]()},n:function(){var F=p.next();return X=F.done,F},e:function(F){W=!0,O=F},f:function(){try{!X&&null!=p.return&&p.return()}finally{if(W)throw O}}}}function Oe(E,C){(null==C||C>E.length)&&(C=E.length);for(var p=0,I=new Array(C);p<C;p++)I[p]=E[p];return I}var g=$(818),ye=$(810),ue=$(282),a=$(344),_=$(524),L=$(910);Ce.settings={authorization_user:null,password:null,realm:null,ha1:null,authorization_jwt:null,display_name:null,uri:null,contact_uri:null,instance_id:null,use_preloaded_route:!1,session_timers:!0,session_timers_refresh_method:ye.UPDATE,session_timers_force_refresher:!1,no_answer_timeout:60,register:!0,register_expires:600,registrar_server:null,sockets:null,connection_recovery_max_interval:ye.CONNECTION_RECOVERY_MAX_INTERVAL,connection_recovery_min_interval:ye.CONNECTION_RECOVERY_MIN_INTERVAL,extra_headers:null,via_host:"".concat(g.createRandomToken(12),".invalid")};var T={mandatory:{sockets:function(C){var p=[];if(_.isSocket(C))p.push({socket:C});else{if(!Array.isArray(C)||!C.length)return;var Q,I=re(C);try{for(I.s();!(Q=I.n()).done;){var X=Q.value;Object.prototype.hasOwnProperty.call(X,"socket")&&_.isSocket(X.socket)?p.push(X):_.isSocket(X)&&p.push({socket:X})}}catch(W){I.e(W)}finally{I.f()}}return p},uri:function(C){/^sip:/i.test(C)||(C="".concat(ye.SIP,":").concat(C));var p=a.parse(C);if(p)return p.user?p:void 0}},optional:{authorization_user:function(C){if(-1!==ue.parse('"'.concat(C,'"'),"quoted_string"))return C},authorization_jwt:function(C){if("string"==typeof C)return C},user_agent:function(C){if("string"==typeof C)return C},connection_recovery_max_interval:function(C){if(g.isDecimal(C)){var p=Number(C);if(p>0)return p}},connection_recovery_min_interval:function(C){if(g.isDecimal(C)){var p=Number(C);if(p>0)return p}},contact_uri:function(C){if("string"==typeof C){var p=ue.parse(C,"SIP_URI");if(-1!==p)return p}},display_name:function(C){return C},instance_id:function(C){if(/^uuid:/i.test(C)&&(C=C.substr(5)),-1!==ue.parse(C,"uuid"))return C},no_answer_timeout:function(C){if(g.isDecimal(C)){var p=Number(C);if(p>0)return p}},session_timers:function(C){if("boolean"==typeof C)return C},session_timers_refresh_method:function(C){if("string"==typeof C&&((C=C.toUpperCase())===ye.INVITE||C===ye.UPDATE))return C},session_timers_force_refresher:function(C){if("boolean"==typeof C)return C},password:function(C){return String(C)},realm:function(C){return String(C)},ha1:function(C){return String(C)},register:function(C){if("boolean"==typeof C)return C},register_expires:function(C){if(g.isDecimal(C)){var p=Number(C);if(p>0)return p}},registrar_server:function(C){/^sip:/i.test(C)||(C="".concat(ye.SIP,":").concat(C));var p=a.parse(C);if(p)return p.user?void 0:p},use_preloaded_route:function(C){if("boolean"==typeof C)return C},extra_headers:function(C){var p=[];if(Array.isArray(C)&&C.length){var Q,I=re(C);try{for(I.s();!(Q=I.n()).done;){var X=Q.value;"string"==typeof X&&p.push(X)}}catch(W){I.e(W)}finally{I.f()}return p}}}};Ce.load=function(E,C){for(var p in T.mandatory){if(!C.hasOwnProperty(p))throw new L.ConfigurationError(p);var I=C[p],Q=T.mandatory[p](I);if(void 0===Q)throw new L.ConfigurationError(p,I);E[p]=Q}for(var X in T.optional)if(C.hasOwnProperty(X)){var W=C[X];if(g.isEmpty(W))continue;var O=T.optional[X](W);if(void 0===O)throw new L.ConfigurationError(X,W);E[X]=O}}},810:(Ne,Ce,$)=>{"use strict";var re=$(403);Ne.exports={USER_AGENT:"".concat(re.title," ").concat(re.version),SIP:"sip",SIPS:"sips",causes:{CONNECTION_ERROR:"Connection Error",REQUEST_TIMEOUT:"Request Timeout",SIP_FAILURE_CODE:"SIP Failure Code",INTERNAL_ERROR:"Internal Error",BUSY:"Busy",REJECTED:"Rejected",REDIRECTED:"Redirected",UNAVAILABLE:"Unavailable",NOT_FOUND:"Not Found",ADDRESS_INCOMPLETE:"Address Incomplete",INCOMPATIBLE_SDP:"Incompatible SDP",MISSING_SDP:"Missing SDP",AUTHENTICATION_ERROR:"Authentication Error",BYE:"Terminated",WEBRTC_ERROR:"WebRTC Error",CANCELED:"Canceled",NO_ANSWER:"No Answer",EXPIRES:"Expires",NO_ACK:"No ACK",DIALOG_ERROR:"Dialog Error",USER_DENIED_MEDIA_ACCESS:"User Denied Media Access",BAD_MEDIA_DESCRIPTION:"Bad Media Description",RTP_TIMEOUT:"RTP Timeout"},SIP_ERROR_CAUSES:{REDIRECTED:[300,301,302,305,380],BUSY:[486,600],REJECTED:[403,603],NOT_FOUND:[404,604],UNAVAILABLE:[480,410,408,430],ADDRESS_INCOMPLETE:[484,424],INCOMPATIBLE_SDP:[488,606],AUTHENTICATION_ERROR:[401,407]},ACK:"ACK",BYE:"BYE",CANCEL:"CANCEL",INFO:"INFO",INVITE:"INVITE",MESSAGE:"MESSAGE",NOTIFY:"NOTIFY",OPTIONS:"OPTIONS",REGISTER:"REGISTER",REFER:"REFER",UPDATE:"UPDATE",SUBSCRIBE:"SUBSCRIBE",DTMF_TRANSPORT:{INFO:"INFO",RFC2833:"RFC2833"},REASON_PHRASE:{100:"Trying",180:"Ringing",181:"Call Is Being Forwarded",182:"Queued",183:"Session Progress",199:"Early Dialog Terminated",200:"OK",202:"Accepted",204:"No Notification",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",305:"Use Proxy",380:"Alternative Service",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",410:"Gone",412:"Conditional Request Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Unsupported URI Scheme",417:"Unknown Resource-Priority",420:"Bad Extension",421:"Extension Required",422:"Session Interval Too Small",423:"Interval Too Brief",424:"Bad Location Information",428:"Use Identity Header",429:"Provide Referrer Identity",430:"Flow Failed",433:"Anonymity Disallowed",436:"Bad Identity-Info",437:"Unsupported Certificate",438:"Invalid Identity Header",439:"First Hop Lacks Outbound Support",440:"Max-Breadth Exceeded",469:"Bad Info Package",470:"Consent Needed",478:"Unresolvable Destination",480:"Temporarily Unavailable",481:"Call/Transaction Does Not Exist",482:"Loop Detected",483:"Too Many Hops",484:"Address Incomplete",485:"Ambiguous",486:"Busy Here",487:"Request Terminated",488:"Not Acceptable Here",489:"Bad Event",491:"Request Pending",493:"Undecipherable",494:"Security Agreement Required",500:"JsSIP Internal Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Server Time-out",505:"Version Not Supported",513:"Message Too Large",580:"Precondition Failure",600:"Busy Everywhere",603:"Decline",604:"Does Not Exist Anywhere",606:"Not Acceptable"},ALLOWED_METHODS:"INVITE,ACK,CANCEL,BYE,UPDATE,MESSAGE,OPTIONS,REFER,INFO,NOTIFY",ACCEPTED_BODY_TYPES:"application/sdp, application/dtmf-relay",MAX_FORWARDS:69,SESSION_EXPIRES:90,MIN_SESSION_EXPIRES:60,CONNECTION_RECOVERY_MAX_INTERVAL:30,CONNECTION_RECOVERY_MIN_INTERVAL:2}},428:(Ne,Ce,$)=>{"use strict";function we(C,p){for(var I=0;I<p.length;I++){var Q=p[I];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(C,Q.key,Q)}}function Oe(C,p,I){return p&&we(C.prototype,p),I&&we(C,I),C}var g=$(376),ye=$(795),ue=$(810),a=$(208),_=$(235),L=$(818),T=new g("Dialog"),E={STATUS_EARLY:1,STATUS_CONFIRMED:2,STATUS_TERMINATED:3};Ne.exports=function(){function C(p,I,Q){var X=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E.STATUS_CONFIRMED;if(function re(C,p){if(!(C instanceof p))throw new TypeError("Cannot call a class as a function")}(this,C),this._owner=p,this._ua=p._ua,this._uac_pending_reply=!1,this._uas_pending_reply=!1,!I.hasHeader("contact"))return{error:"unable to create a Dialog without Contact header field"};I instanceof ye.IncomingResponse&&(X=I.status_code<200?E.STATUS_EARLY:E.STATUS_CONFIRMED);var W=I.parseHeader("contact");"UAS"===Q?(this._id={call_id:I.call_id,local_tag:I.to_tag,remote_tag:I.from_tag,toString:function(){return this.call_id+this.local_tag+this.remote_tag}},this._state=X,this._remote_seqnum=I.cseq,this._local_uri=I.parseHeader("to").uri,this._remote_uri=I.parseHeader("from").uri,this._remote_target=W.uri,this._route_set=I.getHeaders("record-route"),this._ack_seqnum=this._remote_seqnum):"UAC"===Q&&(this._id={call_id:I.call_id,local_tag:I.from_tag,remote_tag:I.to_tag,toString:function(){return this.call_id+this.local_tag+this.remote_tag}},this._state=X,this._local_seqnum=I.cseq,this._local_uri=I.parseHeader("from").uri,this._remote_uri=I.parseHeader("to").uri,this._remote_target=W.uri,this._route_set=I.getHeaders("record-route").reverse(),this._ack_seqnum=null),this._ua.newDialog(this),T.debug("new ".concat(Q," dialog created with status ").concat(this._state===E.STATUS_EARLY?"EARLY":"CONFIRMED"))}return Oe(C,null,[{key:"C",get:function(){return E}}]),Oe(C,[{key:"isTerminated",value:function(){return this._status===E.STATUS_TERMINATED}},{key:"update",value:function(I,Q){this._state=E.STATUS_CONFIRMED,T.debug("dialog ".concat(this._id.toString(),"  changed to CONFIRMED state")),"UAC"===Q&&(this._route_set=I.getHeaders("record-route").reverse())}},{key:"terminate",value:function(){T.debug("dialog ".concat(this._id.toString()," deleted")),this._ua.destroyDialog(this),this._state=E.STATUS_TERMINATED}},{key:"sendRequest",value:function(I){var Q=this,X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},W=L.cloneArray(X.extraHeaders),O=L.cloneObject(X.eventHandlers),F=this._createRequest(I,W,X.body||null);return O.onAuthenticated=function(){Q._local_seqnum+=1},new _(this,F,O).send(),F}},{key:"receiveRequest",value:function(I){this._checkInDialogRequest(I)&&(I.method===ue.ACK&&null!==this._ack_seqnum?this._ack_seqnum=null:I.method===ue.INVITE&&(this._ack_seqnum=I.cseq),this._owner.receiveRequest(I))}},{key:"_createRequest",value:function(I,Q,X){Q=L.cloneArray(Q),this._local_seqnum||(this._local_seqnum=Math.floor(1e4*Math.random()));var W=I===ue.CANCEL||I===ue.ACK?this._local_seqnum:this._local_seqnum+=1;return new ye.OutgoingRequest(I,this._remote_target,this._ua,{cseq:W,call_id:this._id.call_id,from_uri:this._local_uri,from_tag:this._id.local_tag,to_uri:this._remote_uri,to_tag:this._id.remote_tag,route_set:this._route_set},Q,X)}},{key:"_checkInDialogRequest",value:function(I){var Q=this;if(this._remote_seqnum)if(I.cseq<this._remote_seqnum){if(I.method!==ue.ACK)return I.reply(500),!1;if(null===this._ack_seqnum||I.cseq!==this._ack_seqnum)return!1}else I.cseq>this._remote_seqnum&&(this._remote_seqnum=I.cseq);else this._remote_seqnum=I.cseq;if(I.method===ue.INVITE||I.method===ue.UPDATE&&I.body){if(!0===this._uac_pending_reply)I.reply(491);else{if(!0===this._uas_pending_reply){var X=1+(10*Math.random()|0);return I.reply(500,null,["Retry-After:".concat(X)]),!1}this._uas_pending_reply=!0,I.server_transaction.on("stateChanged",function O(){(I.server_transaction.state===a.C.STATUS_ACCEPTED||I.server_transaction.state===a.C.STATUS_COMPLETED||I.server_transaction.state===a.C.STATUS_TERMINATED)&&(I.server_transaction.removeListener("stateChanged",O),Q._uas_pending_reply=!1)})}I.hasHeader("contact")&&I.server_transaction.on("stateChanged",function(){I.server_transaction.state===a.C.STATUS_ACCEPTED&&(Q._remote_target=I.parseHeader("contact").uri)})}else I.method===ue.NOTIFY&&I.hasHeader("contact")&&I.server_transaction.on("stateChanged",function(){I.server_transaction.state===a.C.STATUS_COMPLETED&&(Q._remote_target=I.parseHeader("contact").uri)});return!0}},{key:"id",get:function(){return this._id}},{key:"local_seqnum",get:function(){return this._local_seqnum},set:function(I){this._local_seqnum=I}},{key:"owner",get:function(){return this._owner}},{key:"uac_pending_reply",get:function(){return this._uac_pending_reply},set:function(I){this._uac_pending_reply=I}},{key:"uas_pending_reply",get:function(){return this._uas_pending_reply}}]),C}()},235:(Ne,Ce,$)=>{"use strict";function we(_,L){for(var T=0;T<L.length;T++){var E=L[T];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}var g=$(810),ye=$(208),ue=$(631),a={onRequestTimeout:function(){},onTransportError:function(){},onSuccessResponse:function(){},onErrorResponse:function(){},onAuthenticated:function(){},onDialogError:function(){}};Ne.exports=function(){function _(L,T,E){for(var C in function re(_,L){if(!(_ instanceof L))throw new TypeError("Cannot call a class as a function")}(this,_),this._dialog=L,this._ua=L._ua,this._request=T,this._eventHandlers=E,this._reattempt=!1,this._reattemptTimer=null,a)Object.prototype.hasOwnProperty.call(a,C)&&(this._eventHandlers[C]||(this._eventHandlers[C]=a[C]))}return function Oe(_,L,T){L&&we(_.prototype,L),T&&we(_,T)}(_,[{key:"send",value:function(){var T=this,E=new ue(this._ua,this._request,{onRequestTimeout:function(){T._eventHandlers.onRequestTimeout()},onTransportError:function(){T._eventHandlers.onTransportError()},onAuthenticated:function(I){T._eventHandlers.onAuthenticated(I)},onReceiveResponse:function(I){T._receiveResponse(I)}});E.send(),(this._request.method===g.INVITE||this._request.method===g.UPDATE&&this._request.body)&&E.clientTransaction.state!==ye.C.STATUS_TERMINATED&&(this._dialog.uac_pending_reply=!0,E.clientTransaction.on("stateChanged",function p(){(E.clientTransaction.state===ye.C.STATUS_ACCEPTED||E.clientTransaction.state===ye.C.STATUS_COMPLETED||E.clientTransaction.state===ye.C.STATUS_TERMINATED)&&(E.clientTransaction.removeListener("stateChanged",p),T._dialog.uac_pending_reply=!1)}))}},{key:"_receiveResponse",value:function(T){var E=this;408===T.status_code||481===T.status_code?this._eventHandlers.onDialogError(T):T.method===g.INVITE&&491===T.status_code?this._reattempt?T.status_code>=200&&T.status_code<300?this._eventHandlers.onSuccessResponse(T):T.status_code>=300&&this._eventHandlers.onErrorResponse(T):(this._request.cseq=this._dialog.local_seqnum+=1,this._reattemptTimer=setTimeout(function(){E._dialog.isTerminated()||(E._reattempt=!0,E.send())},1e3)):T.status_code>=200&&T.status_code<300?this._eventHandlers.onSuccessResponse(T):T.status_code>=300&&this._eventHandlers.onErrorResponse(T)}},{key:"request",get:function(){return this._request}}]),_}()},968:(Ne,Ce,$)=>{"use strict";function we(a,_){for(var L=0;L<_.length;L++){var T=_[L];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(a,T.key,T)}}var g=$(376),ye=$(818),ue=new g("DigestAuthentication");Ne.exports=function(){function a(_){(function re(a,_){if(!(a instanceof _))throw new TypeError("Cannot call a class as a function")})(this,a),this._credentials=_,this._cnonce=null,this._nc=0,this._ncHex="00000000",this._algorithm=null,this._realm=null,this._nonce=null,this._opaque=null,this._stale=null,this._qop=null,this._method=null,this._uri=null,this._ha1=null,this._response=null}return function Oe(a,_,L){_&&we(a.prototype,_),L&&we(a,L)}(a,[{key:"get",value:function(L){switch(L){case"realm":return this._realm;case"ha1":return this._ha1;default:return void ue.warn('get() | cannot get "%s" parameter',L)}}},{key:"authenticate",value:function(L,T){var E=L.method,C=L.ruri,p=L.body,I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this._algorithm=T.algorithm,this._realm=T.realm,this._nonce=T.nonce,this._opaque=T.opaque,this._stale=T.stale,this._algorithm){if("MD5"!==this._algorithm)return ue.warn('authenticate() | challenge with Digest algorithm different than "MD5", authentication aborted'),!1}else this._algorithm="MD5";if(!this._nonce)return ue.warn("authenticate() | challenge without Digest nonce, authentication aborted"),!1;if(!this._realm)return ue.warn("authenticate() | challenge without Digest realm, authentication aborted"),!1;if(!this._credentials.password){if(!this._credentials.ha1)return ue.warn("authenticate() | no plain SIP password nor ha1 provided, authentication aborted"),!1;if(this._credentials.realm!==this._realm)return ue.warn('authenticate() | no plain SIP password, and stored `realm` does not match the given `realm`, cannot authenticate [stored:"%s", given:"%s"]',this._credentials.realm,this._realm),!1}if(T.qop)if(T.qop.indexOf("auth-int")>-1)this._qop="auth-int";else{if(!(T.qop.indexOf("auth")>-1))return ue.warn('authenticate() | challenge without Digest qop different than "auth" or "auth-int", authentication aborted'),!1;this._qop="auth"}else this._qop=null;this._method=E,this._uri=C,this._cnonce=I||ye.createRandomToken(12),this._nc+=1;var X,W,Q=Number(this._nc).toString(16);return this._ncHex="00000000".substr(0,8-Q.length)+Q,4294967296===this._nc&&(this._nc=1,this._ncHex="00000001"),this._ha1=this._credentials.password?ye.calculateMD5("".concat(this._credentials.username,":").concat(this._realm,":").concat(this._credentials.password)):this._credentials.ha1,"auth"===this._qop?(X="".concat(this._method,":").concat(this._uri),W=ye.calculateMD5(X),ue.debug('authenticate() | using qop=auth [a2:"%s"]',X),this._response=ye.calculateMD5("".concat(this._ha1,":").concat(this._nonce,":").concat(this._ncHex,":").concat(this._cnonce,":auth:").concat(W))):"auth-int"===this._qop?(X="".concat(this._method,":").concat(this._uri,":").concat(ye.calculateMD5(p||"")),W=ye.calculateMD5(X),ue.debug('authenticate() | using qop=auth-int [a2:"%s"]',X),this._response=ye.calculateMD5("".concat(this._ha1,":").concat(this._nonce,":").concat(this._ncHex,":").concat(this._cnonce,":auth-int:").concat(W))):null===this._qop&&(X="".concat(this._method,":").concat(this._uri),W=ye.calculateMD5(X),ue.debug('authenticate() | using qop=null [a2:"%s"]',X),this._response=ye.calculateMD5("".concat(this._ha1,":").concat(this._nonce,":").concat(W))),ue.debug("authenticate() | response generated"),!0}},{key:"toString",value:function(){var L=[];if(!this._response)throw new Error("response field does not exist, cannot generate Authorization header");return L.push("algorithm=".concat(this._algorithm)),L.push('username="'.concat(this._credentials.username,'"')),L.push('realm="'.concat(this._realm,'"')),L.push('nonce="'.concat(this._nonce,'"')),L.push('uri="'.concat(this._uri,'"')),L.push('response="'.concat(this._response,'"')),this._opaque&&L.push('opaque="'.concat(this._opaque,'"')),this._qop&&(L.push("qop=".concat(this._qop)),L.push('cnonce="'.concat(this._cnonce,'"')),L.push("nc=".concat(this._ncHex))),"Digest ".concat(L.join(", "))}}]),a}()},910:Ne=>{"use strict";function Ce(Q){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(W){return typeof W}:function(W){return W&&"function"==typeof Symbol&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W})(Q)}function $(Q,X){if(!(Q instanceof X))throw new TypeError("Cannot call a class as a function")}function re(Q,X){if("function"!=typeof X&&null!==X)throw new TypeError("Super expression must either be null or a function");Q.prototype=Object.create(X&&X.prototype,{constructor:{value:Q,writable:!0,configurable:!0}}),X&&L(Q,X)}function we(Q){var X=a();return function(){var P,O=T(Q);if(X){var F=T(this).constructor;P=Reflect.construct(O,arguments,F)}else P=O.apply(this,arguments);return function Oe(Q,X){return!X||"object"!==Ce(X)&&"function"!=typeof X?function g(Q){if(void 0===Q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}(Q):X}(this,P)}}function ye(Q){var X="function"==typeof Map?new Map:void 0;return ye=function(O){if(null===O||!function _(Q){return-1!==Function.toString.call(Q).indexOf("[native code]")}(O))return O;if("function"!=typeof O)throw new TypeError("Super expression must either be null or a function");if(typeof X<"u"){if(X.has(O))return X.get(O);X.set(O,P)}function P(){return ue(O,arguments,T(this).constructor)}return P.prototype=Object.create(O.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),L(P,O)},ye(Q)}function ue(Q,X,W){return(ue=a()?Reflect.construct:function(P,F,B){var V=[null];V.push.apply(V,F);var te=new(Function.bind.apply(P,V));return B&&L(te,B.prototype),te}).apply(null,arguments)}function a(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function L(Q,X){return(L=Object.setPrototypeOf||function(O,P){return O.__proto__=P,O})(Q,X)}function T(Q){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(W){return W.__proto__||Object.getPrototypeOf(W)})(Q)}var E=function(Q){re(W,Q);var X=we(W);function W(O,P){var F;return $(this,W),(F=X.call(this)).code=1,F.name="CONFIGURATION_ERROR",F.parameter=O,F.value=P,F.message=F.value?"Invalid value ".concat(JSON.stringify(F.value),' for parameter "').concat(F.parameter,'"'):"Missing parameter: ".concat(F.parameter),F}return W}(ye(Error)),C=function(Q){re(W,Q);var X=we(W);function W(O){var P;return $(this,W),(P=X.call(this)).code=2,P.name="INVALID_STATE_ERROR",P.status=O,P.message="Invalid status: ".concat(O),P}return W}(ye(Error)),p=function(Q){re(W,Q);var X=we(W);function W(O){var P;return $(this,W),(P=X.call(this)).code=3,P.name="NOT_SUPPORTED_ERROR",P.message=O,P}return W}(ye(Error)),I=function(Q){re(W,Q);var X=we(W);function W(O){var P;return $(this,W),(P=X.call(this)).code=4,P.name="NOT_READY_ERROR",P.message=O,P}return W}(ye(Error));Ne.exports={ConfigurationError:E,InvalidStateError:C,NotSupportedError:p,NotReadyError:I}},282:(Ne,Ce,$)=>{"use strict";Ne.exports=function(){function re(Oe){return'"'+Oe.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var we={parse:function(g,ye){var ue={CRLF:I,DIGIT:Q,ALPHA:X,HEXDIG:W,WSP:O,OCTET:P,DQUOTE:F,SP:B,HTAB:V,alphanum:G,reserved:te,unreserved:j,mark:oe,escaped:ve,LWS:fe,SWS:z,HCOLON:de,TEXT_UTF8_TRIM:D,TEXT_UTF8char:S,UTF8_NONASCII:q,UTF8_CONT:H,LHEX:function le(){var s;return null===(s=Q())&&(/^[a-f]/.test(g.charAt(a))?(s=g.charAt(a),a++):(s=null,0===_&&p("[a-f]"))),s},token:Y,token_nodot:K,separators:function b(){var s;return 40===g.charCodeAt(a)?(s="(",a++):(s=null,0===_&&p('"("')),null===s&&(41===g.charCodeAt(a)?(s=")",a++):(s=null,0===_&&p('")"')),null===s&&(60===g.charCodeAt(a)?(s="<",a++):(s=null,0===_&&p('"<"')),null===s&&(62===g.charCodeAt(a)?(s=">",a++):(s=null,0===_&&p('">"')),null===s&&(64===g.charCodeAt(a)?(s="@",a++):(s=null,0===_&&p('"@"')),null===s&&(44===g.charCodeAt(a)?(s=",",a++):(s=null,0===_&&p('","')),null===s&&(59===g.charCodeAt(a)?(s=";",a++):(s=null,0===_&&p('";"')),null===s&&(58===g.charCodeAt(a)?(s=":",a++):(s=null,0===_&&p('":"')),null===s&&(92===g.charCodeAt(a)?(s="\\",a++):(s=null,0===_&&p('"\\\\"')),null===s&&null===(s=F())&&(47===g.charCodeAt(a)?(s="/",a++):(s=null,0===_&&p('"/"')),null===s&&(91===g.charCodeAt(a)?(s="[",a++):(s=null,0===_&&p('"["')),null===s&&(93===g.charCodeAt(a)?(s="]",a++):(s=null,0===_&&p('"]"')),null===s&&(63===g.charCodeAt(a)?(s="?",a++):(s=null,0===_&&p('"?"')),null===s&&(61===g.charCodeAt(a)?(s="=",a++):(s=null,0===_&&p('"="')),null===s&&(123===g.charCodeAt(a)?(s="{",a++):(s=null,0===_&&p('"{"')),null===s&&(125===g.charCodeAt(a)?(s="}",a++):(s=null,0===_&&p('"}"')),null===s&&null===(s=B())&&(s=V())))))))))))))))),s},word:R,STAR:ne,SLASH:ee,EQUAL:ie,LPAREN:me,RPAREN:Se,RAQUOT:Re,LAQUOT:ke,COMMA:Me,SEMI:Ee,COLON:at,LDQUOT:vt,RDQUOT:jt,comment:function qe(){var s,u,f,m;if(m=a,null!==(s=me())){for(u=[],null===(f=$e())&&null===(f=St())&&(f=qe());null!==f;)u.push(f),null===(f=$e())&&null===(f=St())&&(f=qe());null!==u&&null!==(f=Se())?s=[s,u,f]:(s=null,a=m)}else s=null,a=m;return s},ctext:$e,quoted_string:tt,quoted_string_clean:lt,qdtext:yt,quoted_pair:St,SIP_URI_noparams:gt,SIP_URI:Xn,uri_scheme:$t,uri_scheme_sips:Ir,uri_scheme_sip:Qo,userinfo:It,user:Mr,user_unreserved:An,password:wa,hostport:Jo,host:Rr,hostname:xa,domainlabel:Ea,toplabel:kc,IPv6reference:Da,IPv6address:Sa,h16:He,ls32:In,IPv4address:lo,dec_octet:co,port:Nc,uri_parameters:eh,uri_parameter:uo,transport_param:Ta,user_param:Aa,method_param:Ia,ttl_param:Ma,maddr_param:Fc,lr_param:Ra,other_param:Oa,pname:ka,pvalue:Na,paramchar:qt,param_unreserved:Pc,headers:Lc,header:es,hname:Vc,hvalue:Fa,hnv_unreserved:fo,Request_Response:function th(){var s;return null===(s=Yc())&&(s=ci()),s},Request_Line:ci,Request_URI:Bc,absoluteURI:sr,hier_part:Pa,net_path:ts,abs_path:La,opaque_part:Hc,uric:Or,uric_no_slash:ns,path_segments:Va,segment:Li,param:Ba,pchar:kr,scheme:Ha,authority:jc,srvr:Uc,reg_name:zc,query:$c,SIP_Version:is,INVITEm:qc,ACKm:Gc,OPTIONSm:Vi,BYEm:rs,CANCELm:zn,REGISTERm:Mn,SUBSCRIBEm:os,NOTIFYm:ss,REFERm:Wc,Method:ho,Status_Line:Yc,Status_Code:xt,extension_code:po,Reason_Phrase:Gt,Allow_Events:function ja(){var s,u,f,m,y,x;if(y=a,null!==(s=as())){for(u=[],x=a,null!==(f=Me())&&null!==(m=as())?f=[f,m]:(f=null,a=x);null!==f;)u.push(f),x=a,null!==(f=Me())&&null!==(m=as())?f=[f,m]:(f=null,a=x);null!==u?s=[s,u]:(s=null,a=y)}else s=null,a=y;return s},Call_ID:function nh(){var s,u,f,m,y,x;return m=a,y=a,null!==(s=R())?(x=a,64===g.charCodeAt(a)?(u="@",a++):(u=null,0===_&&p('"@"')),null!==u&&null!==(f=R())?u=[u,f]:(u=null,a=x),null!==(u=null!==u?u:"")?s=[s,u]:(s=null,a=y)):(s=null,a=y),null!==s&&(s=void(se=g.substring(a,m))),null===s&&(a=m),s},Contact:function Mt(){var s,u,f,m,y,x,N;if(y=a,null===(s=ne()))if(x=a,null!==(s=We())){for(u=[],N=a,null!==(f=Me())&&null!==(m=We())?f=[f,m]:(f=null,a=N);null!==f;)u.push(f),N=a,null!==(f=Me())&&null!==(m=We())?f=[f,m]:(f=null,a=N);null!==u?s=[s,u]:(s=null,a=x)}else s=null,a=x;return null!==s&&(s=function(ce){var De,ze;for(ze=se.multi_header.length,De=0;De<ze;De++)if(null===se.multi_header[De].parsed){se=null;break}se=null!==se?se.multi_header:-1}()),null===s&&(a=y),s},contact_param:We,name_addr:wi,display_name:Nr,contact_params:Zc,c_p_q:Ua,c_p_expires:be,delta_seconds:ui,qvalue:Xe,generic_param:Ye,gen_value:Kc,Content_Disposition:function bv(){var s,u,f,m,y,x;if(y=a,null!==(s=Xc())){for(u=[],x=a,null!==(f=Ee())&&null!==(m=mo())?f=[f,m]:(f=null,a=x);null!==f;)u.push(f),x=a,null!==(f=Ee())&&null!==(m=mo())?f=[f,m]:(f=null,a=x);null!==u?s=[s,u]:(s=null,a=y)}else s=null,a=y;return s},disp_type:Xc,disp_param:mo,handling_param:bn,Content_Encoding:function Cv(){var s,u,f,m,y,x;if(y=a,null!==(s=Y())){for(u=[],x=a,null!==(f=Me())&&null!==(m=Y())?f=[f,m]:(f=null,a=x);null!==f;)u.push(f),x=a,null!==(f=Me())&&null!==(m=Y())?f=[f,m]:(f=null,a=x);null!==u?s=[s,u]:(s=null,a=y)}else s=null,a=y;return s},Content_Length:function ih(){var s,u,f;if(f=a,null!==(u=Q()))for(s=[];null!==u;)s.push(u),u=Q();else s=null;return null!==s&&(s=void(se=parseInt(s.join("")))),null===s&&(a=f),s},Content_Type:function wv(){var s,u;return u=a,null!==(s=Bi())&&(s=void(se=g.substring(a,u))),null===s&&(a=u),s},media_type:Bi,m_type:rh,discrete_type:oh,composite_type:sh,extension_token:za,x_token:Qc,m_subtype:ah,m_parameter:$a,m_value:lh,CSeq:function $n(){var s,u,f,m;return m=a,null!==(s=Ze())&&null!==(u=fe())&&null!==(f=ho())?s=[s,u,f]:(s=null,a=m),s},CSeq_value:Ze,Expires:function xv(){var s,u;return u=a,null!==(s=ui())&&(s=void(se=s)),null===s&&(a=u),s},Event:function Ev(){var s,u,f,m,y,x,N;if(y=a,x=a,null!==(s=as())){for(u=[],N=a,null!==(f=Ee())&&null!==(m=Ye())?f=[f,m]:(f=null,a=N);null!==f;)u.push(f),N=a,null!==(f=Ee())&&null!==(m=Ye())?f=[f,m]:(f=null,a=N);null!==u?s=[s,u]:(s=null,a=x)}else s=null,a=x;return null!==s&&(s=void(se.event=s[0].join("").toLowerCase())),null===s&&(a=y),s},event_type:as,From:function Fe(){var s,u,f,m,y,x,N;if(y=a,x=a,null===(s=gt())&&(s=wi()),null!==s){for(u=[],N=a,null!==(f=Ee())&&null!==(m=Jc())?f=[f,m]:(f=null,a=N);null!==f;)u.push(f),N=a,null!==(f=Ee())&&null!==(m=Jc())?f=[f,m]:(f=null,a=N);null!==u?s=[s,u]:(s=null,a=x)}else s=null,a=x;return null!==s&&(s=function(ce){var De=se.tag;try{se=new cr(se.uri,se.display_name,se.params),De&&se.setParam("tag",De)}catch{se=-1}}()),null===s&&(a=y),s},from_param:Jc,tag_param:bt,Max_Forwards:function ls(){var s,u,f;if(f=a,null!==(u=Q()))for(s=[];null!==u;)s.push(u),u=Q();else s=null;return null!==s&&(s=void(se=parseInt(s.join("")))),null===s&&(a=f),s},Min_Expires:function Dv(){var s,u;return u=a,null!==(s=ui())&&(s=void(se=s)),null===s&&(a=u),s},Name_Addr_Header:function eu(){var s,u,f,m,y,x,N,ce,De,ze;for(ce=a,De=a,s=[],u=Nr();null!==u;)s.push(u),u=Nr();if(null!==s)if(null!==(u=ke()))if(null!==(f=Xn()))if(null!==(m=Re())){for(y=[],ze=a,null!==(x=Ee())&&null!==(N=Ye())?x=[x,N]:(x=null,a=ze);null!==x;)y.push(x),ze=a,null!==(x=Ee())&&null!==(N=Ye())?x=[x,N]:(x=null,a=ze);null!==y?s=[s,u,f,m,y]:(s=null,a=De)}else s=null,a=De;else s=null,a=De;else s=null,a=De;else s=null,a=De;return null!==s&&(s=function(Ae){try{se=new cr(se.uri,se.display_name,se.params)}catch{se=-1}}()),null===s&&(a=ce),s},Proxy_Authenticate:function ch(){return Fr()},challenge:Fr,other_challenge:go,auth_param:ar,digest_cln:_o,realm:tu,realm_value:dt,domain:cs,URI:vo,nonce:fn,nonce_value:qa,opaque:uh,stale:Tt,algorithm:dh,qop_options:fh,qop_value:Ie,Proxy_Require:function Ga(){var s,u,f,m,y,x;if(y=a,null!==(s=Y())){for(u=[],x=a,null!==(f=Me())&&null!==(m=Y())?f=[f,m]:(f=null,a=x);null!==f;)u.push(f),x=a,null!==(f=Me())&&null!==(m=Y())?f=[f,m]:(f=null,a=x);null!==u?s=[s,u]:(s=null,a=y)}else s=null,a=y;return s},Record_Route:function Wa(){var s,u,f,m,y,x,N;if(y=a,x=a,null!==(s=yo())){for(u=[],N=a,null!==(f=Me())&&null!==(m=yo())?f=[f,m]:(f=null,a=N);null!==f;)u.push(f),N=a,null!==(f=Me())&&null!==(m=yo())?f=[f,m]:(f=null,a=N);null!==u?s=[s,u]:(s=null,a=x)}else s=null,a=x;return null!==s&&(s=function(ce){var De,ze;for(ze=se.multi_header.length,De=0;De<ze;De++)if(null===se.multi_header[De].parsed){se=null;break}se=null!==se?se.multi_header:-1}()),null===s&&(a=y),s},rec_route:yo,Reason:function Ya(){var s,u,f,m,y,x,N;if(y=a,x=a,"sip"===g.substr(a,3).toLowerCase()?(s=g.substr(a,3),a+=3):(s=null,0===_&&p('"SIP"')),null===s&&(s=Y()),null!==s){for(u=[],N=a,null!==(f=Ee())&&null!==(m=Za())?f=[f,m]:(f=null,a=N);null!==f;)u.push(f),N=a,null!==(f=Ee())&&null!==(m=Za())?f=[f,m]:(f=null,a=N);null!==u?s=[s,u]:(s=null,a=x)}else s=null,a=x;return null!==s&&(s=function(ce,De){if(se.protocol=De.toLowerCase(),se.params||(se.params={}),se.params.text&&'"'===se.params.text[0]){var ze=se.params.text;se.text=ze.substring(1,ze.length-1),delete se.params.text}}(0,s[0])),null===s&&(a=y),s},reason_param:Za,reason_cause:us,Require:function Sv(){var s,u,f,m,y,x;if(y=a,null!==(s=Y())){for(u=[],x=a,null!==(f=Me())&&null!==(m=Y())?f=[f,m]:(f=null,a=x);null!==f;)u.push(f),x=a,null!==(f=Me())&&null!==(m=Y())?f=[f,m]:(f=null,a=x);null!==u?s=[s,u]:(s=null,a=y)}else s=null,a=y;return s},Route:function Tv(){var s,u,f,m,y,x;if(y=a,null!==(s=Ka())){for(u=[],x=a,null!==(f=Me())&&null!==(m=Ka())?f=[f,m]:(f=null,a=x);null!==f;)u.push(f),x=a,null!==(f=Me())&&null!==(m=Ka())?f=[f,m]:(f=null,a=x);null!==u?s=[s,u]:(s=null,a=y)}else s=null,a=y;return s},route_param:Ka,Subscription_State:function Av(){var s,u,f,m,y,x;if(y=a,null!==(s=hh())){for(u=[],x=a,null!==(f=Ee())&&null!==(m=lr())?f=[f,m]:(f=null,a=x);null!==f;)u.push(f),x=a,null!==(f=Ee())&&null!==(m=lr())?f=[f,m]:(f=null,a=x);null!==u?s=[s,u]:(s=null,a=y)}else s=null,a=y;return s},substate_value:hh,subexp_params:lr,event_reason_value:ds,Subject:function fs(){var s;return null!==(s=D())?s:""},Supported:function ph(){var s,u,f,m,y,x;if(y=a,null!==(s=Y())){for(u=[],x=a,null!==(f=Me())&&null!==(m=Y())?f=[f,m]:(f=null,a=x);null!==f;)u.push(f),x=a,null!==(f=Me())&&null!==(m=Y())?f=[f,m]:(f=null,a=x);null!==u?s=[s,u]:(s=null,a=y)}else s=null,a=y;return null!==s?s:""},To:function mh(){var s,u,f,m,y,x,N;if(y=a,x=a,null===(s=gt())&&(s=wi()),null!==s){for(u=[],N=a,null!==(f=Ee())&&null!==(m=Xa())?f=[f,m]:(f=null,a=N);null!==f;)u.push(f),N=a,null!==(f=Ee())&&null!==(m=Xa())?f=[f,m]:(f=null,a=N);null!==u?s=[s,u]:(s=null,a=x)}else s=null,a=x;return null!==s&&(s=function(ce){var De=se.tag;try{se=new cr(se.uri,se.display_name,se.params),De&&se.setParam("tag",De)}catch{se=-1}}()),null===s&&(a=y),s},to_param:Xa,Via:function nu(){var s,u,f,m,y,x;if(y=a,null!==(s=xi())){for(u=[],x=a,null!==(f=Me())&&null!==(m=xi())?f=[f,m]:(f=null,a=x);null!==f;)u.push(f),x=a,null!==(f=Me())&&null!==(m=xi())?f=[f,m]:(f=null,a=x);null!==u?s=[s,u]:(s=null,a=y)}else s=null,a=y;return s},via_param:xi,via_params:Qa,via_ttl:Ei,via_maddr:iu,via_received:ge,via_branch:Ja,response_port:Je,rport:bo,sent_protocol:hs,protocol_name:Pr,transport:ru,sent_by:ou,via_host:su,via_port:di,ttl:Lr,WWW_Authenticate:function qn(){return Fr()},Session_Expires:function fi(){var s,u,f,m,y,x;if(y=a,null!==(s=pt())){for(u=[],x=a,null!==(f=Ee())&&null!==(m=Vr())?f=[f,m]:(f=null,a=x);null!==f;)u.push(f),x=a,null!==(f=Ee())&&null!==(m=Vr())?f=[f,m]:(f=null,a=x);null!==u?s=[s,u]:(s=null,a=y)}else s=null,a=y;return s},s_e_expires:pt,s_e_params:Vr,s_e_refresher:ps,extension_header:function el(){var s,u,f,m;return m=a,null!==(s=Y())&&null!==(u=de())&&null!==(f=tl())?s=[s,u,f]:(s=null,a=m),s},header_value:tl,message_body:function Di(){var s,u;for(s=[],u=P();null!==u;)s.push(u),u=P();return s},uuid_URI:function Co(){var s,u,f;return f=a,"uuid:"===g.substr(a,5)?(s="uuid:",a+=5):(s=null,0===_&&p('"uuid:"')),null!==s&&null!==(u=nl())?s=[s,u]:(s=null,a=f),s},uuid:nl,hex4:hi,hex8:ms,hex12:il,Refer_To:function au(){var s,u,f,m,y,x,N;if(y=a,x=a,null===(s=gt())&&(s=wi()),null!==s){for(u=[],N=a,null!==(f=Ee())&&null!==(m=Ye())?f=[f,m]:(f=null,a=N);null!==f;)u.push(f),N=a,null!==(f=Ee())&&null!==(m=Ye())?f=[f,m]:(f=null,a=N);null!==u?s=[s,u]:(s=null,a=x)}else s=null,a=x;return null!==s&&(s=function(ce){try{se=new cr(se.uri,se.display_name,se.params)}catch{se=-1}}()),null===s&&(a=y),s},Replaces:function wo(){var s,u,f,m,y,x;if(y=a,null!==(s=rl())){for(u=[],x=a,null!==(f=Ee())&&null!==(m=gs())?f=[f,m]:(f=null,a=x);null!==f;)u.push(f),x=a,null!==(f=Ee())&&null!==(m=gs())?f=[f,m]:(f=null,a=x);null!==u?s=[s,u]:(s=null,a=y)}else s=null,a=y;return s},call_id:rl,replaces_param:gs,to_tag:lu,from_tag:ol,early_flag:cu};if(void 0!==ye){if(void 0===ue[ye])throw new Error("Invalid rule name: "+re(ye)+".")}else ye="CRLF";var a=0,_=0,L=0,T=[];function p(s){a<L||(a>L&&(L=a,T=[]),T.push(s))}function I(){var s;return"\r\n"===g.substr(a,2)?(s="\r\n",a+=2):(s=null,0===_&&p('"\\r\\n"')),s}function Q(){var s;return/^[0-9]/.test(g.charAt(a))?(s=g.charAt(a),a++):(s=null,0===_&&p("[0-9]")),s}function X(){var s;return/^[a-zA-Z]/.test(g.charAt(a))?(s=g.charAt(a),a++):(s=null,0===_&&p("[a-zA-Z]")),s}function W(){var s;return/^[0-9a-fA-F]/.test(g.charAt(a))?(s=g.charAt(a),a++):(s=null,0===_&&p("[0-9a-fA-F]")),s}function O(){var s;return null===(s=B())&&(s=V()),s}function P(){var s;return/^[\0-\xFF]/.test(g.charAt(a))?(s=g.charAt(a),a++):(s=null,0===_&&p("[\\0-\\xFF]")),s}function F(){var s;return/^["]/.test(g.charAt(a))?(s=g.charAt(a),a++):(s=null,0===_&&p('["]')),s}function B(){var s;return 32===g.charCodeAt(a)?(s=" ",a++):(s=null,0===_&&p('" "')),s}function V(){var s;return 9===g.charCodeAt(a)?(s="\t",a++):(s=null,0===_&&p('"\\t"')),s}function G(){var s;return/^[a-zA-Z0-9]/.test(g.charAt(a))?(s=g.charAt(a),a++):(s=null,0===_&&p("[a-zA-Z0-9]")),s}function te(){var s;return 59===g.charCodeAt(a)?(s=";",a++):(s=null,0===_&&p('";"')),null===s&&(47===g.charCodeAt(a)?(s="/",a++):(s=null,0===_&&p('"/"')),null===s&&(63===g.charCodeAt(a)?(s="?",a++):(s=null,0===_&&p('"?"')),null===s&&(58===g.charCodeAt(a)?(s=":",a++):(s=null,0===_&&p('":"')),null===s&&(64===g.charCodeAt(a)?(s="@",a++):(s=null,0===_&&p('"@"')),null===s&&(38===g.charCodeAt(a)?(s="&",a++):(s=null,0===_&&p('"&"')),null===s&&(61===g.charCodeAt(a)?(s="=",a++):(s=null,0===_&&p('"="')),null===s&&(43===g.charCodeAt(a)?(s="+",a++):(s=null,0===_&&p('"+"')),null===s&&(36===g.charCodeAt(a)?(s="$",a++):(s=null,0===_&&p('"$"')),null===s&&(44===g.charCodeAt(a)?(s=",",a++):(s=null,0===_&&p('","'))))))))))),s}function j(){var s;return null===(s=G())&&(s=oe()),s}function oe(){var s;return 45===g.charCodeAt(a)?(s="-",a++):(s=null,0===_&&p('"-"')),null===s&&(95===g.charCodeAt(a)?(s="_",a++):(s=null,0===_&&p('"_"')),null===s&&(46===g.charCodeAt(a)?(s=".",a++):(s=null,0===_&&p('"."')),null===s&&(33===g.charCodeAt(a)?(s="!",a++):(s=null,0===_&&p('"!"')),null===s&&(126===g.charCodeAt(a)?(s="~",a++):(s=null,0===_&&p('"~"')),null===s&&(42===g.charCodeAt(a)?(s="*",a++):(s=null,0===_&&p('"*"')),null===s&&(39===g.charCodeAt(a)?(s="'",a++):(s=null,0===_&&p('"\'"')),null===s&&(40===g.charCodeAt(a)?(s="(",a++):(s=null,0===_&&p('"("')),null===s&&(41===g.charCodeAt(a)?(s=")",a++):(s=null,0===_&&p('")"')))))))))),s}function ve(){var s,u,f,m,y;return m=a,y=a,37===g.charCodeAt(a)?(s="%",a++):(s=null,0===_&&p('"%"')),null!==s&&null!==(u=W())&&null!==(f=W())?s=[s,u,f]:(s=null,a=y),null!==s&&(s=s.join("")),null===s&&(a=m),s}function fe(){var s,u,f,m,y,x;for(m=a,y=a,x=a,s=[],u=O();null!==u;)s.push(u),u=O();if(null!==s&&null!==(u=I())?s=[s,u]:(s=null,a=x),null!==(s=null!==s?s:"")){if(null!==(f=O()))for(u=[];null!==f;)u.push(f),f=O();else u=null;null!==u?s=[s,u]:(s=null,a=y)}else s=null,a=y;return null!==s&&(s=" "),null===s&&(a=m),s}function z(){var s;return null!==(s=fe())?s:""}function de(){var s,u,f,m,y;for(m=a,y=a,s=[],null===(u=B())&&(u=V());null!==u;)s.push(u),null===(u=B())&&(u=V());return null!==s?(58===g.charCodeAt(a)?(u=":",a++):(u=null,0===_&&p('":"')),null!==u&&null!==(f=z())?s=[s,u,f]:(s=null,a=y)):(s=null,a=y),null!==s&&(s=":"),null===s&&(a=m),s}function D(){var s,u,f,m,y,x,N;if(y=a,x=a,null!==(u=S()))for(s=[];null!==u;)s.push(u),u=S();else s=null;if(null!==s){for(u=[],N=a,f=[],m=fe();null!==m;)f.push(m),m=fe();for(null!==f&&null!==(m=S())?f=[f,m]:(f=null,a=N);null!==f;){for(u.push(f),N=a,f=[],m=fe();null!==m;)f.push(m),m=fe();null!==f&&null!==(m=S())?f=[f,m]:(f=null,a=N)}null!==u?s=[s,u]:(s=null,a=x)}else s=null,a=x;return null!==s&&(s=g.substring(a,y)),null===s&&(a=y),s}function S(){var s;return/^[!-~]/.test(g.charAt(a))?(s=g.charAt(a),a++):(s=null,0===_&&p("[!-~]")),null===s&&(s=q()),s}function q(){var s;return/^[\x80-\uFFFF]/.test(g.charAt(a))?(s=g.charAt(a),a++):(s=null,0===_&&p("[\\x80-\\uFFFF]")),s}function H(){var s;return/^[\x80-\xBF]/.test(g.charAt(a))?(s=g.charAt(a),a++):(s=null,0===_&&p("[\\x80-\\xBF]")),s}function Y(){var s,u,f;if(f=a,null===(u=G())&&(45===g.charCodeAt(a)?(u="-",a++):(u=null,0===_&&p('"-"')),null===u&&(46===g.charCodeAt(a)?(u=".",a++):(u=null,0===_&&p('"."')),null===u&&(33===g.charCodeAt(a)?(u="!",a++):(u=null,0===_&&p('"!"')),null===u&&(37===g.charCodeAt(a)?(u="%",a++):(u=null,0===_&&p('"%"')),null===u&&(42===g.charCodeAt(a)?(u="*",a++):(u=null,0===_&&p('"*"')),null===u&&(95===g.charCodeAt(a)?(u="_",a++):(u=null,0===_&&p('"_"')),null===u&&(43===g.charCodeAt(a)?(u="+",a++):(u=null,0===_&&p('"+"')),null===u&&(96===g.charCodeAt(a)?(u="`",a++):(u=null,0===_&&p('"`"')),null===u&&(39===g.charCodeAt(a)?(u="'",a++):(u=null,0===_&&p('"\'"')),null===u&&(126===g.charCodeAt(a)?(u="~",a++):(u=null,0===_&&p('"~"')))))))))))),null!==u)for(s=[];null!==u;)s.push(u),null===(u=G())&&(45===g.charCodeAt(a)?(u="-",a++):(u=null,0===_&&p('"-"')),null===u&&(46===g.charCodeAt(a)?(u=".",a++):(u=null,0===_&&p('"."')),null===u&&(33===g.charCodeAt(a)?(u="!",a++):(u=null,0===_&&p('"!"')),null===u&&(37===g.charCodeAt(a)?(u="%",a++):(u=null,0===_&&p('"%"')),null===u&&(42===g.charCodeAt(a)?(u="*",a++):(u=null,0===_&&p('"*"')),null===u&&(95===g.charCodeAt(a)?(u="_",a++):(u=null,0===_&&p('"_"')),null===u&&(43===g.charCodeAt(a)?(u="+",a++):(u=null,0===_&&p('"+"')),null===u&&(96===g.charCodeAt(a)?(u="`",a++):(u=null,0===_&&p('"`"')),null===u&&(39===g.charCodeAt(a)?(u="'",a++):(u=null,0===_&&p('"\'"')),null===u&&(126===g.charCodeAt(a)?(u="~",a++):(u=null,0===_&&p('"~"'))))))))))));else s=null;return null!==s&&(s=g.substring(a,f)),null===s&&(a=f),s}function K(){var s,u,f;if(f=a,null===(u=G())&&(45===g.charCodeAt(a)?(u="-",a++):(u=null,0===_&&p('"-"')),null===u&&(33===g.charCodeAt(a)?(u="!",a++):(u=null,0===_&&p('"!"')),null===u&&(37===g.charCodeAt(a)?(u="%",a++):(u=null,0===_&&p('"%"')),null===u&&(42===g.charCodeAt(a)?(u="*",a++):(u=null,0===_&&p('"*"')),null===u&&(95===g.charCodeAt(a)?(u="_",a++):(u=null,0===_&&p('"_"')),null===u&&(43===g.charCodeAt(a)?(u="+",a++):(u=null,0===_&&p('"+"')),null===u&&(96===g.charCodeAt(a)?(u="`",a++):(u=null,0===_&&p('"`"')),null===u&&(39===g.charCodeAt(a)?(u="'",a++):(u=null,0===_&&p('"\'"')),null===u&&(126===g.charCodeAt(a)?(u="~",a++):(u=null,0===_&&p('"~"'))))))))))),null!==u)for(s=[];null!==u;)s.push(u),null===(u=G())&&(45===g.charCodeAt(a)?(u="-",a++):(u=null,0===_&&p('"-"')),null===u&&(33===g.charCodeAt(a)?(u="!",a++):(u=null,0===_&&p('"!"')),null===u&&(37===g.charCodeAt(a)?(u="%",a++):(u=null,0===_&&p('"%"')),null===u&&(42===g.charCodeAt(a)?(u="*",a++):(u=null,0===_&&p('"*"')),null===u&&(95===g.charCodeAt(a)?(u="_",a++):(u=null,0===_&&p('"_"')),null===u&&(43===g.charCodeAt(a)?(u="+",a++):(u=null,0===_&&p('"+"')),null===u&&(96===g.charCodeAt(a)?(u="`",a++):(u=null,0===_&&p('"`"')),null===u&&(39===g.charCodeAt(a)?(u="'",a++):(u=null,0===_&&p('"\'"')),null===u&&(126===g.charCodeAt(a)?(u="~",a++):(u=null,0===_&&p('"~"')))))))))));else s=null;return null!==s&&(s=g.substring(a,f)),null===s&&(a=f),s}function R(){var s,u,f;if(f=a,null===(u=G())&&(45===g.charCodeAt(a)?(u="-",a++):(u=null,0===_&&p('"-"')),null===u&&(46===g.charCodeAt(a)?(u=".",a++):(u=null,0===_&&p('"."')),null===u&&(33===g.charCodeAt(a)?(u="!",a++):(u=null,0===_&&p('"!"')),null===u&&(37===g.charCodeAt(a)?(u="%",a++):(u=null,0===_&&p('"%"')),null===u&&(42===g.charCodeAt(a)?(u="*",a++):(u=null,0===_&&p('"*"')),null===u&&(95===g.charCodeAt(a)?(u="_",a++):(u=null,0===_&&p('"_"')),null===u&&(43===g.charCodeAt(a)?(u="+",a++):(u=null,0===_&&p('"+"')),null===u&&(96===g.charCodeAt(a)?(u="`",a++):(u=null,0===_&&p('"`"')),null===u&&(39===g.charCodeAt(a)?(u="'",a++):(u=null,0===_&&p('"\'"')),null===u&&(126===g.charCodeAt(a)?(u="~",a++):(u=null,0===_&&p('"~"')),null===u&&(40===g.charCodeAt(a)?(u="(",a++):(u=null,0===_&&p('"("')),null===u&&(41===g.charCodeAt(a)?(u=")",a++):(u=null,0===_&&p('")"')),null===u&&(60===g.charCodeAt(a)?(u="<",a++):(u=null,0===_&&p('"<"')),null===u&&(62===g.charCodeAt(a)?(u=">",a++):(u=null,0===_&&p('">"')),null===u&&(58===g.charCodeAt(a)?(u=":",a++):(u=null,0===_&&p('":"')),null===u&&(92===g.charCodeAt(a)?(u="\\",a++):(u=null,0===_&&p('"\\\\"')),null===u&&null===(u=F())&&(47===g.charCodeAt(a)?(u="/",a++):(u=null,0===_&&p('"/"')),null===u&&(91===g.charCodeAt(a)?(u="[",a++):(u=null,0===_&&p('"["')),null===u&&(93===g.charCodeAt(a)?(u="]",a++):(u=null,0===_&&p('"]"')),null===u&&(63===g.charCodeAt(a)?(u="?",a++):(u=null,0===_&&p('"?"')),null===u&&(123===g.charCodeAt(a)?(u="{",a++):(u=null,0===_&&p('"{"')),null===u&&(125===g.charCodeAt(a)?(u="}",a++):(u=null,0===_&&p('"}"')))))))))))))))))))))))),null!==u)for(s=[];null!==u;)s.push(u),null===(u=G())&&(45===g.charCodeAt(a)?(u="-",a++):(u=null,0===_&&p('"-"')),null===u&&(46===g.charCodeAt(a)?(u=".",a++):(u=null,0===_&&p('"."')),null===u&&(33===g.charCodeAt(a)?(u="!",a++):(u=null,0===_&&p('"!"')),null===u&&(37===g.charCodeAt(a)?(u="%",a++):(u=null,0===_&&p('"%"')),null===u&&(42===g.charCodeAt(a)?(u="*",a++):(u=null,0===_&&p('"*"')),null===u&&(95===g.charCodeAt(a)?(u="_",a++):(u=null,0===_&&p('"_"')),null===u&&(43===g.charCodeAt(a)?(u="+",a++):(u=null,0===_&&p('"+"')),null===u&&(96===g.charCodeAt(a)?(u="`",a++):(u=null,0===_&&p('"`"')),null===u&&(39===g.charCodeAt(a)?(u="'",a++):(u=null,0===_&&p('"\'"')),null===u&&(126===g.charCodeAt(a)?(u="~",a++):(u=null,0===_&&p('"~"')),null===u&&(40===g.charCodeAt(a)?(u="(",a++):(u=null,0===_&&p('"("')),null===u&&(41===g.charCodeAt(a)?(u=")",a++):(u=null,0===_&&p('")"')),null===u&&(60===g.charCodeAt(a)?(u="<",a++):(u=null,0===_&&p('"<"')),null===u&&(62===g.charCodeAt(a)?(u=">",a++):(u=null,0===_&&p('">"')),null===u&&(58===g.charCodeAt(a)?(u=":",a++):(u=null,0===_&&p('":"')),null===u&&(92===g.charCodeAt(a)?(u="\\",a++):(u=null,0===_&&p('"\\\\"')),null===u&&null===(u=F())&&(47===g.charCodeAt(a)?(u="/",a++):(u=null,0===_&&p('"/"')),null===u&&(91===g.charCodeAt(a)?(u="[",a++):(u=null,0===_&&p('"["')),null===u&&(93===g.charCodeAt(a)?(u="]",a++):(u=null,0===_&&p('"]"')),null===u&&(63===g.charCodeAt(a)?(u="?",a++):(u=null,0===_&&p('"?"')),null===u&&(123===g.charCodeAt(a)?(u="{",a++):(u=null,0===_&&p('"{"')),null===u&&(125===g.charCodeAt(a)?(u="}",a++):(u=null,0===_&&p('"}"'))))))))))))))))))))))));else s=null;return null!==s&&(s=g.substring(a,f)),null===s&&(a=f),s}function ne(){var s,u,f,m,y;return m=a,y=a,null!==(s=z())?(42===g.charCodeAt(a)?(u="*",a++):(u=null,0===_&&p('"*"')),null!==u&&null!==(f=z())?s=[s,u,f]:(s=null,a=y)):(s=null,a=y),null!==s&&(s="*"),null===s&&(a=m),s}function ee(){var s,u,f,m,y;return m=a,y=a,null!==(s=z())?(47===g.charCodeAt(a)?(u="/",a++):(u=null,0===_&&p('"/"')),null!==u&&null!==(f=z())?s=[s,u,f]:(s=null,a=y)):(s=null,a=y),null!==s&&(s="/"),null===s&&(a=m),s}function ie(){var s,u,f,m,y;return m=a,y=a,null!==(s=z())?(61===g.charCodeAt(a)?(u="=",a++):(u=null,0===_&&p('"="')),null!==u&&null!==(f=z())?s=[s,u,f]:(s=null,a=y)):(s=null,a=y),null!==s&&(s="="),null===s&&(a=m),s}function me(){var s,u,f,m,y;return m=a,y=a,null!==(s=z())?(40===g.charCodeAt(a)?(u="(",a++):(u=null,0===_&&p('"("')),null!==u&&null!==(f=z())?s=[s,u,f]:(s=null,a=y)):(s=null,a=y),null!==s&&(s="("),null===s&&(a=m),s}function Se(){var s,u,f,m,y;return m=a,y=a,null!==(s=z())?(41===g.charCodeAt(a)?(u=")",a++):(u=null,0===_&&p('")"')),null!==u&&null!==(f=z())?s=[s,u,f]:(s=null,a=y)):(s=null,a=y),null!==s&&(s=")"),null===s&&(a=m),s}function Re(){var s,u,f,m;return f=a,m=a,62===g.charCodeAt(a)?(s=">",a++):(s=null,0===_&&p('">"')),null!==s&&null!==(u=z())?s=[s,u]:(s=null,a=m),null!==s&&(s=">"),null===s&&(a=f),s}function ke(){var s,u,f,m;return f=a,m=a,null!==(s=z())?(60===g.charCodeAt(a)?(u="<",a++):(u=null,0===_&&p('"<"')),null!==u?s=[s,u]:(s=null,a=m)):(s=null,a=m),null!==s&&(s="<"),null===s&&(a=f),s}function Me(){var s,u,f,m,y;return m=a,y=a,null!==(s=z())?(44===g.charCodeAt(a)?(u=",",a++):(u=null,0===_&&p('","')),null!==u&&null!==(f=z())?s=[s,u,f]:(s=null,a=y)):(s=null,a=y),null!==s&&(s=","),null===s&&(a=m),s}function Ee(){var s,u,f,m,y;return m=a,y=a,null!==(s=z())?(59===g.charCodeAt(a)?(u=";",a++):(u=null,0===_&&p('";"')),null!==u&&null!==(f=z())?s=[s,u,f]:(s=null,a=y)):(s=null,a=y),null!==s&&(s=";"),null===s&&(a=m),s}function at(){var s,u,f,m,y;return m=a,y=a,null!==(s=z())?(58===g.charCodeAt(a)?(u=":",a++):(u=null,0===_&&p('":"')),null!==u&&null!==(f=z())?s=[s,u,f]:(s=null,a=y)):(s=null,a=y),null!==s&&(s=":"),null===s&&(a=m),s}function vt(){var s,u,f,m;return f=a,m=a,null!==(s=z())&&null!==(u=F())?s=[s,u]:(s=null,a=m),null!==s&&(s='"'),null===s&&(a=f),s}function jt(){var s,u,f,m;return f=a,m=a,null!==(s=F())&&null!==(u=z())?s=[s,u]:(s=null,a=m),null!==s&&(s='"'),null===s&&(a=f),s}function $e(){var s;return/^[!-']/.test(g.charAt(a))?(s=g.charAt(a),a++):(s=null,0===_&&p("[!-']")),null===s&&(/^[*-[]/.test(g.charAt(a))?(s=g.charAt(a),a++):(s=null,0===_&&p("[*-[]")),null===s&&(/^[\]-~]/.test(g.charAt(a))?(s=g.charAt(a),a++):(s=null,0===_&&p("[\\]-~]")),null===s&&null===(s=q())&&(s=fe()))),s}function tt(){var s,u,f,m,y,x;if(y=a,x=a,null!==(s=z()))if(null!==(u=F())){for(f=[],null===(m=yt())&&(m=St());null!==m;)f.push(m),null===(m=yt())&&(m=St());null!==f&&null!==(m=F())?s=[s,u,f,m]:(s=null,a=x)}else s=null,a=x;else s=null,a=x;return null!==s&&(s=g.substring(a,y)),null===s&&(a=y),s}function lt(){var s,u,f,m,y,x,ce;if(y=a,x=a,null!==(s=z()))if(null!==(u=F())){for(f=[],null===(m=yt())&&(m=St());null!==m;)f.push(m),null===(m=yt())&&(m=St());null!==f&&null!==(m=F())?s=[s,u,f,m]:(s=null,a=x)}else s=null,a=x;else s=null,a=x;return null!==s&&(s=(ce=g.substring(a,y).trim()).substring(1,ce.length-1).replace(/\\([\x00-\x09\x0b-\x0c\x0e-\x7f])/g,"$1")),null===s&&(a=y),s}function yt(){var s;return null===(s=fe())&&(33===g.charCodeAt(a)?(s="!",a++):(s=null,0===_&&p('"!"')),null===s&&(/^[#-[]/.test(g.charAt(a))?(s=g.charAt(a),a++):(s=null,0===_&&p("[#-[]")),null===s&&(/^[\]-~]/.test(g.charAt(a))?(s=g.charAt(a),a++):(s=null,0===_&&p("[\\]-~]")),null===s&&(s=q())))),s}function St(){var s,u,f;return f=a,92===g.charCodeAt(a)?(s="\\",a++):(s=null,0===_&&p('"\\\\"')),null!==s?(/^[\0-\t]/.test(g.charAt(a))?(u=g.charAt(a),a++):(u=null,0===_&&p("[\\0-\\t]")),null===u&&(/^[\x0B-\f]/.test(g.charAt(a))?(u=g.charAt(a),a++):(u=null,0===_&&p("[\\x0B-\\f]")),null===u&&(/^[\x0E-\x7f]/.test(g.charAt(a))?(u=g.charAt(a),a++):(u=null,0===_&&p("[\\x0E-\x7f]")))),null!==u?s=[s,u]:(s=null,a=f)):(s=null,a=f),s}function gt(){var s,u,f,m,y,x;return y=a,x=a,null!==(s=$t())?(58===g.charCodeAt(a)?(u=":",a++):(u=null,0===_&&p('":"')),null!==u&&null!==(f=null!==(f=It())?f:"")&&null!==(m=Jo())?s=[s,u,f,m]:(s=null,a=x)):(s=null,a=x),null!==s&&(s=function(N){try{se.uri=new uu(se.scheme,se.user,se.host,se.port),delete se.scheme,delete se.user,delete se.host,delete se.host_type,delete se.port}catch{se=-1}}()),null===s&&(a=y),s}function Xn(){var s,u,f,m,y,x,N,ce;return N=a,ce=a,null!==(s=$t())?(58===g.charCodeAt(a)?(u=":",a++):(u=null,0===_&&p('":"')),null!==u&&null!==(f=null!==(f=It())?f:"")&&null!==(m=Jo())&&null!==(y=eh())&&null!==(x=null!==(x=Lc())?x:"")?s=[s,u,f,m,y,x]:(s=null,a=ce)):(s=null,a=ce),null!==s&&(s=function(De){try{se.uri=new uu(se.scheme,se.user,se.host,se.port,se.uri_params,se.uri_headers),delete se.scheme,delete se.user,delete se.host,delete se.host_type,delete se.port,delete se.uri_params,"SIP_URI"===ye&&(se=se.uri)}catch{se=-1}}()),null===s&&(a=N),s}function $t(){var s;return null===(s=Ir())&&(s=Qo()),s}function Ir(){var s,u;return u=a,"sips"===g.substr(a,4).toLowerCase()?(s=g.substr(a,4),a+=4):(s=null,0===_&&p('"sips"')),null!==s&&(s=void(se.scheme=s.toLowerCase())),null===s&&(a=u),s}function Qo(){var s,u;return u=a,"sip"===g.substr(a,3).toLowerCase()?(s=g.substr(a,3),a+=3):(s=null,0===_&&p('"sip"')),null!==s&&(s=void(se.scheme=s.toLowerCase())),null===s&&(a=u),s}function It(){var s,u,f,m,y,x;return m=a,y=a,null!==(s=Mr())?(x=a,58===g.charCodeAt(a)?(u=":",a++):(u=null,0===_&&p('":"')),null!==u&&null!==(f=wa())?u=[u,f]:(u=null,a=x),null!==(u=null!==u?u:"")?(64===g.charCodeAt(a)?(f="@",a++):(f=null,0===_&&p('"@"')),null!==f?s=[s,u,f]:(s=null,a=y)):(s=null,a=y)):(s=null,a=y),null!==s&&(s=void(se.user=decodeURIComponent(g.substring(a-1,m)))),null===s&&(a=m),s}function Mr(){var s,u;if(null===(u=j())&&null===(u=ve())&&(u=An()),null!==u)for(s=[];null!==u;)s.push(u),null===(u=j())&&null===(u=ve())&&(u=An());else s=null;return s}function An(){var s;return 38===g.charCodeAt(a)?(s="&",a++):(s=null,0===_&&p('"&"')),null===s&&(61===g.charCodeAt(a)?(s="=",a++):(s=null,0===_&&p('"="')),null===s&&(43===g.charCodeAt(a)?(s="+",a++):(s=null,0===_&&p('"+"')),null===s&&(36===g.charCodeAt(a)?(s="$",a++):(s=null,0===_&&p('"$"')),null===s&&(44===g.charCodeAt(a)?(s=",",a++):(s=null,0===_&&p('","')),null===s&&(59===g.charCodeAt(a)?(s=";",a++):(s=null,0===_&&p('";"')),null===s&&(63===g.charCodeAt(a)?(s="?",a++):(s=null,0===_&&p('"?"')),null===s&&(47===g.charCodeAt(a)?(s="/",a++):(s=null,0===_&&p('"/"'))))))))),s}function wa(){var s,u,f;for(f=a,s=[],null===(u=j())&&null===(u=ve())&&(38===g.charCodeAt(a)?(u="&",a++):(u=null,0===_&&p('"&"')),null===u&&(61===g.charCodeAt(a)?(u="=",a++):(u=null,0===_&&p('"="')),null===u&&(43===g.charCodeAt(a)?(u="+",a++):(u=null,0===_&&p('"+"')),null===u&&(36===g.charCodeAt(a)?(u="$",a++):(u=null,0===_&&p('"$"')),null===u&&(44===g.charCodeAt(a)?(u=",",a++):(u=null,0===_&&p('","')))))));null!==u;)s.push(u),null===(u=j())&&null===(u=ve())&&(38===g.charCodeAt(a)?(u="&",a++):(u=null,0===_&&p('"&"')),null===u&&(61===g.charCodeAt(a)?(u="=",a++):(u=null,0===_&&p('"="')),null===u&&(43===g.charCodeAt(a)?(u="+",a++):(u=null,0===_&&p('"+"')),null===u&&(36===g.charCodeAt(a)?(u="$",a++):(u=null,0===_&&p('"$"')),null===u&&(44===g.charCodeAt(a)?(u=",",a++):(u=null,0===_&&p('","')))))));return null!==s&&(s=void(se.password=g.substring(a,f))),null===s&&(a=f),s}function Jo(){var s,u,f,m,y;return m=a,null!==(s=Rr())?(y=a,58===g.charCodeAt(a)?(u=":",a++):(u=null,0===_&&p('":"')),null!==u&&null!==(f=Nc())?u=[u,f]:(u=null,a=y),null!==(u=null!==u?u:"")?s=[s,u]:(s=null,a=m)):(s=null,a=m),s}function Rr(){var s,u;return u=a,null===(s=xa())&&null===(s=lo())&&(s=Da()),null!==s&&(se.host=g.substring(a,u).toLowerCase(),s=se.host),null===s&&(a=u),s}function xa(){var s,u,f,m,y,x,N;for(m=a,y=a,s=[],x=a,null!==(u=Ea())?(46===g.charCodeAt(a)?(f=".",a++):(f=null,0===_&&p('"."')),null!==f?u=[u,f]:(u=null,a=x)):(u=null,a=x);null!==u;)s.push(u),x=a,null!==(u=Ea())?(46===g.charCodeAt(a)?(f=".",a++):(f=null,0===_&&p('"."')),null!==f?u=[u,f]:(u=null,a=x)):(u=null,a=x);return null!==s&&null!==(u=kc())?(46===g.charCodeAt(a)?(f=".",a++):(f=null,0===_&&p('"."')),null!==(f=null!==f?f:"")?s=[s,u,f]:(s=null,a=y)):(s=null,a=y),null!==s&&(N=m,se.host_type="domain",s=g.substring(a,N)),null===s&&(a=m),s}function Ea(){var s,u,f,m;if(m=a,null!==(s=G())){for(u=[],null===(f=G())&&(45===g.charCodeAt(a)?(f="-",a++):(f=null,0===_&&p('"-"')),null===f&&(95===g.charCodeAt(a)?(f="_",a++):(f=null,0===_&&p('"_"'))));null!==f;)u.push(f),null===(f=G())&&(45===g.charCodeAt(a)?(f="-",a++):(f=null,0===_&&p('"-"')),null===f&&(95===g.charCodeAt(a)?(f="_",a++):(f=null,0===_&&p('"_"'))));null!==u?s=[s,u]:(s=null,a=m)}else s=null,a=m;return s}function kc(){var s,u,f,m;if(m=a,null!==(s=X())){for(u=[],null===(f=G())&&(45===g.charCodeAt(a)?(f="-",a++):(f=null,0===_&&p('"-"')),null===f&&(95===g.charCodeAt(a)?(f="_",a++):(f=null,0===_&&p('"_"'))));null!==f;)u.push(f),null===(f=G())&&(45===g.charCodeAt(a)?(f="-",a++):(f=null,0===_&&p('"-"')),null===f&&(95===g.charCodeAt(a)?(f="_",a++):(f=null,0===_&&p('"_"'))));null!==u?s=[s,u]:(s=null,a=m)}else s=null,a=m;return s}function Da(){var s,u,f,m,y,x;return m=a,y=a,91===g.charCodeAt(a)?(s="[",a++):(s=null,0===_&&p('"["')),null!==s&&null!==(u=Sa())?(93===g.charCodeAt(a)?(f="]",a++):(f=null,0===_&&p('"]"')),null!==f?s=[s,u,f]:(s=null,a=y)):(s=null,a=y),null!==s&&(x=m,se.host_type="IPv6",s=g.substring(a,x)),null===s&&(a=m),s}function Sa(){var s,u,f,m,y,x,N,ce,De,ze,Ae,Bt,ct,Kt,_e,Ve,Rn;return Kt=a,_e=a,null!==(s=He())?(58===g.charCodeAt(a)?(u=":",a++):(u=null,0===_&&p('":"')),null!==u&&null!==(f=He())?(58===g.charCodeAt(a)?(m=":",a++):(m=null,0===_&&p('":"')),null!==m&&null!==(y=He())?(58===g.charCodeAt(a)?(x=":",a++):(x=null,0===_&&p('":"')),null!==x&&null!==(N=He())?(58===g.charCodeAt(a)?(ce=":",a++):(ce=null,0===_&&p('":"')),null!==ce&&null!==(De=He())?(58===g.charCodeAt(a)?(ze=":",a++):(ze=null,0===_&&p('":"')),null!==ze&&null!==(Ae=He())?(58===g.charCodeAt(a)?(Bt=":",a++):(Bt=null,0===_&&p('":"')),null!==Bt&&null!==(ct=In())?s=[s,u,f,m,y,x,N,ce,De,ze,Ae,Bt,ct]:(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e),null===s&&(_e=a,"::"===g.substr(a,2)?(s="::",a+=2):(s=null,0===_&&p('"::"')),null!==s&&null!==(u=He())?(58===g.charCodeAt(a)?(f=":",a++):(f=null,0===_&&p('":"')),null!==f&&null!==(m=He())?(58===g.charCodeAt(a)?(y=":",a++):(y=null,0===_&&p('":"')),null!==y&&null!==(x=He())?(58===g.charCodeAt(a)?(N=":",a++):(N=null,0===_&&p('":"')),null!==N&&null!==(ce=He())?(58===g.charCodeAt(a)?(De=":",a++):(De=null,0===_&&p('":"')),null!==De&&null!==(ze=He())?(58===g.charCodeAt(a)?(Ae=":",a++):(Ae=null,0===_&&p('":"')),null!==Ae&&null!==(Bt=In())?s=[s,u,f,m,y,x,N,ce,De,ze,Ae,Bt]:(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e),null===s&&(_e=a,"::"===g.substr(a,2)?(s="::",a+=2):(s=null,0===_&&p('"::"')),null!==s&&null!==(u=He())?(58===g.charCodeAt(a)?(f=":",a++):(f=null,0===_&&p('":"')),null!==f&&null!==(m=He())?(58===g.charCodeAt(a)?(y=":",a++):(y=null,0===_&&p('":"')),null!==y&&null!==(x=He())?(58===g.charCodeAt(a)?(N=":",a++):(N=null,0===_&&p('":"')),null!==N&&null!==(ce=He())?(58===g.charCodeAt(a)?(De=":",a++):(De=null,0===_&&p('":"')),null!==De&&null!==(ze=In())?s=[s,u,f,m,y,x,N,ce,De,ze]:(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e),null===s&&(_e=a,"::"===g.substr(a,2)?(s="::",a+=2):(s=null,0===_&&p('"::"')),null!==s&&null!==(u=He())?(58===g.charCodeAt(a)?(f=":",a++):(f=null,0===_&&p('":"')),null!==f&&null!==(m=He())?(58===g.charCodeAt(a)?(y=":",a++):(y=null,0===_&&p('":"')),null!==y&&null!==(x=He())?(58===g.charCodeAt(a)?(N=":",a++):(N=null,0===_&&p('":"')),null!==N&&null!==(ce=In())?s=[s,u,f,m,y,x,N,ce]:(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e),null===s&&(_e=a,"::"===g.substr(a,2)?(s="::",a+=2):(s=null,0===_&&p('"::"')),null!==s&&null!==(u=He())?(58===g.charCodeAt(a)?(f=":",a++):(f=null,0===_&&p('":"')),null!==f&&null!==(m=He())?(58===g.charCodeAt(a)?(y=":",a++):(y=null,0===_&&p('":"')),null!==y&&null!==(x=In())?s=[s,u,f,m,y,x]:(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e),null===s&&(_e=a,"::"===g.substr(a,2)?(s="::",a+=2):(s=null,0===_&&p('"::"')),null!==s&&null!==(u=He())?(58===g.charCodeAt(a)?(f=":",a++):(f=null,0===_&&p('":"')),null!==f&&null!==(m=In())?s=[s,u,f,m]:(s=null,a=_e)):(s=null,a=_e),null===s&&(_e=a,"::"===g.substr(a,2)?(s="::",a+=2):(s=null,0===_&&p('"::"')),null!==s&&null!==(u=In())?s=[s,u]:(s=null,a=_e),null===s&&(_e=a,"::"===g.substr(a,2)?(s="::",a+=2):(s=null,0===_&&p('"::"')),null!==s&&null!==(u=He())?s=[s,u]:(s=null,a=_e),null===s&&(_e=a,null!==(s=He())?("::"===g.substr(a,2)?(u="::",a+=2):(u=null,0===_&&p('"::"')),null!==u&&null!==(f=He())?(58===g.charCodeAt(a)?(m=":",a++):(m=null,0===_&&p('":"')),null!==m&&null!==(y=He())?(58===g.charCodeAt(a)?(x=":",a++):(x=null,0===_&&p('":"')),null!==x&&null!==(N=He())?(58===g.charCodeAt(a)?(ce=":",a++):(ce=null,0===_&&p('":"')),null!==ce&&null!==(De=He())?(58===g.charCodeAt(a)?(ze=":",a++):(ze=null,0===_&&p('":"')),null!==ze&&null!==(Ae=In())?s=[s,u,f,m,y,x,N,ce,De,ze,Ae]:(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e),null===s&&(_e=a,null!==(s=He())?(Ve=a,58===g.charCodeAt(a)?(u=":",a++):(u=null,0===_&&p('":"')),null!==u&&null!==(f=He())?u=[u,f]:(u=null,a=Ve),null!==(u=null!==u?u:"")?("::"===g.substr(a,2)?(f="::",a+=2):(f=null,0===_&&p('"::"')),null!==f&&null!==(m=He())?(58===g.charCodeAt(a)?(y=":",a++):(y=null,0===_&&p('":"')),null!==y&&null!==(x=He())?(58===g.charCodeAt(a)?(N=":",a++):(N=null,0===_&&p('":"')),null!==N&&null!==(ce=He())?(58===g.charCodeAt(a)?(De=":",a++):(De=null,0===_&&p('":"')),null!==De&&null!==(ze=In())?s=[s,u,f,m,y,x,N,ce,De,ze]:(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e),null===s&&(_e=a,null!==(s=He())?(Ve=a,58===g.charCodeAt(a)?(u=":",a++):(u=null,0===_&&p('":"')),null!==u&&null!==(f=He())?u=[u,f]:(u=null,a=Ve),null!==(u=null!==u?u:"")?(Ve=a,58===g.charCodeAt(a)?(f=":",a++):(f=null,0===_&&p('":"')),null!==f&&null!==(m=He())?f=[f,m]:(f=null,a=Ve),null!==(f=null!==f?f:"")?("::"===g.substr(a,2)?(m="::",a+=2):(m=null,0===_&&p('"::"')),null!==m&&null!==(y=He())?(58===g.charCodeAt(a)?(x=":",a++):(x=null,0===_&&p('":"')),null!==x&&null!==(N=He())?(58===g.charCodeAt(a)?(ce=":",a++):(ce=null,0===_&&p('":"')),null!==ce&&null!==(De=In())?s=[s,u,f,m,y,x,N,ce,De]:(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e),null===s&&(_e=a,null!==(s=He())?(Ve=a,58===g.charCodeAt(a)?(u=":",a++):(u=null,0===_&&p('":"')),null!==u&&null!==(f=He())?u=[u,f]:(u=null,a=Ve),null!==(u=null!==u?u:"")?(Ve=a,58===g.charCodeAt(a)?(f=":",a++):(f=null,0===_&&p('":"')),null!==f&&null!==(m=He())?f=[f,m]:(f=null,a=Ve),null!==(f=null!==f?f:"")?(Ve=a,58===g.charCodeAt(a)?(m=":",a++):(m=null,0===_&&p('":"')),null!==m&&null!==(y=He())?m=[m,y]:(m=null,a=Ve),null!==(m=null!==m?m:"")?("::"===g.substr(a,2)?(y="::",a+=2):(y=null,0===_&&p('"::"')),null!==y&&null!==(x=He())?(58===g.charCodeAt(a)?(N=":",a++):(N=null,0===_&&p('":"')),null!==N&&null!==(ce=In())?s=[s,u,f,m,y,x,N,ce]:(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e),null===s&&(_e=a,null!==(s=He())?(Ve=a,58===g.charCodeAt(a)?(u=":",a++):(u=null,0===_&&p('":"')),null!==u&&null!==(f=He())?u=[u,f]:(u=null,a=Ve),null!==(u=null!==u?u:"")?(Ve=a,58===g.charCodeAt(a)?(f=":",a++):(f=null,0===_&&p('":"')),null!==f&&null!==(m=He())?f=[f,m]:(f=null,a=Ve),null!==(f=null!==f?f:"")?(Ve=a,58===g.charCodeAt(a)?(m=":",a++):(m=null,0===_&&p('":"')),null!==m&&null!==(y=He())?m=[m,y]:(m=null,a=Ve),null!==(m=null!==m?m:"")?(Ve=a,58===g.charCodeAt(a)?(y=":",a++):(y=null,0===_&&p('":"')),null!==y&&null!==(x=He())?y=[y,x]:(y=null,a=Ve),null!==(y=null!==y?y:"")?("::"===g.substr(a,2)?(x="::",a+=2):(x=null,0===_&&p('"::"')),null!==x&&null!==(N=In())?s=[s,u,f,m,y,x,N]:(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e),null===s&&(_e=a,null!==(s=He())?(Ve=a,58===g.charCodeAt(a)?(u=":",a++):(u=null,0===_&&p('":"')),null!==u&&null!==(f=He())?u=[u,f]:(u=null,a=Ve),null!==(u=null!==u?u:"")?(Ve=a,58===g.charCodeAt(a)?(f=":",a++):(f=null,0===_&&p('":"')),null!==f&&null!==(m=He())?f=[f,m]:(f=null,a=Ve),null!==(f=null!==f?f:"")?(Ve=a,58===g.charCodeAt(a)?(m=":",a++):(m=null,0===_&&p('":"')),null!==m&&null!==(y=He())?m=[m,y]:(m=null,a=Ve),null!==(m=null!==m?m:"")?(Ve=a,58===g.charCodeAt(a)?(y=":",a++):(y=null,0===_&&p('":"')),null!==y&&null!==(x=He())?y=[y,x]:(y=null,a=Ve),null!==(y=null!==y?y:"")?(Ve=a,58===g.charCodeAt(a)?(x=":",a++):(x=null,0===_&&p('":"')),null!==x&&null!==(N=He())?x=[x,N]:(x=null,a=Ve),null!==(x=null!==x?x:"")?("::"===g.substr(a,2)?(N="::",a+=2):(N=null,0===_&&p('"::"')),null!==N&&null!==(ce=He())?s=[s,u,f,m,y,x,N,ce]:(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e),null===s&&(_e=a,null!==(s=He())?(Ve=a,58===g.charCodeAt(a)?(u=":",a++):(u=null,0===_&&p('":"')),null!==u&&null!==(f=He())?u=[u,f]:(u=null,a=Ve),null!==(u=null!==u?u:"")?(Ve=a,58===g.charCodeAt(a)?(f=":",a++):(f=null,0===_&&p('":"')),null!==f&&null!==(m=He())?f=[f,m]:(f=null,a=Ve),null!==(f=null!==f?f:"")?(Ve=a,58===g.charCodeAt(a)?(m=":",a++):(m=null,0===_&&p('":"')),null!==m&&null!==(y=He())?m=[m,y]:(m=null,a=Ve),null!==(m=null!==m?m:"")?(Ve=a,58===g.charCodeAt(a)?(y=":",a++):(y=null,0===_&&p('":"')),null!==y&&null!==(x=He())?y=[y,x]:(y=null,a=Ve),null!==(y=null!==y?y:"")?(Ve=a,58===g.charCodeAt(a)?(x=":",a++):(x=null,0===_&&p('":"')),null!==x&&null!==(N=He())?x=[x,N]:(x=null,a=Ve),null!==(x=null!==x?x:"")?(Ve=a,58===g.charCodeAt(a)?(N=":",a++):(N=null,0===_&&p('":"')),null!==N&&null!==(ce=He())?N=[N,ce]:(N=null,a=Ve),null!==(N=null!==N?N:"")?("::"===g.substr(a,2)?(ce="::",a+=2):(ce=null,0===_&&p('"::"')),null!==ce?s=[s,u,f,m,y,x,N,ce]:(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e)):(s=null,a=_e))))))))))))))),null!==s&&(Rn=Kt,se.host_type="IPv6",s=g.substring(a,Rn)),null===s&&(a=Kt),s}function He(){var s,u,f,m,y;return y=a,null!==(s=W())&&null!==(u=null!==(u=W())?u:"")&&null!==(f=null!==(f=W())?f:"")&&null!==(m=null!==(m=W())?m:"")?s=[s,u,f,m]:(s=null,a=y),s}function In(){var s,u,f,m;return m=a,null!==(s=He())?(58===g.charCodeAt(a)?(u=":",a++):(u=null,0===_&&p('":"')),null!==u&&null!==(f=He())?s=[s,u,f]:(s=null,a=m)):(s=null,a=m),null===s&&(s=lo()),s}function lo(){var s,u,f,m,y,x,N,ce,De,ze;return ce=a,De=a,null!==(s=co())?(46===g.charCodeAt(a)?(u=".",a++):(u=null,0===_&&p('"."')),null!==u&&null!==(f=co())?(46===g.charCodeAt(a)?(m=".",a++):(m=null,0===_&&p('"."')),null!==m&&null!==(y=co())?(46===g.charCodeAt(a)?(x=".",a++):(x=null,0===_&&p('"."')),null!==x&&null!==(N=co())?s=[s,u,f,m,y,x,N]:(s=null,a=De)):(s=null,a=De)):(s=null,a=De)):(s=null,a=De),null!==s&&(ze=ce,se.host_type="IPv4",s=g.substring(a,ze)),null===s&&(a=ce),s}function co(){var s,u,f,m;return m=a,"25"===g.substr(a,2)?(s="25",a+=2):(s=null,0===_&&p('"25"')),null!==s?(/^[0-5]/.test(g.charAt(a))?(u=g.charAt(a),a++):(u=null,0===_&&p("[0-5]")),null!==u?s=[s,u]:(s=null,a=m)):(s=null,a=m),null===s&&(m=a,50===g.charCodeAt(a)?(s="2",a++):(s=null,0===_&&p('"2"')),null!==s?(/^[0-4]/.test(g.charAt(a))?(u=g.charAt(a),a++):(u=null,0===_&&p("[0-4]")),null!==u&&null!==(f=Q())?s=[s,u,f]:(s=null,a=m)):(s=null,a=m),null===s&&(m=a,49===g.charCodeAt(a)?(s="1",a++):(s=null,0===_&&p('"1"')),null!==s&&null!==(u=Q())&&null!==(f=Q())?s=[s,u,f]:(s=null,a=m),null===s&&(m=a,/^[1-9]/.test(g.charAt(a))?(s=g.charAt(a),a++):(s=null,0===_&&p("[1-9]")),null!==s&&null!==(u=Q())?s=[s,u]:(s=null,a=m),null===s&&(s=Q())))),s}function Nc(){var s,u,f,m,y,x,N,De;return x=a,N=a,null!==(s=null!==(s=Q())?s:"")&&null!==(u=null!==(u=Q())?u:"")&&null!==(f=null!==(f=Q())?f:"")&&null!==(m=null!==(m=Q())?m:"")&&null!==(y=null!==(y=Q())?y:"")?s=[s,u,f,m,y]:(s=null,a=N),null!==s&&(De=s,De=parseInt(De.join("")),se.port=De,s=De),null===s&&(a=x),s}function eh(){var s,u,f,m;for(s=[],m=a,59===g.charCodeAt(a)?(u=";",a++):(u=null,0===_&&p('";"')),null!==u&&null!==(f=uo())?u=[u,f]:(u=null,a=m);null!==u;)s.push(u),m=a,59===g.charCodeAt(a)?(u=";",a++):(u=null,0===_&&p('";"')),null!==u&&null!==(f=uo())?u=[u,f]:(u=null,a=m);return s}function uo(){var s;return null===(s=Ta())&&null===(s=Aa())&&null===(s=Ia())&&null===(s=Ma())&&null===(s=Fc())&&null===(s=Ra())&&(s=Oa()),s}function Ta(){var s,u,f,m,x;return f=a,m=a,"transport="===g.substr(a,10).toLowerCase()?(s=g.substr(a,10),a+=10):(s=null,0===_&&p('"transport="')),null!==s?("udp"===g.substr(a,3).toLowerCase()?(u=g.substr(a,3),a+=3):(u=null,0===_&&p('"udp"')),null===u&&("tcp"===g.substr(a,3).toLowerCase()?(u=g.substr(a,3),a+=3):(u=null,0===_&&p('"tcp"')),null===u&&("sctp"===g.substr(a,4).toLowerCase()?(u=g.substr(a,4),a+=4):(u=null,0===_&&p('"sctp"')),null===u&&("tls"===g.substr(a,3).toLowerCase()?(u=g.substr(a,3),a+=3):(u=null,0===_&&p('"tls"')),null===u&&(u=Y())))),null!==u?s=[s,u]:(s=null,a=m)):(s=null,a=m),null!==s&&(x=s[1],se.uri_params||(se.uri_params={}),s=void(se.uri_params.transport=x.toLowerCase())),null===s&&(a=f),s}function Aa(){var s,u,f,m,x;return f=a,m=a,"user="===g.substr(a,5).toLowerCase()?(s=g.substr(a,5),a+=5):(s=null,0===_&&p('"user="')),null!==s?("phone"===g.substr(a,5).toLowerCase()?(u=g.substr(a,5),a+=5):(u=null,0===_&&p('"phone"')),null===u&&("ip"===g.substr(a,2).toLowerCase()?(u=g.substr(a,2),a+=2):(u=null,0===_&&p('"ip"')),null===u&&(u=Y())),null!==u?s=[s,u]:(s=null,a=m)):(s=null,a=m),null!==s&&(x=s[1],se.uri_params||(se.uri_params={}),s=void(se.uri_params.user=x.toLowerCase())),null===s&&(a=f),s}function Ia(){var s,u,f,m,x;return f=a,m=a,"method="===g.substr(a,7).toLowerCase()?(s=g.substr(a,7),a+=7):(s=null,0===_&&p('"method="')),null!==s&&null!==(u=ho())?s=[s,u]:(s=null,a=m),null!==s&&(x=s[1],se.uri_params||(se.uri_params={}),s=void(se.uri_params.method=x)),null===s&&(a=f),s}function Ma(){var s,u,f,m,x;return f=a,m=a,"ttl="===g.substr(a,4).toLowerCase()?(s=g.substr(a,4),a+=4):(s=null,0===_&&p('"ttl="')),null!==s&&null!==(u=Lr())?s=[s,u]:(s=null,a=m),null!==s&&(x=s[1],se.params||(se.params={}),s=void(se.params.ttl=x)),null===s&&(a=f),s}function Fc(){var s,u,f,m,x;return f=a,m=a,"maddr="===g.substr(a,6).toLowerCase()?(s=g.substr(a,6),a+=6):(s=null,0===_&&p('"maddr="')),null!==s&&null!==(u=Rr())?s=[s,u]:(s=null,a=m),null!==s&&(x=s[1],se.uri_params||(se.uri_params={}),s=void(se.uri_params.maddr=x)),null===s&&(a=f),s}function Ra(){var s,u,f,m,y,x;return m=a,y=a,"lr"===g.substr(a,2).toLowerCase()?(s=g.substr(a,2),a+=2):(s=null,0===_&&p('"lr"')),null!==s?(x=a,61===g.charCodeAt(a)?(u="=",a++):(u=null,0===_&&p('"="')),null!==u&&null!==(f=Y())?u=[u,f]:(u=null,a=x),null!==(u=null!==u?u:"")?s=[s,u]:(s=null,a=y)):(s=null,a=y),null!==s&&(se.uri_params||(se.uri_params={}),s=void(se.uri_params.lr=void 0)),null===s&&(a=m),s}function Oa(){var s,u,f,m,y,x,ce,De;return m=a,y=a,null!==(s=ka())?(x=a,61===g.charCodeAt(a)?(u="=",a++):(u=null,0===_&&p('"="')),null!==u&&null!==(f=Na())?u=[u,f]:(u=null,a=x),null!==(u=null!==u?u:"")?s=[s,u]:(s=null,a=y)):(s=null,a=y),null!==s&&(ce=s[0],De=s[1],se.uri_params||(se.uri_params={}),De=typeof De>"u"?void 0:De[1],s=void(se.uri_params[ce.toLowerCase()]=De)),null===s&&(a=m),s}function ka(){var s,u,f;if(f=a,null!==(u=qt()))for(s=[];null!==u;)s.push(u),u=qt();else s=null;return null!==s&&(s=s.join("")),null===s&&(a=f),s}function Na(){var s,u,f;if(f=a,null!==(u=qt()))for(s=[];null!==u;)s.push(u),u=qt();else s=null;return null!==s&&(s=s.join("")),null===s&&(a=f),s}function qt(){var s;return null===(s=Pc())&&null===(s=j())&&(s=ve()),s}function Pc(){var s;return 91===g.charCodeAt(a)?(s="[",a++):(s=null,0===_&&p('"["')),null===s&&(93===g.charCodeAt(a)?(s="]",a++):(s=null,0===_&&p('"]"')),null===s&&(47===g.charCodeAt(a)?(s="/",a++):(s=null,0===_&&p('"/"')),null===s&&(58===g.charCodeAt(a)?(s=":",a++):(s=null,0===_&&p('":"')),null===s&&(38===g.charCodeAt(a)?(s="&",a++):(s=null,0===_&&p('"&"')),null===s&&(43===g.charCodeAt(a)?(s="+",a++):(s=null,0===_&&p('"+"')),null===s&&(36===g.charCodeAt(a)?(s="$",a++):(s=null,0===_&&p('"$"')))))))),s}function Lc(){var s,u,f,m,y,x,N;if(x=a,63===g.charCodeAt(a)?(s="?",a++):(s=null,0===_&&p('"?"')),null!==s)if(null!==(u=es())){for(f=[],N=a,38===g.charCodeAt(a)?(m="&",a++):(m=null,0===_&&p('"&"')),null!==m&&null!==(y=es())?m=[m,y]:(m=null,a=N);null!==m;)f.push(m),N=a,38===g.charCodeAt(a)?(m="&",a++):(m=null,0===_&&p('"&"')),null!==m&&null!==(y=es())?m=[m,y]:(m=null,a=N);null!==f?s=[s,u,f]:(s=null,a=x)}else s=null,a=x;else s=null,a=x;return s}function es(){var s,u,f,m,y,N,ce;return m=a,y=a,null!==(s=Vc())?(61===g.charCodeAt(a)?(u="=",a++):(u=null,0===_&&p('"="')),null!==u&&null!==(f=Fa())?s=[s,u,f]:(s=null,a=y)):(s=null,a=y),null!==s&&(ce=s[2],N=(N=s[0]).join("").toLowerCase(),ce=ce.join(""),se.uri_headers||(se.uri_headers={}),s=void(se.uri_headers[N]?se.uri_headers[N].push(ce):se.uri_headers[N]=[ce])),null===s&&(a=m),s}function Vc(){var s,u;if(null===(u=fo())&&null===(u=j())&&(u=ve()),null!==u)for(s=[];null!==u;)s.push(u),null===(u=fo())&&null===(u=j())&&(u=ve());else s=null;return s}function Fa(){var s,u;for(s=[],null===(u=fo())&&null===(u=j())&&(u=ve());null!==u;)s.push(u),null===(u=fo())&&null===(u=j())&&(u=ve());return s}function fo(){var s;return 91===g.charCodeAt(a)?(s="[",a++):(s=null,0===_&&p('"["')),null===s&&(93===g.charCodeAt(a)?(s="]",a++):(s=null,0===_&&p('"]"')),null===s&&(47===g.charCodeAt(a)?(s="/",a++):(s=null,0===_&&p('"/"')),null===s&&(63===g.charCodeAt(a)?(s="?",a++):(s=null,0===_&&p('"?"')),null===s&&(58===g.charCodeAt(a)?(s=":",a++):(s=null,0===_&&p('":"')),null===s&&(43===g.charCodeAt(a)?(s="+",a++):(s=null,0===_&&p('"+"')),null===s&&(36===g.charCodeAt(a)?(s="$",a++):(s=null,0===_&&p('"$"')))))))),s}function ci(){var s,u,f,m,y,x;return x=a,null!==(s=ho())&&null!==(u=B())&&null!==(f=Bc())&&null!==(m=B())&&null!==(y=is())?s=[s,u,f,m,y]:(s=null,a=x),s}function Bc(){var s;return null===(s=Xn())&&(s=sr()),s}function sr(){var s,u,f,m;return m=a,null!==(s=Ha())?(58===g.charCodeAt(a)?(u=":",a++):(u=null,0===_&&p('":"')),null!==u?(null===(f=Pa())&&(f=Hc()),null!==f?s=[s,u,f]:(s=null,a=m)):(s=null,a=m)):(s=null,a=m),s}function Pa(){var s,u,f,m,y;return m=a,null===(s=ts())&&(s=La()),null!==s?(y=a,63===g.charCodeAt(a)?(u="?",a++):(u=null,0===_&&p('"?"')),null!==u&&null!==(f=$c())?u=[u,f]:(u=null,a=y),null!==(u=null!==u?u:"")?s=[s,u]:(s=null,a=m)):(s=null,a=m),s}function ts(){var s,u,f,m;return m=a,"//"===g.substr(a,2)?(s="//",a+=2):(s=null,0===_&&p('"//"')),null!==s&&null!==(u=jc())&&null!==(f=null!==(f=La())?f:"")?s=[s,u,f]:(s=null,a=m),s}function La(){var s,u,f;return f=a,47===g.charCodeAt(a)?(s="/",a++):(s=null,0===_&&p('"/"')),null!==s&&null!==(u=Va())?s=[s,u]:(s=null,a=f),s}function Hc(){var s,u,f,m;if(m=a,null!==(s=ns())){for(u=[],f=Or();null!==f;)u.push(f),f=Or();null!==u?s=[s,u]:(s=null,a=m)}else s=null,a=m;return s}function Or(){var s;return null===(s=te())&&null===(s=j())&&(s=ve()),s}function ns(){var s;return null===(s=j())&&null===(s=ve())&&(59===g.charCodeAt(a)?(s=";",a++):(s=null,0===_&&p('";"')),null===s&&(63===g.charCodeAt(a)?(s="?",a++):(s=null,0===_&&p('"?"')),null===s&&(58===g.charCodeAt(a)?(s=":",a++):(s=null,0===_&&p('":"')),null===s&&(64===g.charCodeAt(a)?(s="@",a++):(s=null,0===_&&p('"@"')),null===s&&(38===g.charCodeAt(a)?(s="&",a++):(s=null,0===_&&p('"&"')),null===s&&(61===g.charCodeAt(a)?(s="=",a++):(s=null,0===_&&p('"="')),null===s&&(43===g.charCodeAt(a)?(s="+",a++):(s=null,0===_&&p('"+"')),null===s&&(36===g.charCodeAt(a)?(s="$",a++):(s=null,0===_&&p('"$"')),null===s&&(44===g.charCodeAt(a)?(s=",",a++):(s=null,0===_&&p('","'))))))))))),s}function Va(){var s,u,f,m,y,x;if(y=a,null!==(s=Li())){for(u=[],x=a,47===g.charCodeAt(a)?(f="/",a++):(f=null,0===_&&p('"/"')),null!==f&&null!==(m=Li())?f=[f,m]:(f=null,a=x);null!==f;)u.push(f),x=a,47===g.charCodeAt(a)?(f="/",a++):(f=null,0===_&&p('"/"')),null!==f&&null!==(m=Li())?f=[f,m]:(f=null,a=x);null!==u?s=[s,u]:(s=null,a=y)}else s=null,a=y;return s}function Li(){var s,u,f,m,y,x;for(y=a,s=[],u=kr();null!==u;)s.push(u),u=kr();if(null!==s){for(u=[],x=a,59===g.charCodeAt(a)?(f=";",a++):(f=null,0===_&&p('";"')),null!==f&&null!==(m=Ba())?f=[f,m]:(f=null,a=x);null!==f;)u.push(f),x=a,59===g.charCodeAt(a)?(f=";",a++):(f=null,0===_&&p('";"')),null!==f&&null!==(m=Ba())?f=[f,m]:(f=null,a=x);null!==u?s=[s,u]:(s=null,a=y)}else s=null,a=y;return s}function Ba(){var s,u;for(s=[],u=kr();null!==u;)s.push(u),u=kr();return s}function kr(){var s;return null===(s=j())&&null===(s=ve())&&(58===g.charCodeAt(a)?(s=":",a++):(s=null,0===_&&p('":"')),null===s&&(64===g.charCodeAt(a)?(s="@",a++):(s=null,0===_&&p('"@"')),null===s&&(38===g.charCodeAt(a)?(s="&",a++):(s=null,0===_&&p('"&"')),null===s&&(61===g.charCodeAt(a)?(s="=",a++):(s=null,0===_&&p('"="')),null===s&&(43===g.charCodeAt(a)?(s="+",a++):(s=null,0===_&&p('"+"')),null===s&&(36===g.charCodeAt(a)?(s="$",a++):(s=null,0===_&&p('"$"')),null===s&&(44===g.charCodeAt(a)?(s=",",a++):(s=null,0===_&&p('","'))))))))),s}function Ha(){var s,u,f,m,y;if(m=a,y=a,null!==(s=X())){for(u=[],null===(f=X())&&null===(f=Q())&&(43===g.charCodeAt(a)?(f="+",a++):(f=null,0===_&&p('"+"')),null===f&&(45===g.charCodeAt(a)?(f="-",a++):(f=null,0===_&&p('"-"')),null===f&&(46===g.charCodeAt(a)?(f=".",a++):(f=null,0===_&&p('"."')))));null!==f;)u.push(f),null===(f=X())&&null===(f=Q())&&(43===g.charCodeAt(a)?(f="+",a++):(f=null,0===_&&p('"+"')),null===f&&(45===g.charCodeAt(a)?(f="-",a++):(f=null,0===_&&p('"-"')),null===f&&(46===g.charCodeAt(a)?(f=".",a++):(f=null,0===_&&p('"."')))));null!==u?s=[s,u]:(s=null,a=y)}else s=null,a=y;return null!==s&&(s=void(se.scheme=g.substring(a,m))),null===s&&(a=m),s}function jc(){var s;return null===(s=Uc())&&(s=zc()),s}function Uc(){var s,u,f,m;return f=a,m=a,null!==(s=It())?(64===g.charCodeAt(a)?(u="@",a++):(u=null,0===_&&p('"@"')),null!==u?s=[s,u]:(s=null,a=m)):(s=null,a=m),null!==(s=null!==s?s:"")&&null!==(u=Jo())?s=[s,u]:(s=null,a=f),null!==s?s:""}function zc(){var s,u;if(null===(u=j())&&null===(u=ve())&&(36===g.charCodeAt(a)?(u="$",a++):(u=null,0===_&&p('"$"')),null===u&&(44===g.charCodeAt(a)?(u=",",a++):(u=null,0===_&&p('","')),null===u&&(59===g.charCodeAt(a)?(u=";",a++):(u=null,0===_&&p('";"')),null===u&&(58===g.charCodeAt(a)?(u=":",a++):(u=null,0===_&&p('":"')),null===u&&(64===g.charCodeAt(a)?(u="@",a++):(u=null,0===_&&p('"@"')),null===u&&(38===g.charCodeAt(a)?(u="&",a++):(u=null,0===_&&p('"&"')),null===u&&(61===g.charCodeAt(a)?(u="=",a++):(u=null,0===_&&p('"="')),null===u&&(43===g.charCodeAt(a)?(u="+",a++):(u=null,0===_&&p('"+"')))))))))),null!==u)for(s=[];null!==u;)s.push(u),null===(u=j())&&null===(u=ve())&&(36===g.charCodeAt(a)?(u="$",a++):(u=null,0===_&&p('"$"')),null===u&&(44===g.charCodeAt(a)?(u=",",a++):(u=null,0===_&&p('","')),null===u&&(59===g.charCodeAt(a)?(u=";",a++):(u=null,0===_&&p('";"')),null===u&&(58===g.charCodeAt(a)?(u=":",a++):(u=null,0===_&&p('":"')),null===u&&(64===g.charCodeAt(a)?(u="@",a++):(u=null,0===_&&p('"@"')),null===u&&(38===g.charCodeAt(a)?(u="&",a++):(u=null,0===_&&p('"&"')),null===u&&(61===g.charCodeAt(a)?(u="=",a++):(u=null,0===_&&p('"="')),null===u&&(43===g.charCodeAt(a)?(u="+",a++):(u=null,0===_&&p('"+"'))))))))));else s=null;return s}function $c(){var s,u;for(s=[],u=Or();null!==u;)s.push(u),u=Or();return s}function is(){var s,u,f,m,y,x,N,ce;if(N=a,ce=a,"sip"===g.substr(a,3).toLowerCase()?(s=g.substr(a,3),a+=3):(s=null,0===_&&p('"SIP"')),null!==s)if(47===g.charCodeAt(a)?(u="/",a++):(u=null,0===_&&p('"/"')),null!==u){if(null!==(m=Q()))for(f=[];null!==m;)f.push(m),m=Q();else f=null;if(null!==f)if(46===g.charCodeAt(a)?(m=".",a++):(m=null,0===_&&p('"."')),null!==m){if(null!==(x=Q()))for(y=[];null!==x;)y.push(x),x=Q();else y=null;null!==y?s=[s,u,f,m,y]:(s=null,a=ce)}else s=null,a=ce;else s=null,a=ce}else s=null,a=ce;else s=null,a=ce;return null!==s&&(s=void(se.sip_version=g.substring(a,N))),null===s&&(a=N),s}function qc(){var s;return"INVITE"===g.substr(a,6)?(s="INVITE",a+=6):(s=null,0===_&&p('"INVITE"')),s}function Gc(){var s;return"ACK"===g.substr(a,3)?(s="ACK",a+=3):(s=null,0===_&&p('"ACK"')),s}function Vi(){var s;return"OPTIONS"===g.substr(a,7)?(s="OPTIONS",a+=7):(s=null,0===_&&p('"OPTIONS"')),s}function rs(){var s;return"BYE"===g.substr(a,3)?(s="BYE",a+=3):(s=null,0===_&&p('"BYE"')),s}function zn(){var s;return"CANCEL"===g.substr(a,6)?(s="CANCEL",a+=6):(s=null,0===_&&p('"CANCEL"')),s}function Mn(){var s;return"REGISTER"===g.substr(a,8)?(s="REGISTER",a+=8):(s=null,0===_&&p('"REGISTER"')),s}function os(){var s;return"SUBSCRIBE"===g.substr(a,9)?(s="SUBSCRIBE",a+=9):(s=null,0===_&&p('"SUBSCRIBE"')),s}function ss(){var s;return"NOTIFY"===g.substr(a,6)?(s="NOTIFY",a+=6):(s=null,0===_&&p('"NOTIFY"')),s}function Wc(){var s;return"REFER"===g.substr(a,5)?(s="REFER",a+=5):(s=null,0===_&&p('"REFER"')),s}function ho(){var s,u;return u=a,null===(s=qc())&&null===(s=Gc())&&null===(s=Vi())&&null===(s=rs())&&null===(s=zn())&&null===(s=Mn())&&null===(s=os())&&null===(s=ss())&&null===(s=Wc())&&(s=Y()),null!==s&&(se.method=g.substring(a,u),s=se.method),null===s&&(a=u),s}function Yc(){var s,u,f,m,y,x;return x=a,null!==(s=is())&&null!==(u=B())&&null!==(f=xt())&&null!==(m=B())&&null!==(y=Gt())?s=[s,u,f,m,y]:(s=null,a=x),s}function xt(){var s,u;return u=a,null!==(s=po())&&(s=void(se.status_code=parseInt(s.join("")))),null===s&&(a=u),s}function po(){var s,u,f,m;return m=a,null!==(s=Q())&&null!==(u=Q())&&null!==(f=Q())?s=[s,u,f]:(s=null,a=m),s}function Gt(){var s,u,f;for(f=a,s=[],null===(u=te())&&null===(u=j())&&null===(u=ve())&&null===(u=q())&&null===(u=H())&&null===(u=B())&&(u=V());null!==u;)s.push(u),null===(u=te())&&null===(u=j())&&null===(u=ve())&&null===(u=q())&&null===(u=H())&&null===(u=B())&&(u=V());return null!==s&&(s=void(se.reason_phrase=g.substring(a,f))),null===s&&(a=f),s}function We(){var s,u,f,m,y,x,N;if(y=a,x=a,null===(s=gt())&&(s=wi()),null!==s){for(u=[],N=a,null!==(f=Ee())&&null!==(m=Zc())?f=[f,m]:(f=null,a=N);null!==f;)u.push(f),N=a,null!==(f=Ee())&&null!==(m=Zc())?f=[f,m]:(f=null,a=N);null!==u?s=[s,u]:(s=null,a=x)}else s=null,a=x;return null!==s&&(s=function(ce){var De;se.multi_header||(se.multi_header=[]);try{De=new cr(se.uri,se.display_name,se.params),delete se.uri,delete se.display_name,delete se.params}catch{De=null}se.multi_header.push({possition:a,offset:ce,parsed:De})}(y)),null===s&&(a=y),s}function wi(){var s,u,f,m,y;return y=a,null!==(s=null!==(s=Nr())?s:"")&&null!==(u=ke())&&null!==(f=Xn())&&null!==(m=Re())?s=[s,u,f,m]:(s=null,a=y),s}function Nr(){var s,u,f,m,y,x,N,De;if(y=a,x=a,null!==(s=Y())){for(u=[],N=a,null!==(f=fe())&&null!==(m=Y())?f=[f,m]:(f=null,a=N);null!==f;)u.push(f),N=a,null!==(f=fe())&&null!==(m=Y())?f=[f,m]:(f=null,a=N);null!==u?s=[s,u]:(s=null,a=x)}else s=null,a=x;return null===s&&(s=lt()),null!==s&&(s=void(se.display_name="string"==typeof(De=s)?De:De[1].reduce(function(ze,Ae){return ze+Ae[0]+Ae[1]},De[0]))),null===s&&(a=y),s}function Zc(){var s;return null===(s=Ua())&&null===(s=be())&&(s=Ye()),s}function Ua(){var s,u,f,m,y,N;return m=a,y=a,"q"===g.substr(a,1).toLowerCase()?(s=g.substr(a,1),a++):(s=null,0===_&&p('"q"')),null!==s&&null!==(u=ie())&&null!==(f=Xe())?s=[s,u,f]:(s=null,a=y),null!==s&&(N=s[2],se.params||(se.params={}),s=void(se.params.q=N)),null===s&&(a=m),s}function be(){var s,u,f,m,y,N;return m=a,y=a,"expires"===g.substr(a,7).toLowerCase()?(s=g.substr(a,7),a+=7):(s=null,0===_&&p('"expires"')),null!==s&&null!==(u=ie())&&null!==(f=ui())?s=[s,u,f]:(s=null,a=y),null!==s&&(N=s[2],se.params||(se.params={}),s=void(se.params.expires=N)),null===s&&(a=m),s}function ui(){var s,u,f;if(f=a,null!==(u=Q()))for(s=[];null!==u;)s.push(u),u=Q();else s=null;return null!==s&&(s=parseInt(s.join(""))),null===s&&(a=f),s}function Xe(){var s,u,f,m,y,x,N,ce;return x=a,N=a,48===g.charCodeAt(a)?(s="0",a++):(s=null,0===_&&p('"0"')),null!==s?(ce=a,46===g.charCodeAt(a)?(u=".",a++):(u=null,0===_&&p('"."')),null!==u&&null!==(f=null!==(f=Q())?f:"")&&null!==(m=null!==(m=Q())?m:"")&&null!==(y=null!==(y=Q())?y:"")?u=[u,f,m,y]:(u=null,a=ce),null!==(u=null!==u?u:"")?s=[s,u]:(s=null,a=N)):(s=null,a=N),null!==s&&(s=parseFloat(g.substring(a,x))),null===s&&(a=x),s}function Ye(){var s,u,f,m,y,x,ce,De;return m=a,y=a,null!==(s=Y())?(x=a,null!==(u=ie())&&null!==(f=Kc())?u=[u,f]:(u=null,a=x),null!==(u=null!==u?u:"")?s=[s,u]:(s=null,a=y)):(s=null,a=y),null!==s&&(ce=s[0],De=s[1],se.params||(se.params={}),De=typeof De>"u"?void 0:De[1],s=void(se.params[ce.toLowerCase()]=De)),null===s&&(a=m),s}function Kc(){var s;return null===(s=Y())&&null===(s=Rr())&&(s=tt()),s}function Xc(){var s;return"render"===g.substr(a,6).toLowerCase()?(s=g.substr(a,6),a+=6):(s=null,0===_&&p('"render"')),null===s&&("session"===g.substr(a,7).toLowerCase()?(s=g.substr(a,7),a+=7):(s=null,0===_&&p('"session"')),null===s&&("icon"===g.substr(a,4).toLowerCase()?(s=g.substr(a,4),a+=4):(s=null,0===_&&p('"icon"')),null===s&&("alert"===g.substr(a,5).toLowerCase()?(s=g.substr(a,5),a+=5):(s=null,0===_&&p('"alert"')),null===s&&(s=Y())))),s}function mo(){var s;return null===(s=bn())&&(s=Ye()),s}function bn(){var s,u,f,m;return m=a,"handling"===g.substr(a,8).toLowerCase()?(s=g.substr(a,8),a+=8):(s=null,0===_&&p('"handling"')),null!==s&&null!==(u=ie())?("optional"===g.substr(a,8).toLowerCase()?(f=g.substr(a,8),a+=8):(f=null,0===_&&p('"optional"')),null===f&&("required"===g.substr(a,8).toLowerCase()?(f=g.substr(a,8),a+=8):(f=null,0===_&&p('"required"')),null===f&&(f=Y())),null!==f?s=[s,u,f]:(s=null,a=m)):(s=null,a=m),s}function Bi(){var s,u,f,m,y,x,N,ce;if(N=a,null!==(s=rh()))if(null!==(u=ee()))if(null!==(f=ah())){for(m=[],ce=a,null!==(y=Ee())&&null!==(x=$a())?y=[y,x]:(y=null,a=ce);null!==y;)m.push(y),ce=a,null!==(y=Ee())&&null!==(x=$a())?y=[y,x]:(y=null,a=ce);null!==m?s=[s,u,f,m]:(s=null,a=N)}else s=null,a=N;else s=null,a=N;else s=null,a=N;return s}function rh(){var s;return null===(s=oh())&&(s=sh()),s}function oh(){var s;return"text"===g.substr(a,4).toLowerCase()?(s=g.substr(a,4),a+=4):(s=null,0===_&&p('"text"')),null===s&&("image"===g.substr(a,5).toLowerCase()?(s=g.substr(a,5),a+=5):(s=null,0===_&&p('"image"')),null===s&&("audio"===g.substr(a,5).toLowerCase()?(s=g.substr(a,5),a+=5):(s=null,0===_&&p('"audio"')),null===s&&("video"===g.substr(a,5).toLowerCase()?(s=g.substr(a,5),a+=5):(s=null,0===_&&p('"video"')),null===s&&("application"===g.substr(a,11).toLowerCase()?(s=g.substr(a,11),a+=11):(s=null,0===_&&p('"application"')),null===s&&(s=za()))))),s}function sh(){var s;return"message"===g.substr(a,7).toLowerCase()?(s=g.substr(a,7),a+=7):(s=null,0===_&&p('"message"')),null===s&&("multipart"===g.substr(a,9).toLowerCase()?(s=g.substr(a,9),a+=9):(s=null,0===_&&p('"multipart"')),null===s&&(s=za())),s}function za(){var s;return null===(s=Y())&&(s=Qc()),s}function Qc(){var s,u,f;return f=a,"x-"===g.substr(a,2).toLowerCase()?(s=g.substr(a,2),a+=2):(s=null,0===_&&p('"x-"')),null!==s&&null!==(u=Y())?s=[s,u]:(s=null,a=f),s}function ah(){var s;return null===(s=za())&&(s=Y()),s}function $a(){var s,u,f,m;return m=a,null!==(s=Y())&&null!==(u=ie())&&null!==(f=lh())?s=[s,u,f]:(s=null,a=m),s}function lh(){var s;return null===(s=Y())&&(s=tt()),s}function Ze(){var s,u,f;if(f=a,null!==(u=Q()))for(s=[];null!==u;)s.push(u),u=Q();else s=null;return null!==s&&(s=void(se.value=parseInt(s.join("")))),null===s&&(a=f),s}function as(){var s,u,f,m,y,x;if(y=a,null!==(s=K())){for(u=[],x=a,46===g.charCodeAt(a)?(f=".",a++):(f=null,0===_&&p('"."')),null!==f&&null!==(m=K())?f=[f,m]:(f=null,a=x);null!==f;)u.push(f),x=a,46===g.charCodeAt(a)?(f=".",a++):(f=null,0===_&&p('"."')),null!==f&&null!==(m=K())?f=[f,m]:(f=null,a=x);null!==u?s=[s,u]:(s=null,a=y)}else s=null,a=y;return s}function Jc(){var s;return null===(s=bt())&&(s=Ye()),s}function bt(){var s,u,f,m,y;return m=a,y=a,"tag"===g.substr(a,3).toLowerCase()?(s=g.substr(a,3),a+=3):(s=null,0===_&&p('"tag"')),null!==s&&null!==(u=ie())&&null!==(f=Y())?s=[s,u,f]:(s=null,a=y),null!==s&&(s=void(se.tag=s[2])),null===s&&(a=m),s}function Fr(){var s,u,f,m,y,x,N,ce;if(N=a,"digest"===g.substr(a,6).toLowerCase()?(s=g.substr(a,6),a+=6):(s=null,0===_&&p('"Digest"')),null!==s)if(null!==(u=fe()))if(null!==(f=_o())){for(m=[],ce=a,null!==(y=Me())&&null!==(x=_o())?y=[y,x]:(y=null,a=ce);null!==y;)m.push(y),ce=a,null!==(y=Me())&&null!==(x=_o())?y=[y,x]:(y=null,a=ce);null!==m?s=[s,u,f,m]:(s=null,a=N)}else s=null,a=N;else s=null,a=N;else s=null,a=N;return null===s&&(s=go()),s}function go(){var s,u,f,m,y,x,N,ce;if(N=a,null!==(s=Y()))if(null!==(u=fe()))if(null!==(f=ar())){for(m=[],ce=a,null!==(y=Me())&&null!==(x=ar())?y=[y,x]:(y=null,a=ce);null!==y;)m.push(y),ce=a,null!==(y=Me())&&null!==(x=ar())?y=[y,x]:(y=null,a=ce);null!==m?s=[s,u,f,m]:(s=null,a=N)}else s=null,a=N;else s=null,a=N;else s=null,a=N;return s}function ar(){var s,u,f,m;return m=a,null!==(s=Y())&&null!==(u=ie())?(null===(f=Y())&&(f=tt()),null!==f?s=[s,u,f]:(s=null,a=m)):(s=null,a=m),s}function _o(){var s;return null===(s=tu())&&null===(s=cs())&&null===(s=fn())&&null===(s=uh())&&null===(s=Tt())&&null===(s=dh())&&null===(s=fh())&&(s=ar()),s}function tu(){var s,u,f,m;return m=a,"realm"===g.substr(a,5).toLowerCase()?(s=g.substr(a,5),a+=5):(s=null,0===_&&p('"realm"')),null!==s&&null!==(u=ie())&&null!==(f=dt())?s=[s,u,f]:(s=null,a=m),s}function dt(){var s,u;return u=a,null!==(s=lt())&&(s=void(se.realm=s)),null===s&&(a=u),s}function cs(){var s,u,f,m,y,x,N,ce,De;if(ce=a,"domain"===g.substr(a,6).toLowerCase()?(s=g.substr(a,6),a+=6):(s=null,0===_&&p('"domain"')),null!==s)if(null!==(u=ie()))if(null!==(f=vt()))if(null!==(m=vo())){if(y=[],De=a,null!==(N=B()))for(x=[];null!==N;)x.push(N),N=B();else x=null;for(null!==x&&null!==(N=vo())?x=[x,N]:(x=null,a=De);null!==x;){if(y.push(x),De=a,null!==(N=B()))for(x=[];null!==N;)x.push(N),N=B();else x=null;null!==x&&null!==(N=vo())?x=[x,N]:(x=null,a=De)}null!==y&&null!==(x=jt())?s=[s,u,f,m,y,x]:(s=null,a=ce)}else s=null,a=ce;else s=null,a=ce;else s=null,a=ce;else s=null,a=ce;return s}function vo(){var s;return null===(s=sr())&&(s=La()),s}function fn(){var s,u,f,m;return m=a,"nonce"===g.substr(a,5).toLowerCase()?(s=g.substr(a,5),a+=5):(s=null,0===_&&p('"nonce"')),null!==s&&null!==(u=ie())&&null!==(f=qa())?s=[s,u,f]:(s=null,a=m),s}function qa(){var s,u;return u=a,null!==(s=lt())&&(s=void(se.nonce=s)),null===s&&(a=u),s}function uh(){var s,u,f,m,y;return m=a,y=a,"opaque"===g.substr(a,6).toLowerCase()?(s=g.substr(a,6),a+=6):(s=null,0===_&&p('"opaque"')),null!==s&&null!==(u=ie())&&null!==(f=lt())?s=[s,u,f]:(s=null,a=y),null!==s&&(s=void(se.opaque=s[2])),null===s&&(a=m),s}function Tt(){var s,u,f,m,y;return m=a,"stale"===g.substr(a,5).toLowerCase()?(s=g.substr(a,5),a+=5):(s=null,0===_&&p('"stale"')),null!==s&&null!==(u=ie())?(y=a,"true"===g.substr(a,4).toLowerCase()?(f=g.substr(a,4),a+=4):(f=null,0===_&&p('"true"')),null!==f&&(f=void(se.stale=!0)),null===f&&(a=y),null===f&&(y=a,"false"===g.substr(a,5).toLowerCase()?(f=g.substr(a,5),a+=5):(f=null,0===_&&p('"false"')),null!==f&&(f=void(se.stale=!1)),null===f&&(a=y)),null!==f?s=[s,u,f]:(s=null,a=m)):(s=null,a=m),s}function dh(){var s,u,f,m,y;return m=a,y=a,"algorithm"===g.substr(a,9).toLowerCase()?(s=g.substr(a,9),a+=9):(s=null,0===_&&p('"algorithm"')),null!==s&&null!==(u=ie())?("md5"===g.substr(a,3).toLowerCase()?(f=g.substr(a,3),a+=3):(f=null,0===_&&p('"MD5"')),null===f&&("md5-sess"===g.substr(a,8).toLowerCase()?(f=g.substr(a,8),a+=8):(f=null,0===_&&p('"MD5-sess"')),null===f&&(f=Y())),null!==f?s=[s,u,f]:(s=null,a=y)):(s=null,a=y),null!==s&&(s=void(se.algorithm=s[2].toUpperCase())),null===s&&(a=m),s}function fh(){var s,u,f,m,y,x,N,ce,De,ze;if(ce=a,"qop"===g.substr(a,3).toLowerCase()?(s=g.substr(a,3),a+=3):(s=null,0===_&&p('"qop"')),null!==s)if(null!==(u=ie()))if(null!==(f=vt())){if(De=a,null!==(m=Ie())){for(y=[],ze=a,44===g.charCodeAt(a)?(x=",",a++):(x=null,0===_&&p('","')),null!==x&&null!==(N=Ie())?x=[x,N]:(x=null,a=ze);null!==x;)y.push(x),ze=a,44===g.charCodeAt(a)?(x=",",a++):(x=null,0===_&&p('","')),null!==x&&null!==(N=Ie())?x=[x,N]:(x=null,a=ze);null!==y?m=[m,y]:(m=null,a=De)}else m=null,a=De;null!==m&&null!==(y=jt())?s=[s,u,f,m,y]:(s=null,a=ce)}else s=null,a=ce;else s=null,a=ce;else s=null,a=ce;return s}function Ie(){var s,u,m;return u=a,"auth-int"===g.substr(a,8).toLowerCase()?(s=g.substr(a,8),a+=8):(s=null,0===_&&p('"auth-int"')),null===s&&("auth"===g.substr(a,4).toLowerCase()?(s=g.substr(a,4),a+=4):(s=null,0===_&&p('"auth"')),null===s&&(s=Y())),null!==s&&(m=s,se.qop||(se.qop=[]),s=void se.qop.push(m.toLowerCase())),null===s&&(a=u),s}function yo(){var s,u,f,m,y,x,N;if(y=a,x=a,null!==(s=wi())){for(u=[],N=a,null!==(f=Ee())&&null!==(m=Ye())?f=[f,m]:(f=null,a=N);null!==f;)u.push(f),N=a,null!==(f=Ee())&&null!==(m=Ye())?f=[f,m]:(f=null,a=N);null!==u?s=[s,u]:(s=null,a=x)}else s=null,a=x;return null!==s&&(s=function(ce){var De;se.multi_header||(se.multi_header=[]);try{De=new cr(se.uri,se.display_name,se.params),delete se.uri,delete se.display_name,delete se.params}catch{De=null}se.multi_header.push({possition:a,offset:ce,parsed:De})}(y)),null===s&&(a=y),s}function Za(){var s;return null===(s=us())&&(s=Ye()),s}function us(){var s,u,f,m,y,x;if(y=a,x=a,"cause"===g.substr(a,5).toLowerCase()?(s=g.substr(a,5),a+=5):(s=null,0===_&&p('"cause"')),null!==s)if(null!==(u=ie())){if(null!==(m=Q()))for(f=[];null!==m;)f.push(m),m=Q();else f=null;null!==f?s=[s,u,f]:(s=null,a=x)}else s=null,a=x;else s=null,a=x;return null!==s&&(s=void(se.cause=parseInt(s[2].join("")))),null===s&&(a=y),s}function Ka(){var s,u,f,m,y,x;if(y=a,null!==(s=wi())){for(u=[],x=a,null!==(f=Ee())&&null!==(m=Ye())?f=[f,m]:(f=null,a=x);null!==f;)u.push(f),x=a,null!==(f=Ee())&&null!==(m=Ye())?f=[f,m]:(f=null,a=x);null!==u?s=[s,u]:(s=null,a=y)}else s=null,a=y;return s}function hh(){var s,u;return u=a,"active"===g.substr(a,6).toLowerCase()?(s=g.substr(a,6),a+=6):(s=null,0===_&&p('"active"')),null===s&&("pending"===g.substr(a,7).toLowerCase()?(s=g.substr(a,7),a+=7):(s=null,0===_&&p('"pending"')),null===s&&("terminated"===g.substr(a,10).toLowerCase()?(s=g.substr(a,10),a+=10):(s=null,0===_&&p('"terminated"')),null===s&&(s=Y()))),null!==s&&(s=void(se.state=g.substring(a,u))),null===s&&(a=u),s}function lr(){var s,u,f,m,y,N;return m=a,y=a,"reason"===g.substr(a,6).toLowerCase()?(s=g.substr(a,6),a+=6):(s=null,0===_&&p('"reason"')),null!==s&&null!==(u=ie())&&null!==(f=ds())?s=[s,u,f]:(s=null,a=y),null!==s&&(s=void(typeof(N=s[2])<"u"&&(se.reason=N))),null===s&&(a=m),null===s&&(m=a,y=a,"expires"===g.substr(a,7).toLowerCase()?(s=g.substr(a,7),a+=7):(s=null,0===_&&p('"expires"')),null!==s&&null!==(u=ie())&&null!==(f=ui())?s=[s,u,f]:(s=null,a=y),null!==s&&(s=function(x,N){typeof N<"u"&&(se.expires=N)}(0,s[2])),null===s&&(a=m),null===s&&(m=a,y=a,"retry_after"===g.substr(a,11).toLowerCase()?(s=g.substr(a,11),a+=11):(s=null,0===_&&p('"retry_after"')),null!==s&&null!==(u=ie())&&null!==(f=ui())?s=[s,u,f]:(s=null,a=y),null!==s&&(s=function(x,N){typeof N<"u"&&(se.retry_after=N)}(0,s[2])),null===s&&(a=m),null===s&&(s=Ye()))),s}function ds(){var s;return"deactivated"===g.substr(a,11).toLowerCase()?(s=g.substr(a,11),a+=11):(s=null,0===_&&p('"deactivated"')),null===s&&("probation"===g.substr(a,9).toLowerCase()?(s=g.substr(a,9),a+=9):(s=null,0===_&&p('"probation"')),null===s&&("rejected"===g.substr(a,8).toLowerCase()?(s=g.substr(a,8),a+=8):(s=null,0===_&&p('"rejected"')),null===s&&("timeout"===g.substr(a,7).toLowerCase()?(s=g.substr(a,7),a+=7):(s=null,0===_&&p('"timeout"')),null===s&&("giveup"===g.substr(a,6).toLowerCase()?(s=g.substr(a,6),a+=6):(s=null,0===_&&p('"giveup"')),null===s&&("noresource"===g.substr(a,10).toLowerCase()?(s=g.substr(a,10),a+=10):(s=null,0===_&&p('"noresource"')),null===s&&("invariant"===g.substr(a,9).toLowerCase()?(s=g.substr(a,9),a+=9):(s=null,0===_&&p('"invariant"')),null===s&&(s=Y()))))))),s}function Xa(){var s;return null===(s=bt())&&(s=Ye()),s}function xi(){var s,u,f,m,y,x,N,ce;if(N=a,null!==(s=hs()))if(null!==(u=fe()))if(null!==(f=ou())){for(m=[],ce=a,null!==(y=Ee())&&null!==(x=Qa())?y=[y,x]:(y=null,a=ce);null!==y;)m.push(y),ce=a,null!==(y=Ee())&&null!==(x=Qa())?y=[y,x]:(y=null,a=ce);null!==m?s=[s,u,f,m]:(s=null,a=N)}else s=null,a=N;else s=null,a=N;else s=null,a=N;return s}function Qa(){var s;return null===(s=Ei())&&null===(s=iu())&&null===(s=ge())&&null===(s=Ja())&&null===(s=Je())&&(s=Ye()),s}function Ei(){var s,u,f,m,y;return m=a,y=a,"ttl"===g.substr(a,3).toLowerCase()?(s=g.substr(a,3),a+=3):(s=null,0===_&&p('"ttl"')),null!==s&&null!==(u=ie())&&null!==(f=Lr())?s=[s,u,f]:(s=null,a=y),null!==s&&(s=void(se.ttl=s[2])),null===s&&(a=m),s}function iu(){var s,u,f,m,y;return m=a,y=a,"maddr"===g.substr(a,5).toLowerCase()?(s=g.substr(a,5),a+=5):(s=null,0===_&&p('"maddr"')),null!==s&&null!==(u=ie())&&null!==(f=Rr())?s=[s,u,f]:(s=null,a=y),null!==s&&(s=void(se.maddr=s[2])),null===s&&(a=m),s}function ge(){var s,u,f,m,y;return m=a,y=a,"received"===g.substr(a,8).toLowerCase()?(s=g.substr(a,8),a+=8):(s=null,0===_&&p('"received"')),null!==s&&null!==(u=ie())?(null===(f=lo())&&(f=Sa()),null!==f?s=[s,u,f]:(s=null,a=y)):(s=null,a=y),null!==s&&(s=void(se.received=s[2])),null===s&&(a=m),s}function Ja(){var s,u,f,m,y;return m=a,y=a,"branch"===g.substr(a,6).toLowerCase()?(s=g.substr(a,6),a+=6):(s=null,0===_&&p('"branch"')),null!==s&&null!==(u=ie())&&null!==(f=Y())?s=[s,u,f]:(s=null,a=y),null!==s&&(s=void(se.branch=s[2])),null===s&&(a=m),s}function Je(){var s,u,f,m,y;return m=a,"rport"===g.substr(a,5).toLowerCase()?(s=g.substr(a,5),a+=5):(s=null,0===_&&p('"rport"')),null!==s?(y=a,null!==(u=ie())&&null!==(f=bo())?u=[u,f]:(u=null,a=y),null!==(u=null!==u?u:"")?s=[s,u]:(s=null,a=m)):(s=null,a=m),s}function bo(){var s,u,f,m,y,x,N;return x=a,N=a,null!==(s=null!==(s=Q())?s:"")&&null!==(u=null!==(u=Q())?u:"")&&null!==(f=null!==(f=Q())?f:"")&&null!==(m=null!==(m=Q())?m:"")&&null!==(y=null!==(y=Q())?y:"")?s=[s,u,f,m,y]:(s=null,a=N),null!==s&&(s=void(se.rport=parseInt(s.join("")))),null===s&&(a=x),s}function hs(){var s,u,f,m,y,x;return x=a,null!==(s=Pr())&&null!==(u=ee())&&null!==(f=Y())&&null!==(m=ee())&&null!==(y=ru())?s=[s,u,f,m,y]:(s=null,a=x),s}function Pr(){var s,u;return u=a,"sip"===g.substr(a,3).toLowerCase()?(s=g.substr(a,3),a+=3):(s=null,0===_&&p('"SIP"')),null===s&&(s=Y()),null!==s&&(s=void(se.protocol=s)),null===s&&(a=u),s}function ru(){var s,u;return u=a,"udp"===g.substr(a,3).toLowerCase()?(s=g.substr(a,3),a+=3):(s=null,0===_&&p('"UDP"')),null===s&&("tcp"===g.substr(a,3).toLowerCase()?(s=g.substr(a,3),a+=3):(s=null,0===_&&p('"TCP"')),null===s&&("tls"===g.substr(a,3).toLowerCase()?(s=g.substr(a,3),a+=3):(s=null,0===_&&p('"TLS"')),null===s&&("sctp"===g.substr(a,4).toLowerCase()?(s=g.substr(a,4),a+=4):(s=null,0===_&&p('"SCTP"')),null===s&&(s=Y())))),null!==s&&(s=void(se.transport=s)),null===s&&(a=u),s}function ou(){var s,u,f,m,y;return m=a,null!==(s=su())?(y=a,null!==(u=at())&&null!==(f=di())?u=[u,f]:(u=null,a=y),null!==(u=null!==u?u:"")?s=[s,u]:(s=null,a=m)):(s=null,a=m),s}function su(){var s,u;return u=a,null===(s=lo())&&null===(s=Da())&&(s=xa()),null!==s&&(s=void(se.host=g.substring(a,u))),null===s&&(a=u),s}function di(){var s,u,f,m,y,x,N;return x=a,N=a,null!==(s=null!==(s=Q())?s:"")&&null!==(u=null!==(u=Q())?u:"")&&null!==(f=null!==(f=Q())?f:"")&&null!==(m=null!==(m=Q())?m:"")&&null!==(y=null!==(y=Q())?y:"")?s=[s,u,f,m,y]:(s=null,a=N),null!==s&&(s=void(se.port=parseInt(s.join("")))),null===s&&(a=x),s}function Lr(){var s,u,f,m,y;return m=a,y=a,null!==(s=Q())&&null!==(u=null!==(u=Q())?u:"")&&null!==(f=null!==(f=Q())?f:"")?s=[s,u,f]:(s=null,a=y),null!==s&&(s=parseInt(s.join(""))),null===s&&(a=m),s}function pt(){var s,u;return u=a,null!==(s=ui())&&(s=void(se.expires=s)),null===s&&(a=u),s}function Vr(){var s;return null===(s=ps())&&(s=Ye()),s}function ps(){var s,u,f,m,y;return m=a,y=a,"refresher"===g.substr(a,9).toLowerCase()?(s=g.substr(a,9),a+=9):(s=null,0===_&&p('"refresher"')),null!==s&&null!==(u=ie())?("uac"===g.substr(a,3).toLowerCase()?(f=g.substr(a,3),a+=3):(f=null,0===_&&p('"uac"')),null===f&&("uas"===g.substr(a,3).toLowerCase()?(f=g.substr(a,3),a+=3):(f=null,0===_&&p('"uas"'))),null!==f?s=[s,u,f]:(s=null,a=y)):(s=null,a=y),null!==s&&(s=void(se.refresher=s[2].toLowerCase())),null===s&&(a=m),s}function tl(){var s,u;for(s=[],null===(u=S())&&null===(u=H())&&(u=fe());null!==u;)s.push(u),null===(u=S())&&null===(u=H())&&(u=fe());return s}function nl(){var s,u,f,m,y,x,N,ce,De,ze,Ae;return ze=a,Ae=a,null!==(s=ms())?(45===g.charCodeAt(a)?(u="-",a++):(u=null,0===_&&p('"-"')),null!==u&&null!==(f=hi())?(45===g.charCodeAt(a)?(m="-",a++):(m=null,0===_&&p('"-"')),null!==m&&null!==(y=hi())?(45===g.charCodeAt(a)?(x="-",a++):(x=null,0===_&&p('"-"')),null!==x&&null!==(N=hi())?(45===g.charCodeAt(a)?(ce="-",a++):(ce=null,0===_&&p('"-"')),null!==ce&&null!==(De=il())?s=[s,u,f,m,y,x,N,ce,De]:(s=null,a=Ae)):(s=null,a=Ae)):(s=null,a=Ae)):(s=null,a=Ae)):(s=null,a=Ae),null!==s&&(s=void(se=g.substring(a+5,ze))),null===s&&(a=ze),s}function hi(){var s,u,f,m,y;return y=a,null!==(s=W())&&null!==(u=W())&&null!==(f=W())&&null!==(m=W())?s=[s,u,f,m]:(s=null,a=y),s}function ms(){var s,u,f;return f=a,null!==(s=hi())&&null!==(u=hi())?s=[s,u]:(s=null,a=f),s}function il(){var s,u,f,m;return m=a,null!==(s=hi())&&null!==(u=hi())&&null!==(f=hi())?s=[s,u,f]:(s=null,a=m),s}function rl(){var s,u,f,m,y,x;return m=a,y=a,null!==(s=R())?(x=a,64===g.charCodeAt(a)?(u="@",a++):(u=null,0===_&&p('"@"')),null!==u&&null!==(f=R())?u=[u,f]:(u=null,a=x),null!==(u=null!==u?u:"")?s=[s,u]:(s=null,a=y)):(s=null,a=y),null!==s&&(s=void(se.call_id=g.substring(a,m))),null===s&&(a=m),s}function gs(){var s;return null===(s=lu())&&null===(s=ol())&&null===(s=cu())&&(s=Ye()),s}function lu(){var s,u,f,m,y;return m=a,y=a,"to-tag"===g.substr(a,6)?(s="to-tag",a+=6):(s=null,0===_&&p('"to-tag"')),null!==s&&null!==(u=ie())&&null!==(f=Y())?s=[s,u,f]:(s=null,a=y),null!==s&&(s=void(se.to_tag=s[2])),null===s&&(a=m),s}function ol(){var s,u,f,m,y;return m=a,y=a,"from-tag"===g.substr(a,8)?(s="from-tag",a+=8):(s=null,0===_&&p('"from-tag"')),null!==s&&null!==(u=ie())&&null!==(f=Y())?s=[s,u,f]:(s=null,a=y),null!==s&&(s=void(se.from_tag=s[2])),null===s&&(a=m),s}function cu(){var s,u;return u=a,"early-only"===g.substr(a,10)?(s="early-only",a+=10):(s=null,0===_&&p('"early-only"')),null!==s&&(s=void(se.early_only=!0)),null===s&&(a=u),s}var uu=$(344),cr=$(516),se={};if(null===ue[ye]()||a!==g.length){var sl=Math.max(a,L),vh=sl<g.length?g.charAt(sl):null,al=function Qn(){for(var s=1,u=1,f=!1,m=0;m<Math.max(a,L);m++){var y=g.charAt(m);"\n"===y?(f||s++,u=1,f=!1):"\r"===y||"\u2028"===y||"\u2029"===y?(s++,u=1,f=!0):(u++,f=!1)}return{line:s,column:u}}();return new this.SyntaxError(function gh(s){s.sort();for(var u=null,f=[],m=0;m<s.length;m++)s[m]!==u&&(f.push(s[m]),u=s[m]);return f}(T),vh,sl,al.line,al.column),-1}return se},toSource:function(){return this._source},SyntaxError:function(Oe,g,ye,ue,a){this.name="SyntaxError",this.expected=Oe,this.found=g,this.message=function _(L,T){var E;switch(L.length){case 0:E="end of input";break;case 1:E=L[0];break;default:E=L.slice(0,L.length-1).join(", ")+" or "+L[L.length-1]}return"Expected "+E+" but "+(T?re(T):"end of input")+" found."}(Oe,g),this.offset=ye,this.line=ue,this.column=a}};return we.SyntaxError.prototype=Error.prototype,we}()},89:(Ne,Ce,$)=>{"use strict";var re=$(403),we=$(810),Oe=$(910),g=$(818),ye=$(301),ue=$(344),a=$(516),_=$(282),L=$(939);$(563)("JsSIP")("version %s",re.version),Ne.exports={C:we,Exceptions:Oe,Utils:g,UA:ye,URI:ue,NameAddrHeader:a,WebSocketInterface:L,Grammar:_,debug:$(563),get name(){return re.title},get version(){return re.version}}},376:(Ne,Ce,$)=>{"use strict";function we(ue,a){for(var _=0;_<a.length;_++){var L=a[_];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(ue,L.key,L)}}var g=$(563),ye="JsSIP";Ne.exports=function(){function ue(a){(function re(ue,a){if(!(ue instanceof a))throw new TypeError("Cannot call a class as a function")})(this,ue),a?(this._debug=g.default("".concat(ye,":").concat(a)),this._warn=g.default("".concat(ye,":WARN:").concat(a)),this._error=g.default("".concat(ye,":ERROR:").concat(a))):(this._debug=g.default(ye),this._warn=g.default("".concat(ye,":WARN")),this._error=g.default("".concat(ye,":ERROR"))),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}return function Oe(ue,a,_){a&&we(ue.prototype,a),_&&we(ue,_)}(ue,[{key:"debug",get:function(){return this._debug}},{key:"warn",get:function(){return this._warn}},{key:"error",get:function(){return this._error}}]),ue}()},38:(Ne,Ce,$)=>{"use strict";function re(B){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(G){return typeof G}:function(G){return G&&"function"==typeof Symbol&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(B)}function Oe(B,V){for(var G=0;G<V.length;G++){var te=V[G];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(B,te.key,te)}}function ue(B,V){return(ue=Object.setPrototypeOf||function(te,j){return te.__proto__=j,te})(B,V)}function E(B){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(G){return G.__proto__||Object.getPrototypeOf(G)})(B)}var C=$(16).EventEmitter,p=$(376),I=$(810),Q=$(795),X=$(818),W=$(631),O=$(910),P=$(344),F=new p("Message");Ne.exports=function(B){!function ye(B,V){if("function"!=typeof V&&null!==V)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(V&&V.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),V&&ue(B,V)}(G,B);var V=function a(B){var V=function T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var j,te=E(B);if(V){var oe=E(this).constructor;j=Reflect.construct(te,arguments,oe)}else j=te.apply(this,arguments);return function _(B,V){return!V||"object"!==re(V)&&"function"!=typeof V?function L(B){if(void 0===B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(B):V}(this,j)}}(G);function G(te){var j;return function we(B,V){if(!(B instanceof V))throw new TypeError("Cannot call a class as a function")}(this,G),(j=V.call(this))._ua=te,j._request=null,j._closed=!1,j._direction=null,j._local_identity=null,j._remote_identity=null,j._is_replied=!1,j._data={},j}return function g(B,V,G){V&&Oe(B.prototype,V),G&&Oe(B,G)}(G,[{key:"send",value:function(j,oe){var ve=this,fe=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},z=j;if(void 0===j||void 0===oe)throw new TypeError("Not enough arguments");if(!(j=this._ua.normalizeTarget(j)))throw new TypeError("Invalid target: ".concat(z));var de=X.cloneArray(fe.extraHeaders),D=X.cloneObject(fe.eventHandlers),S=fe.contentType||"text/plain",q={};for(var H in fe.fromUserName&&(q.from_uri=new P("sip",fe.fromUserName,this._ua.configuration.uri.host),de.push("P-Preferred-Identity: ".concat(this._ua.configuration.uri.toString()))),fe.fromDisplayName&&(q.from_display_name=fe.fromDisplayName),D)Object.prototype.hasOwnProperty.call(D,H)&&this.on(H,D[H]);de.push("Content-Type: ".concat(S)),this._request=new Q.OutgoingRequest(I.MESSAGE,j,this._ua,q,de),oe&&(this._request.body=oe);var le=new W(this._ua,this._request,{onRequestTimeout:function(){ve._onRequestTimeout()},onTransportError:function(){ve._onTransportError()},onReceiveResponse:function(K){ve._receiveResponse(K)}});this._newMessage("local",this._request),le.send()}},{key:"init_incoming",value:function(j){this._request=j,this._newMessage("remote",j),this._is_replied||(this._is_replied=!0,j.reply(200)),this._close()}},{key:"accept",value:function(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},oe=X.cloneArray(j.extraHeaders),ve=j.body;if("incoming"!==this._direction)throw new O.NotSupportedError('"accept" not supported for outgoing Message');if(this._is_replied)throw new Error("incoming Message already replied");this._is_replied=!0,this._request.reply(200,null,oe,ve)}},{key:"reject",value:function(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},oe=j.status_code||480,ve=j.reason_phrase,fe=X.cloneArray(j.extraHeaders),z=j.body;if("incoming"!==this._direction)throw new O.NotSupportedError('"reject" not supported for outgoing Message');if(this._is_replied)throw new Error("incoming Message already replied");if(oe<300||oe>=700)throw new TypeError("Invalid status_code: ".concat(oe));this._is_replied=!0,this._request.reply(oe,ve,fe,z)}},{key:"_receiveResponse",value:function(j){if(!this._closed)switch(!0){case/^1[0-9]{2}$/.test(j.status_code):break;case/^2[0-9]{2}$/.test(j.status_code):this._succeeded("remote",j);break;default:var oe=X.sipErrorCause(j.status_code);this._failed("remote",j,oe)}}},{key:"_onRequestTimeout",value:function(){this._closed||this._failed("system",null,I.causes.REQUEST_TIMEOUT)}},{key:"_onTransportError",value:function(){this._closed||this._failed("system",null,I.causes.CONNECTION_ERROR)}},{key:"_close",value:function(){this._closed=!0,this._ua.destroyMessage(this)}},{key:"_newMessage",value:function(j,oe){"remote"===j?(this._direction="incoming",this._local_identity=oe.to,this._remote_identity=oe.from):"local"===j&&(this._direction="outgoing",this._local_identity=oe.from,this._remote_identity=oe.to),this._ua.newMessage(this,{originator:j,message:this,request:oe})}},{key:"_failed",value:function(j,oe,ve){F.debug("MESSAGE failed"),this._close(),F.debug('emit "failed"'),this.emit("failed",{originator:j,response:oe||null,cause:ve})}},{key:"_succeeded",value:function(j,oe){F.debug("MESSAGE succeeded"),this._close(),F.debug('emit "succeeded"'),this.emit("succeeded",{originator:j,response:oe})}},{key:"direction",get:function(){return this._direction}},{key:"local_identity",get:function(){return this._local_identity}},{key:"remote_identity",get:function(){return this._remote_identity}}]),G}(C)},516:(Ne,Ce,$)=>{"use strict";function we(ue,a){for(var _=0;_<a.length;_++){var L=a[_];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(ue,L.key,L)}}function Oe(ue,a,_){return a&&we(ue.prototype,a),_&&we(ue,_),ue}var g=$(344),ye=$(282);Ne.exports=function(){function ue(a,_,L){if(function re(ue,a){if(!(ue instanceof a))throw new TypeError("Cannot call a class as a function")}(this,ue),!(a&&a instanceof g))throw new TypeError('missing or invalid "uri" parameter');for(var T in this._uri=a,this._parameters={},this.display_name=_,L)Object.prototype.hasOwnProperty.call(L,T)&&this.setParam(T,L[T])}return Oe(ue,null,[{key:"parse",value:function(_){if(-1!==(_=ye.parse(_,"Name_Addr_Header")))return _}}]),Oe(ue,[{key:"setParam",value:function(_,L){_&&(this._parameters[_.toLowerCase()]=typeof L>"u"||null===L?null:L.toString())}},{key:"getParam",value:function(_){if(_)return this._parameters[_.toLowerCase()]}},{key:"hasParam",value:function(_){if(_)return!!this._parameters.hasOwnProperty(_.toLowerCase())}},{key:"deleteParam",value:function(_){if(_=_.toLowerCase(),this._parameters.hasOwnProperty(_)){var L=this._parameters[_];return delete this._parameters[_],L}}},{key:"clearParams",value:function(){this._parameters={}}},{key:"clone",value:function(){return new ue(this._uri.clone(),this._display_name,JSON.parse(JSON.stringify(this._parameters)))}},{key:"_quote",value:function(_){return _.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}},{key:"toString",value:function(){var _=this._display_name?'"'.concat(this._quote(this._display_name),'" '):"";for(var L in _+="<".concat(this._uri.toString(),">"),this._parameters)Object.prototype.hasOwnProperty.call(this._parameters,L)&&(_+=";".concat(L),null!==this._parameters[L]&&(_+="=".concat(this._parameters[L])));return _}},{key:"uri",get:function(){return this._uri}},{key:"display_name",get:function(){return this._display_name},set:function(_){this._display_name=0===_?"0":_}}]),ue}()},971:(Ne,Ce,$)=>{"use strict";function re(F){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(V){return typeof V}:function(V){return V&&"function"==typeof Symbol&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V})(F)}function Oe(F,B){for(var V=0;V<B.length;V++){var G=B[V];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(F,G.key,G)}}function ue(F,B){return(ue=Object.setPrototypeOf||function(G,te){return G.__proto__=te,G})(F,B)}function E(F){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(V){return V.__proto__||Object.getPrototypeOf(V)})(F)}var C=$(16).EventEmitter,p=$(376),I=$(810),Q=$(795),X=$(818),W=$(631),O=$(910),P=new p("Options");Ne.exports=function(F){!function ye(F,B){if("function"!=typeof B&&null!==B)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(B&&B.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),B&&ue(F,B)}(V,F);var B=function a(F){var B=function T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var te,G=E(F);if(B){var j=E(this).constructor;te=Reflect.construct(G,arguments,j)}else te=G.apply(this,arguments);return function _(F,B){return!B||"object"!==re(B)&&"function"!=typeof B?function L(F){if(void 0===F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}(F):B}(this,te)}}(V);function V(G){var te;return function we(F,B){if(!(F instanceof B))throw new TypeError("Cannot call a class as a function")}(this,V),(te=B.call(this))._ua=G,te._request=null,te._closed=!1,te._direction=null,te._local_identity=null,te._remote_identity=null,te._is_replied=!1,te._data={},te}return function g(F,B,V){B&&Oe(F.prototype,B),V&&Oe(F,V)}(V,[{key:"send",value:function(te,j){var oe=this,ve=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},fe=te;if(void 0===te)throw new TypeError("A target is required for OPTIONS");if(!(te=this._ua.normalizeTarget(te)))throw new TypeError("Invalid target: ".concat(fe));var z=X.cloneArray(ve.extraHeaders),de=X.cloneObject(ve.eventHandlers),D=ve.contentType||"application/sdp";for(var S in de)Object.prototype.hasOwnProperty.call(de,S)&&this.on(S,de[S]);z.push("Content-Type: ".concat(D)),this._request=new Q.OutgoingRequest(I.OPTIONS,te,this._ua,null,z),j&&(this._request.body=j);var q=new W(this._ua,this._request,{onRequestTimeout:function(){oe._onRequestTimeout()},onTransportError:function(){oe._onTransportError()},onReceiveResponse:function(le){oe._receiveResponse(le)}});this._newOptions("local",this._request),q.send()}},{key:"init_incoming",value:function(te){this._request=te,this._newOptions("remote",te),this._is_replied||(this._is_replied=!0,te.reply(200)),this._close()}},{key:"accept",value:function(){var te=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},j=X.cloneArray(te.extraHeaders),oe=te.body;if("incoming"!==this._direction)throw new O.NotSupportedError('"accept" not supported for outgoing Options');if(this._is_replied)throw new Error("incoming Options already replied");this._is_replied=!0,this._request.reply(200,null,j,oe)}},{key:"reject",value:function(){var te=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},j=te.status_code||480,oe=te.reason_phrase,ve=X.cloneArray(te.extraHeaders),fe=te.body;if("incoming"!==this._direction)throw new O.NotSupportedError('"reject" not supported for outgoing Options');if(this._is_replied)throw new Error("incoming Options already replied");if(j<300||j>=700)throw new TypeError("Invalid status_code: ".concat(j));this._is_replied=!0,this._request.reply(j,oe,ve,fe)}},{key:"_receiveResponse",value:function(te){if(!this._closed)switch(!0){case/^1[0-9]{2}$/.test(te.status_code):break;case/^2[0-9]{2}$/.test(te.status_code):this._succeeded("remote",te);break;default:var j=X.sipErrorCause(te.status_code);this._failed("remote",te,j)}}},{key:"_onRequestTimeout",value:function(){this._closed||this._failed("system",null,I.causes.REQUEST_TIMEOUT)}},{key:"_onTransportError",value:function(){this._closed||this._failed("system",null,I.causes.CONNECTION_ERROR)}},{key:"_close",value:function(){this._closed=!0,this._ua.destroyMessage(this)}},{key:"_newOptions",value:function(te,j){"remote"===te?(this._direction="incoming",this._local_identity=j.to,this._remote_identity=j.from):"local"===te&&(this._direction="outgoing",this._local_identity=j.from,this._remote_identity=j.to),this._ua.newOptions(this,{originator:te,message:this,request:j})}},{key:"_failed",value:function(te,j,oe){P.debug("OPTIONS failed"),this._close(),P.debug('emit "failed"'),this.emit("failed",{originator:te,response:j||null,cause:oe})}},{key:"_succeeded",value:function(te,j){P.debug("OPTIONS succeeded"),this._close(),P.debug('emit "succeeded"'),this.emit("succeeded",{originator:te,response:j})}},{key:"direction",get:function(){return this._direction}},{key:"local_identity",get:function(){return this._local_identity}},{key:"remote_identity",get:function(){return this._remote_identity}}]),V}(C)},39:(Ne,Ce,$)=>{"use strict";function re(T,E){var C;if(typeof Symbol>"u"||null==T[Symbol.iterator]){if(Array.isArray(T)||(C=function we(T,E){if(T){if("string"==typeof T)return Oe(T,E);var C=Object.prototype.toString.call(T).slice(8,-1);if("Object"===C&&T.constructor&&(C=T.constructor.name),"Map"===C||"Set"===C)return Array.from(T);if("Arguments"===C||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return Oe(T,E)}}(T))||E&&T&&"number"==typeof T.length){C&&(T=C);var p=0,I=function(){};return{s:I,n:function(){return p>=T.length?{done:!0}:{done:!1,value:T[p++]}},e:function(P){throw P},f:I}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var W,Q=!0,X=!1;return{s:function(){C=T[Symbol.iterator]()},n:function(){var P=C.next();return Q=P.done,P},e:function(P){X=!0,W=P},f:function(){try{!Q&&null!=C.return&&C.return()}finally{if(X)throw W}}}}function Oe(T,E){(null==E||E>T.length)&&(E=T.length);for(var C=0,p=new Array(E);C<E;C++)p[C]=T[C];return p}var g=$(376),ye=$(282),ue=$(795),a=new g("Parser");function _(T,E){var C=E,p=0,I=0;if(T.substring(C,C+2).match(/(^\r\n)/))return-2;for(;0===p;){if(-1===(I=T.indexOf("\r\n",C)))return I;!T.substring(I+2,I+4).match(/(^\r\n)/)&&T.charAt(I+2).match(/(^\s+)/)?C=I+2:p=I}return p}function L(T,E,C,p){var I,Q=E.indexOf(":",C),X=E.substring(C,Q).trim(),W=E.substring(Q+1,p).trim();switch(X.toLowerCase()){case"via":case"v":T.addHeader("via",W),1===T.getHeaders("via").length?(I=T.parseHeader("Via"))&&(T.via=I,T.via_branch=I.branch):I=0;break;case"from":case"f":T.setHeader("from",W),(I=T.parseHeader("from"))&&(T.from=I,T.from_tag=I.getParam("tag"));break;case"to":case"t":T.setHeader("to",W),(I=T.parseHeader("to"))&&(T.to=I,T.to_tag=I.getParam("tag"));break;case"record-route":if(-1===(I=ye.parse(W,"Record_Route")))I=void 0;else{var P,O=re(I);try{for(O.s();!(P=O.n()).done;){var F=P.value;T.addHeader("record-route",W.substring(F.possition,F.offset)),T.headers["Record-Route"][T.getHeaders("record-route").length-1].parsed=F.parsed}}catch(te){O.e(te)}finally{O.f()}}break;case"call-id":case"i":T.setHeader("call-id",W),(I=T.parseHeader("call-id"))&&(T.call_id=W);break;case"contact":case"m":if(-1===(I=ye.parse(W,"Contact")))I=void 0;else{var V,B=re(I);try{for(B.s();!(V=B.n()).done;){var G=V.value;T.addHeader("contact",W.substring(G.possition,G.offset)),T.headers.Contact[T.getHeaders("contact").length-1].parsed=G.parsed}}catch(te){B.e(te)}finally{B.f()}}break;case"content-length":case"l":T.setHeader("content-length",W),I=T.parseHeader("content-length");break;case"content-type":case"c":T.setHeader("content-type",W),I=T.parseHeader("content-type");break;case"cseq":T.setHeader("cseq",W),(I=T.parseHeader("cseq"))&&(T.cseq=I.value),T instanceof ue.IncomingResponse&&(T.method=I.method);break;case"max-forwards":T.setHeader("max-forwards",W),I=T.parseHeader("max-forwards");break;case"www-authenticate":T.setHeader("www-authenticate",W),I=T.parseHeader("www-authenticate");break;case"proxy-authenticate":T.setHeader("proxy-authenticate",W),I=T.parseHeader("proxy-authenticate");break;case"session-expires":case"x":T.setHeader("session-expires",W),(I=T.parseHeader("session-expires"))&&(T.session_expires=I.expires,T.session_expires_refresher=I.refresher);break;case"refer-to":case"r":T.setHeader("refer-to",W),(I=T.parseHeader("refer-to"))&&(T.refer_to=I);break;case"replaces":T.setHeader("replaces",W),(I=T.parseHeader("replaces"))&&(T.replaces=I);break;case"event":case"o":T.setHeader("event",W),(I=T.parseHeader("event"))&&(T.event=I);break;default:T.addHeader(X,W),I=0}return void 0!==I||{error:'error parsing header "'.concat(X,'"')}}Ce.parseMessage=function(T,E){var C,p,I=T.indexOf("\r\n");if(-1!==I){var Q=T.substring(0,I),X=ye.parse(Q,"Request_Response");if(-1!==X){X.status_code?((C=new ue.IncomingResponse).status_code=X.status_code,C.reason_phrase=X.reason_phrase):((C=new ue.IncomingRequest(E)).method=X.method,C.ruri=X.uri),C.data=T;for(var W=I+2;;){if(-2===(I=_(T,W))){p=W+2;break}if(-1===I)return void a.warn("parseMessage() | malformed message");if(!0!==(X=L(C,T,W,I)))return void a.warn("parseMessage() |",X.error);W=I+2}if(C.hasHeader("content-length")){var O=C.getHeader("content-length");C.body=T.substr(p,O)}else C.body=T.substring(p);return C}a.warn('parseMessage() | error parsing first line of SIP message: "'.concat(Q,'"'))}else a.warn("parseMessage() | no CRLF found, not a SIP message")}},13:(Ne,Ce,$)=>{"use strict";function re(H){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Y){return typeof Y}:function(Y){return Y&&"function"==typeof Symbol&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y})(H)}function we(H,le){var Y;if(typeof Symbol>"u"||null==H[Symbol.iterator]){if(Array.isArray(H)||(Y=function Oe(H,le){if(H){if("string"==typeof H)return g(H,le);var Y=Object.prototype.toString.call(H).slice(8,-1);if("Object"===Y&&H.constructor&&(Y=H.constructor.name),"Map"===Y||"Set"===Y)return Array.from(H);if("Arguments"===Y||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return g(H,le)}}(H))||le&&H&&"number"==typeof H.length){Y&&(H=Y);var K=0,b=function(){};return{s:b,n:function(){return K>=H.length?{done:!0}:{done:!1,value:H[K++]}},e:function(me){throw me},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ee,R=!0,ne=!1;return{s:function(){Y=H[Symbol.iterator]()},n:function(){var me=Y.next();return R=me.done,me},e:function(me){ne=!0,ee=me},f:function(){try{!R&&null!=Y.return&&Y.return()}finally{if(ne)throw ee}}}}function g(H,le){(null==le||le>H.length)&&(le=H.length);for(var Y=0,K=new Array(le);Y<le;Y++)K[Y]=H[Y];return K}function ue(H,le){for(var Y=0;Y<le.length;Y++){var K=le[Y];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(H,K.key,K)}}function a(H,le,Y){return le&&ue(H.prototype,le),Y&&ue(H,Y),H}function L(H,le){return(L=Object.setPrototypeOf||function(K,b){return K.__proto__=b,K})(H,le)}function I(H){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(Y){return Y.__proto__||Object.getPrototypeOf(Y)})(H)}var Q=$(16).EventEmitter,X=$(170),W=$(376),O=$(810),P=$(910),F=$(208),B=$(818),V=$(231),G=$(795),te=$(428),j=$(631),oe=$(583),ve=$(108),fe=$(56),z=$(414),de=$(344),D=new W("RTCSession"),S={STATUS_NULL:0,STATUS_INVITE_SENT:1,STATUS_1XX_RECEIVED:2,STATUS_INVITE_RECEIVED:3,STATUS_WAITING_FOR_ANSWER:4,STATUS_ANSWERED:5,STATUS_WAITING_FOR_ACK:6,STATUS_CANCELED:7,STATUS_TERMINATED:8,STATUS_CONFIRMED:9},q=["audio","video"];Ne.exports=function(H){!function _(H,le){if("function"!=typeof le&&null!==le)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(le&&le.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),le&&L(H,le)}(Y,H);var le=function T(H){var le=function p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var b,K=I(H);if(le){var R=I(this).constructor;b=Reflect.construct(K,arguments,R)}else b=K.apply(this,arguments);return function E(H,le){return!le||"object"!==re(le)&&"function"!=typeof le?function C(H){if(void 0===H)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}(H):le}(this,b)}}(Y);function Y(K){var b;return function ye(H,le){if(!(H instanceof le))throw new TypeError("Cannot call a class as a function")}(this,Y),D.debug("new"),(b=le.call(this))._id=null,b._ua=K,b._status=S.STATUS_NULL,b._dialog=null,b._earlyDialogs={},b._contact=null,b._from_tag=null,b._to_tag=null,b._connection=null,b._connectionPromiseQueue=Promise.resolve(),b._request=null,b._is_canceled=!1,b._cancel_reason="",b._is_confirmed=!1,b._late_sdp=!1,b._rtcOfferConstraints=null,b._rtcAnswerConstraints=null,b._localMediaStream=null,b._localMediaStreamLocallyGenerated=!1,b._rtcReady=!0,b._iceReady=!1,b._timers={ackTimer:null,expiresTimer:null,invite2xxTimer:null,userNoAnswerTimer:null},b._direction=null,b._local_identity=null,b._remote_identity=null,b._start_time=null,b._end_time=null,b._tones=null,b._audioMuted=!1,b._videoMuted=!1,b._localHold=!1,b._remoteHold=!1,b._sessionTimers={enabled:b._ua.configuration.session_timers,refreshMethod:b._ua.configuration.session_timers_refresh_method,defaultExpires:O.SESSION_EXPIRES,currentExpires:null,running:!1,refresher:!1,timer:null},b._referSubscribers={},b._data={},b}return a(Y,null,[{key:"C",get:function(){return S}}]),a(Y,[{key:"isInProgress",value:function(){switch(this._status){case S.STATUS_NULL:case S.STATUS_INVITE_SENT:case S.STATUS_1XX_RECEIVED:case S.STATUS_INVITE_RECEIVED:case S.STATUS_WAITING_FOR_ANSWER:return!0;default:return!1}}},{key:"isEstablished",value:function(){switch(this._status){case S.STATUS_ANSWERED:case S.STATUS_WAITING_FOR_ACK:case S.STATUS_CONFIRMED:return!0;default:return!1}}},{key:"isEnded",value:function(){switch(this._status){case S.STATUS_CANCELED:case S.STATUS_TERMINATED:return!0;default:return!1}}},{key:"isMuted",value:function(){return{audio:this._audioMuted,video:this._videoMuted}}},{key:"isOnHold",value:function(){return{local:this._localHold,remote:this._remoteHold}}},{key:"connect",value:function(b){var R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ne=arguments.length>2?arguments[2]:void 0;D.debug("connect()");var ee=b,ie=B.cloneObject(R.eventHandlers),me=B.cloneArray(R.extraHeaders),Se=B.cloneObject(R.mediaConstraints,{audio:!0,video:!0}),Re=R.mediaStream||null,ke=B.cloneObject(R.pcConfig,{iceServers:[]}),Me=R.rtcConstraints||null,Ee=R.rtcOfferConstraints||null;if(this._rtcOfferConstraints=Ee,this._rtcAnswerConstraints=R.rtcAnswerConstraints||null,this._data=R.data||this._data,void 0===b)throw new TypeError("Not enough arguments");if(this._status!==S.STATUS_NULL)throw new P.InvalidStateError(this._status);if(!window.RTCPeerConnection)throw new P.NotSupportedError("WebRTC not supported");if(!(b=this._ua.normalizeTarget(b)))throw new TypeError("Invalid target: ".concat(ee));for(var at in this._sessionTimers.enabled&&B.isDecimal(R.sessionTimersExpires)&&(this._sessionTimers.defaultExpires=R.sessionTimersExpires>=O.MIN_SESSION_EXPIRES?R.sessionTimersExpires:O.SESSION_EXPIRES),ie)Object.prototype.hasOwnProperty.call(ie,at)&&this.on(at,ie[at]);this._from_tag=B.newTag();var vt=R.anonymous||!1,jt={from_tag:this._from_tag};this._contact=this._ua.contact.toString({anonymous:vt,outbound:!0}),vt?(jt.from_display_name="Anonymous",jt.from_uri=new de("sip","anonymous","anonymous.invalid"),me.push("P-Preferred-Identity: ".concat(this._ua.configuration.uri.toString())),me.push("Privacy: id")):R.fromUserName&&(jt.from_uri=new de("sip",R.fromUserName,this._ua.configuration.uri.host),me.push("P-Preferred-Identity: ".concat(this._ua.configuration.uri.toString()))),R.fromDisplayName&&(jt.from_display_name=R.fromDisplayName),me.push("Contact: ".concat(this._contact)),me.push("Content-Type: application/sdp"),this._sessionTimers.enabled&&me.push("Session-Expires: ".concat(this._sessionTimers.defaultExpires).concat(this._ua.configuration.session_timers_force_refresher?";refresher=uac":"")),this._request=new G.InitialOutgoingInviteRequest(b,this._ua,jt,me),this._id=this._request.call_id+this._from_tag,this._createRTCConnection(ke,Me),this._direction="outgoing",this._local_identity=this._request.from,this._remote_identity=this._request.to,ne&&ne(this),this._newRTCSession("local",this._request),this._sendInitialRequest(Se,Ee,Re)}},{key:"init_incoming",value:function(b,R){var ne=this;D.debug("init_incoming()");var ee,ie=b.hasHeader("Content-Type")?b.getHeader("Content-Type").toLowerCase():void 0;b.body&&"application/sdp"!==ie?b.reply(415):(this._status=S.STATUS_INVITE_RECEIVED,this._from_tag=b.from_tag,this._id=b.call_id+this._from_tag,this._request=b,this._contact=this._ua.contact.toString(),b.hasHeader("expires")&&(ee=1e3*b.getHeader("expires")),b.to_tag=B.newTag(),this._createDialog(b,"UAS",!0)?(this._late_sdp=!b.body,this._status=S.STATUS_WAITING_FOR_ANSWER,this._timers.userNoAnswerTimer=setTimeout(function(){b.reply(408),ne._failed("local",null,O.causes.NO_ANSWER)},this._ua.configuration.no_answer_timeout),ee&&(this._timers.expiresTimer=setTimeout(function(){ne._status===S.STATUS_WAITING_FOR_ANSWER&&(b.reply(487),ne._failed("system",null,O.causes.EXPIRES))},ee)),this._direction="incoming",this._local_identity=b.to,this._remote_identity=b.from,R&&R(this),this._newRTCSession("remote",b),this._status!==S.STATUS_TERMINATED&&(b.reply(180,null,["Contact: ".concat(this._contact)]),this._progress("local",null))):b.reply(500,"Missing Contact header field"))}},{key:"answer",value:function(){var b=this,R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};D.debug("answer()");var ne=this._request,ee=B.cloneArray(R.extraHeaders),ie=B.cloneObject(R.mediaConstraints),me=R.mediaStream||null,Se=B.cloneObject(R.pcConfig,{iceServers:[]}),Re=R.rtcConstraints||null,ke=R.rtcAnswerConstraints||null,Me=B.cloneObject(R.rtcOfferConstraints),at=!1,vt=!1,jt=!1,qe=!1;if(this._rtcAnswerConstraints=ke,this._rtcOfferConstraints=R.rtcOfferConstraints||null,this._data=R.data||this._data,"incoming"!==this._direction)throw new P.NotSupportedError('"answer" not supported for outgoing RTCSession');if(this._status!==S.STATUS_WAITING_FOR_ANSWER)throw new P.InvalidStateError(this._status);if(this._sessionTimers.enabled&&B.isDecimal(R.sessionTimersExpires)&&(this._sessionTimers.defaultExpires=R.sessionTimersExpires>=O.MIN_SESSION_EXPIRES?R.sessionTimersExpires:O.SESSION_EXPIRES),this._status=S.STATUS_ANSWERED,this._createDialog(ne,"UAS")){clearTimeout(this._timers.userNoAnswerTimer),ee.unshift("Contact: ".concat(this._contact));var $e=ne.parseSDP();Array.isArray($e.media)||($e.media=[$e.media]);var lt,tt=we($e.media);try{for(tt.s();!(lt=tt.n()).done;){var yt=lt.value;"audio"===yt.type&&(at=!0,(!yt.direction||"sendrecv"===yt.direction)&&(jt=!0)),"video"===yt.type&&(vt=!0,(!yt.direction||"sendrecv"===yt.direction)&&(qe=!0))}}catch(It){tt.e(It)}finally{tt.f()}if(me&&!1===ie.audio){var gt,St=we(me.getAudioTracks());try{for(St.s();!(gt=St.n()).done;)me.removeTrack(gt.value)}catch(It){St.e(It)}finally{St.f()}}if(me&&!1===ie.video){var Ir,$t=we(me.getVideoTracks());try{for($t.s();!(Ir=$t.n()).done;)me.removeTrack(Ir.value)}catch(It){$t.e(It)}finally{$t.f()}}!me&&void 0===ie.audio&&(ie.audio=jt),!me&&void 0===ie.video&&(ie.video=qe),!me&&!at&&!Me.offerToReceiveAudio&&(ie.audio=!1),!me&&!vt&&!Me.offerToReceiveVideo&&(ie.video=!1),this._createRTCConnection(Se,Re),Promise.resolve().then(function(){return me||(ie.audio||ie.video?(b._localMediaStreamLocallyGenerated=!0,navigator.mediaDevices.getUserMedia(ie).catch(function(It){throw b._status===S.STATUS_TERMINATED?new Error("terminated"):(ne.reply(480),b._failed("local",null,O.causes.USER_DENIED_MEDIA_ACCESS),D.warn('emit "getusermediafailed" [error:%o]',It),b.emit("getusermediafailed",It),new Error("getUserMedia() failed"))})):void 0)}).then(function(It){if(b._status===S.STATUS_TERMINATED)throw new Error("terminated");b._localMediaStream=It,It&&It.getTracks().forEach(function(Mr){b._connection.addTrack(Mr,It)})}).then(function(){if(!b._late_sdp){var It={originator:"remote",type:"offer",sdp:ne.body};D.debug('emit "sdp"'),b.emit("sdp",It);var Mr=new RTCSessionDescription({type:"offer",sdp:It.sdp});return b._connectionPromiseQueue=b._connectionPromiseQueue.then(function(){return b._connection.setRemoteDescription(Mr)}).catch(function(An){throw ne.reply(488),b._failed("system",null,O.causes.WEBRTC_ERROR),D.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',An),b.emit("peerconnection:setremotedescriptionfailed",An),new Error("peerconnection.setRemoteDescription() failed")}),b._connectionPromiseQueue}}).then(function(){if(b._status===S.STATUS_TERMINATED)throw new Error("terminated");return b._connecting(ne),b._late_sdp?b._createLocalDescription("offer",b._rtcOfferConstraints).catch(function(){throw ne.reply(500),new Error("_createLocalDescription() failed")}):b._createLocalDescription("answer",ke).catch(function(){throw ne.reply(500),new Error("_createLocalDescription() failed")})}).then(function(It){if(b._status===S.STATUS_TERMINATED)throw new Error("terminated");b._handleSessionTimersInIncomingRequest(ne,ee),ne.reply(200,null,ee,It,function(){b._status=S.STATUS_WAITING_FOR_ACK,b._setInvite2xxTimer(ne,It),b._setACKTimer(),b._accepted("local")},function(){b._failed("system",null,O.causes.CONNECTION_ERROR)})}).catch(function(It){b._status!==S.STATUS_TERMINATED&&D.warn(It)})}else ne.reply(500,"Error creating dialog")}},{key:"terminate",value:function(){var b=this,R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};D.debug("terminate()");var me,ne=R.cause||O.causes.BYE,ee=B.cloneArray(R.extraHeaders),ie=R.body,Se=R.status_code,Re=R.reason_phrase;if(this._status===S.STATUS_TERMINATED)throw new P.InvalidStateError(this._status);switch(this._status){case S.STATUS_NULL:case S.STATUS_INVITE_SENT:case S.STATUS_1XX_RECEIVED:if(D.debug("canceling session"),Se&&(Se<200||Se>=700))throw new TypeError("Invalid status_code: ".concat(Se));Se&&(Re=Re||O.REASON_PHRASE[Se]||"",me="SIP ;cause=".concat(Se,' ;text="').concat(Re,'"')),this._status===S.STATUS_NULL||this._status===S.STATUS_INVITE_SENT?(this._is_canceled=!0,this._cancel_reason=me):this._status===S.STATUS_1XX_RECEIVED&&this._request.cancel(me),this._status=S.STATUS_CANCELED,this._failed("local",null,O.causes.CANCELED);break;case S.STATUS_WAITING_FOR_ANSWER:case S.STATUS_ANSWERED:if(D.debug("rejecting session"),(Se=Se||480)<300||Se>=700)throw new TypeError("Invalid status_code: ".concat(Se));this._request.reply(Se,Re,ee,ie),this._failed("local",null,O.causes.REJECTED);break;case S.STATUS_WAITING_FOR_ACK:case S.STATUS_CONFIRMED:if(D.debug("terminating session"),Re=R.reason_phrase||O.REASON_PHRASE[Se]||"",Se&&(Se<200||Se>=700))throw new TypeError("Invalid status_code: ".concat(Se));if(Se&&ee.push("Reason: SIP ;cause=".concat(Se,'; text="').concat(Re,'"')),this._status===S.STATUS_WAITING_FOR_ACK&&"incoming"===this._direction&&this._request.server_transaction.state!==F.C.STATUS_TERMINATED){var ke=this._dialog;this.receiveRequest=function(Me){Me.method===O.ACK&&(b.sendRequest(O.BYE,{extraHeaders:ee,body:ie}),ke.terminate())},this._request.server_transaction.on("stateChanged",function(){b._request.server_transaction.state===F.C.STATUS_TERMINATED&&(b.sendRequest(O.BYE,{extraHeaders:ee,body:ie}),ke.terminate())}),this._ended("local",null,ne),this._dialog=ke,this._ua.newDialog(ke)}else this.sendRequest(O.BYE,{extraHeaders:ee,body:ie}),this._ended("local",null,ne)}}},{key:"sendDTMF",value:function(b){var R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};D.debug("sendDTMF() | tones: %s",b);var ne=0,ee=R.duration||null,ie=R.interToneGap||null,me=R.transportType||O.DTMF_TRANSPORT.INFO;if(void 0===b)throw new TypeError("Not enough arguments");if(this._status!==S.STATUS_CONFIRMED&&this._status!==S.STATUS_WAITING_FOR_ACK&&this._status!==S.STATUS_1XX_RECEIVED)throw new P.InvalidStateError(this._status);if(me!==O.DTMF_TRANSPORT.INFO&&me!==O.DTMF_TRANSPORT.RFC2833)throw new TypeError("invalid transportType: ".concat(me));if("number"==typeof b&&(b=b.toString()),!b||"string"!=typeof b||!b.match(/^[0-9A-DR#*,]+$/i))throw new TypeError("Invalid tones: ".concat(b));if(ee&&!B.isDecimal(ee))throw new TypeError("Invalid tone duration: ".concat(ee));if(ee?ee<oe.C.MIN_DURATION?(D.debug('"duration" value is lower than the minimum allowed, setting it to '.concat(oe.C.MIN_DURATION," milliseconds")),ee=oe.C.MIN_DURATION):ee>oe.C.MAX_DURATION?(D.debug('"duration" value is greater than the maximum allowed, setting it to '.concat(oe.C.MAX_DURATION," milliseconds")),ee=oe.C.MAX_DURATION):ee=Math.abs(ee):ee=oe.C.DEFAULT_DURATION,R.duration=ee,ie&&!B.isDecimal(ie))throw new TypeError("Invalid interToneGap: ".concat(ie));if(ie?ie<oe.C.MIN_INTER_TONE_GAP?(D.debug('"interToneGap" value is lower than the minimum allowed, setting it to '.concat(oe.C.MIN_INTER_TONE_GAP," milliseconds")),ie=oe.C.MIN_INTER_TONE_GAP):ie=Math.abs(ie):ie=oe.C.DEFAULT_INTER_TONE_GAP,me!==O.DTMF_TRANSPORT.RFC2833)this._tones?this._tones+=b:(this._tones=b,function Re(){var Me,ke=this;if(this._status===S.STATUS_TERMINATED||!this._tones||ne>=this._tones.length)this._tones=null;else{var Ee=this._tones[ne];if(ne+=1,","===Ee)Me=2e3;else{var at=new oe(this);R.eventHandlers={onFailed:function(){ke._tones=null}},at.send(Ee,R),Me=ee+ie}setTimeout(Re.bind(this),Me)}}.call(this));else{var Se=this._getDTMFRTPSender();Se&&Se.insertDTMF(b=Se.toneBuffer+b,ee,ie)}}},{key:"sendInfo",value:function(b,R){var ne=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(D.debug("sendInfo()"),this._status!==S.STATUS_CONFIRMED&&this._status!==S.STATUS_WAITING_FOR_ACK&&this._status!==S.STATUS_1XX_RECEIVED)throw new P.InvalidStateError(this._status);new ve(this).send(b,R,ne)}},{key:"mute",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{audio:!0,video:!1};D.debug("mute()");var R=!1,ne=!1;!1===this._audioMuted&&b.audio&&(R=!0,this._audioMuted=!0,this._toggleMuteAudio(!0)),!1===this._videoMuted&&b.video&&(ne=!0,this._videoMuted=!0,this._toggleMuteVideo(!0)),(!0===R||!0===ne)&&this._onmute({audio:R,video:ne})}},{key:"unmute",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{audio:!0,video:!0};D.debug("unmute()");var R=!1,ne=!1;!0===this._audioMuted&&b.audio&&(R=!0,this._audioMuted=!1,!1===this._localHold&&this._toggleMuteAudio(!1)),!0===this._videoMuted&&b.video&&(ne=!0,this._videoMuted=!1,!1===this._localHold&&this._toggleMuteVideo(!1)),(!0===R||!0===ne)&&this._onunmute({audio:R,video:ne})}},{key:"hold",value:function(){var b=this,R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ne=arguments.length>1?arguments[1]:void 0;if(D.debug("hold()"),this._status!==S.STATUS_WAITING_FOR_ACK&&this._status!==S.STATUS_CONFIRMED||!0===this._localHold||!this._isReadyToReOffer())return!1;this._localHold=!0,this._onhold("local");var ee={succeeded:function(){ne&&ne()},failed:function(){b.terminate({cause:O.causes.WEBRTC_ERROR,status_code:500,reason_phrase:"Hold Failed"})}};return R.useUpdate?this._sendUpdate({sdpOffer:!0,eventHandlers:ee,extraHeaders:R.extraHeaders}):this._sendReinvite({eventHandlers:ee,extraHeaders:R.extraHeaders}),!0}},{key:"unhold",value:function(){var b=this,R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ne=arguments.length>1?arguments[1]:void 0;if(D.debug("unhold()"),this._status!==S.STATUS_WAITING_FOR_ACK&&this._status!==S.STATUS_CONFIRMED||!1===this._localHold||!this._isReadyToReOffer())return!1;this._localHold=!1,this._onunhold("local");var ee={succeeded:function(){ne&&ne()},failed:function(){b.terminate({cause:O.causes.WEBRTC_ERROR,status_code:500,reason_phrase:"Unhold Failed"})}};return R.useUpdate?this._sendUpdate({sdpOffer:!0,eventHandlers:ee,extraHeaders:R.extraHeaders}):this._sendReinvite({eventHandlers:ee,extraHeaders:R.extraHeaders}),!0}},{key:"renegotiate",value:function(){var b=this,R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ne=arguments.length>1?arguments[1]:void 0;D.debug("renegotiate()");var ee=R.rtcOfferConstraints||null;if(this._status!==S.STATUS_WAITING_FOR_ACK&&this._status!==S.STATUS_CONFIRMED||!this._isReadyToReOffer())return!1;var ie={succeeded:function(){ne&&ne()},failed:function(){b.terminate({cause:O.causes.WEBRTC_ERROR,status_code:500,reason_phrase:"Media Renegotiation Failed"})}};return this._setLocalMediaStatus(),R.useUpdate?this._sendUpdate({sdpOffer:!0,eventHandlers:ie,rtcOfferConstraints:ee,extraHeaders:R.extraHeaders}):this._sendReinvite({eventHandlers:ie,rtcOfferConstraints:ee,extraHeaders:R.extraHeaders}),!0}},{key:"refer",value:function(b,R){var ne=this;D.debug("refer()");var ee=b;if(this._status!==S.STATUS_WAITING_FOR_ACK&&this._status!==S.STATUS_CONFIRMED)return!1;if(!(b=this._ua.normalizeTarget(b)))throw new TypeError("Invalid target: ".concat(ee));var ie=new z(this);ie.sendRefer(b,R);var me=ie.id;return this._referSubscribers[me]=ie,ie.on("requestFailed",function(){delete ne._referSubscribers[me]}),ie.on("accepted",function(){delete ne._referSubscribers[me]}),ie.on("failed",function(){delete ne._referSubscribers[me]}),ie}},{key:"sendRequest",value:function(b,R){return D.debug("sendRequest()"),this._dialog.sendRequest(b,R)}},{key:"receiveRequest",value:function(b){var R=this;if(D.debug("receiveRequest()"),b.method===O.CANCEL)(this._status===S.STATUS_WAITING_FOR_ANSWER||this._status===S.STATUS_ANSWERED)&&(this._status=S.STATUS_CANCELED,this._request.reply(487),this._failed("remote",b,O.causes.CANCELED));else switch(b.method){case O.ACK:if(this._status!==S.STATUS_WAITING_FOR_ACK)return;if(this._status=S.STATUS_CONFIRMED,clearTimeout(this._timers.ackTimer),clearTimeout(this._timers.invite2xxTimer),this._late_sdp){if(!b.body){this.terminate({cause:O.causes.MISSING_SDP,status_code:400});break}var ne={originator:"remote",type:"answer",sdp:b.body};D.debug('emit "sdp"'),this.emit("sdp",ne);var ee=new RTCSessionDescription({type:"answer",sdp:ne.sdp});this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return R._connection.setRemoteDescription(ee)}).then(function(){R._is_confirmed||R._confirmed("remote",b)}).catch(function(me){R.terminate({cause:O.causes.BAD_MEDIA_DESCRIPTION,status_code:488}),D.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',me),R.emit("peerconnection:setremotedescriptionfailed",me)})}else this._is_confirmed||this._confirmed("remote",b);break;case O.BYE:this._status===S.STATUS_CONFIRMED||this._status===S.STATUS_WAITING_FOR_ACK?(b.reply(200),this._ended("remote",b,O.causes.BYE)):this._status===S.STATUS_INVITE_RECEIVED||this._status===S.STATUS_WAITING_FOR_ANSWER?(b.reply(200),this._request.reply(487,"BYE Received"),this._ended("remote",b,O.causes.BYE)):b.reply(403,"Wrong Status");break;case O.INVITE:this._status===S.STATUS_CONFIRMED?b.hasHeader("replaces")?this._receiveReplaces(b):this._receiveReinvite(b):b.reply(403,"Wrong Status");break;case O.INFO:if(this._status===S.STATUS_1XX_RECEIVED||this._status===S.STATUS_WAITING_FOR_ANSWER||this._status===S.STATUS_ANSWERED||this._status===S.STATUS_WAITING_FOR_ACK||this._status===S.STATUS_CONFIRMED){var ie=b.hasHeader("Content-Type")?b.getHeader("Content-Type").toLowerCase():void 0;ie&&ie.match(/^application\/dtmf-relay/i)?new oe(this).init_incoming(b):void 0!==ie?new ve(this).init_incoming(b):b.reply(415)}else b.reply(403,"Wrong Status");break;case O.UPDATE:this._status===S.STATUS_CONFIRMED?this._receiveUpdate(b):b.reply(403,"Wrong Status");break;case O.REFER:this._status===S.STATUS_CONFIRMED?this._receiveRefer(b):b.reply(403,"Wrong Status");break;case O.NOTIFY:this._status===S.STATUS_CONFIRMED?this._receiveNotify(b):b.reply(403,"Wrong Status");break;default:b.reply(501)}}},{key:"onTransportError",value:function(){D.warn("onTransportError()"),this._status!==S.STATUS_TERMINATED&&this.terminate({status_code:500,reason_phrase:O.causes.CONNECTION_ERROR,cause:O.causes.CONNECTION_ERROR})}},{key:"onRequestTimeout",value:function(){D.warn("onRequestTimeout()"),this._status!==S.STATUS_TERMINATED&&this.terminate({status_code:408,reason_phrase:O.causes.REQUEST_TIMEOUT,cause:O.causes.REQUEST_TIMEOUT})}},{key:"onDialogError",value:function(){D.warn("onDialogError()"),this._status!==S.STATUS_TERMINATED&&this.terminate({status_code:500,reason_phrase:O.causes.DIALOG_ERROR,cause:O.causes.DIALOG_ERROR})}},{key:"newDTMF",value:function(b){D.debug("newDTMF()"),this.emit("newDTMF",b)}},{key:"newInfo",value:function(b){D.debug("newInfo()"),this.emit("newInfo",b)}},{key:"_isReadyToReOffer",value:function(){return this._rtcReady?this._dialog?!0!==this._dialog.uac_pending_reply&&!0!==this._dialog.uas_pending_reply||(D.debug("_isReadyToReOffer() | there is another INVITE/UPDATE transaction in progress"),!1):(D.debug("_isReadyToReOffer() | session not established yet"),!1):(D.debug("_isReadyToReOffer() | internal WebRTC status not ready"),!1)}},{key:"_close",value:function(){if(D.debug("close()"),this._localMediaStream&&this._localMediaStreamLocallyGenerated&&(D.debug("close() | closing local MediaStream"),B.closeMediaStream(this._localMediaStream)),this._status!==S.STATUS_TERMINATED){if(this._status=S.STATUS_TERMINATED,this._connection)try{this._connection.close()}catch(ee){D.warn("close() | error closing the RTCPeerConnection: %o",ee)}for(var b in this._timers)Object.prototype.hasOwnProperty.call(this._timers,b)&&clearTimeout(this._timers[b]);for(var R in clearTimeout(this._sessionTimers.timer),this._dialog&&(this._dialog.terminate(),delete this._dialog),this._earlyDialogs)Object.prototype.hasOwnProperty.call(this._earlyDialogs,R)&&(this._earlyDialogs[R].terminate(),delete this._earlyDialogs[R]);for(var ne in this._referSubscribers)Object.prototype.hasOwnProperty.call(this._referSubscribers,ne)&&delete this._referSubscribers[ne];this._ua.destroyRTCSession(this)}}},{key:"_setInvite2xxTimer",value:function(b,R){var ne=V.T1;this._timers.invite2xxTimer=setTimeout(function ee(){this._status===S.STATUS_WAITING_FOR_ACK&&(b.reply(200,null,["Contact: ".concat(this._contact)],R),ne<V.T2&&(ne*=2)>V.T2&&(ne=V.T2),this._timers.invite2xxTimer=setTimeout(ee.bind(this),ne))}.bind(this),ne)}},{key:"_setACKTimer",value:function(){var b=this;this._timers.ackTimer=setTimeout(function(){b._status===S.STATUS_WAITING_FOR_ACK&&(D.debug("no ACK received, terminating the session"),clearTimeout(b._timers.invite2xxTimer),b.sendRequest(O.BYE),b._ended("remote",null,O.causes.NO_ACK))},V.TIMER_H)}},{key:"_createRTCConnection",value:function(b,R){var ne=this;this._connection=new RTCPeerConnection(b,R),this._connection.addEventListener("iceconnectionstatechange",function(){"failed"===ne._connection.iceConnectionState&&ne.terminate({cause:O.causes.RTP_TIMEOUT,status_code:408,reason_phrase:O.causes.RTP_TIMEOUT})}),D.debug('emit "peerconnection"'),this.emit("peerconnection",{peerconnection:this._connection})}},{key:"_createLocalDescription",value:function(b,R){var ne=this;if(D.debug("createLocalDescription()"),"offer"!==b&&"answer"!==b)throw new Error('createLocalDescription() | invalid type "'.concat(b,'"'));var ee=this._connection;return this._rtcReady=!1,Promise.resolve().then(function(){return"offer"===b?ee.createOffer(R).catch(function(ie){return D.warn('emit "peerconnection:createofferfailed" [error:%o]',ie),ne.emit("peerconnection:createofferfailed",ie),Promise.reject(ie)}):ee.createAnswer(R).catch(function(ie){return D.warn('emit "peerconnection:createanswerfailed" [error:%o]',ie),ne.emit("peerconnection:createanswerfailed",ie),Promise.reject(ie)})}).then(function(ie){return ee.setLocalDescription(ie).catch(function(me){return ne._rtcReady=!0,D.warn('emit "peerconnection:setlocaldescriptionfailed" [error:%o]',me),ne.emit("peerconnection:setlocaldescriptionfailed",me),Promise.reject(me)})}).then(function(){if("complete"===ee.iceGatheringState&&(!R||!R.iceRestart)||"gathering"===ee.iceGatheringState&&ne._iceReady){ne._rtcReady=!0;var me={originator:"local",type:b,sdp:ee.localDescription.sdp};return D.debug('emit "sdp"'),ne.emit("sdp",me),Promise.resolve(me.sdp)}return new Promise(function(Se){var ke,Me,Re=!1;ne._iceReady=!1;var Ee=function(){if(!Re){ee.removeEventListener("icecandidate",ke),ee.removeEventListener("icegatheringstatechange",Me),Re=!0,ne._rtcReady=!0,ne._iceReady=!0;var vt={originator:"local",type:b,sdp:ee.localDescription.sdp};D.debug('emit "sdp"'),ne.emit("sdp",vt),Se(vt.sdp)}};ee.addEventListener("icecandidate",ke=function(vt){var jt=vt.candidate;jt?ne.emit("icecandidate",{candidate:jt,ready:Ee}):Ee()}),ee.addEventListener("icegatheringstatechange",Me=function(){"complete"===ee.iceGatheringState&&Ee()})})})}},{key:"_createDialog",value:function(b,R,ne){var me=b.call_id+("UAS"===R?b.to_tag:b.from_tag)+("UAS"===R?b.from_tag:b.to_tag),Se=this._earlyDialogs[me];if(ne)return!!Se||((Se=new te(this,b,R,te.C.STATUS_EARLY)).error?(D.debug(Se.error),this._failed("remote",b,O.causes.INTERNAL_ERROR),!1):(this._earlyDialogs[me]=Se,!0));if(this._from_tag=b.from_tag,this._to_tag=b.to_tag,Se)return Se.update(b,R),this._dialog=Se,delete this._earlyDialogs[me],!0;var Re=new te(this,b,R);return Re.error?(D.debug(Re.error),this._failed("remote",b,O.causes.INTERNAL_ERROR),!1):(this._dialog=Re,!0)}},{key:"_receiveReinvite",value:function(b){var R=this;D.debug("receiveReinvite()");var ne=b.hasHeader("Content-Type")?b.getHeader("Content-Type").toLowerCase():void 0,ee={request:b,callback:void 0,reject:function me(){var Re=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ie=!0;var ke=Re.status_code||403,Me=Re.reason_phrase||"",Ee=B.cloneArray(Re.extraHeaders);if(this._status!==S.STATUS_CONFIRMED)return!1;if(ke<300||ke>=700)throw new TypeError("Invalid status_code: ".concat(ke));b.reply(ke,Me,Ee)}.bind(this)},ie=!1;if(this.emit("reinvite",ee),!ie){if(this._late_sdp=!1,!b.body)return this._late_sdp=!0,this._remoteHold&&(this._remoteHold=!1,this._onunhold("remote")),void(this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return R._createLocalDescription("offer",R._rtcOfferConstraints)}).then(function(Re){Se.call(R,Re)}).catch(function(){b.reply(500)}));if("application/sdp"!==ne)return D.debug("invalid Content-Type"),void b.reply(415);this._processInDialogSdpOffer(b).then(function(Re){R._status!==S.STATUS_TERMINATED&&Se.call(R,Re)}).catch(function(Re){D.warn(Re)})}function Se(Re){var ke=this,Me=["Contact: ".concat(this._contact)];this._handleSessionTimersInIncomingRequest(b,Me),this._late_sdp&&(Re=this._mangleOffer(Re)),b.reply(200,null,Me,Re,function(){ke._status=S.STATUS_WAITING_FOR_ACK,ke._setInvite2xxTimer(b,Re),ke._setACKTimer()}),"function"==typeof ee.callback&&ee.callback()}}},{key:"_receiveUpdate",value:function(b){var R=this;D.debug("receiveUpdate()");var ne=b.hasHeader("Content-Type")?b.getHeader("Content-Type").toLowerCase():void 0,ee={request:b,callback:void 0,reject:function me(){var Re=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ie=!0;var ke=Re.status_code||403,Me=Re.reason_phrase||"",Ee=B.cloneArray(Re.extraHeaders);if(this._status!==S.STATUS_CONFIRMED)return!1;if(ke<300||ke>=700)throw new TypeError("Invalid status_code: ".concat(ke));b.reply(ke,Me,Ee)}.bind(this)},ie=!1;if(this.emit("update",ee),!ie)if(b.body){if("application/sdp"!==ne)return D.debug("invalid Content-Type"),void b.reply(415);this._processInDialogSdpOffer(b).then(function(Re){R._status!==S.STATUS_TERMINATED&&Se.call(R,Re)}).catch(function(Re){D.warn(Re)})}else Se.call(this,null);function Se(Re){var ke=["Contact: ".concat(this._contact)];this._handleSessionTimersInIncomingRequest(b,ke),b.reply(200,null,ke,Re),"function"==typeof ee.callback&&ee.callback()}}},{key:"_processInDialogSdpOffer",value:function(b){var R=this;D.debug("_processInDialogSdpOffer()");var me,ne=b.parseSDP(),ee=!1,ie=we(ne.media);try{for(ie.s();!(me=ie.n()).done;){var Se=me.value;if(-1!==q.indexOf(Se.type)){var Re=Se.direction||ne.direction||"sendrecv";if("sendonly"!==Re&&"inactive"!==Re){ee=!1;break}ee=!0}}}catch(Ee){ie.e(Ee)}finally{ie.f()}var ke={originator:"remote",type:"offer",sdp:b.body};D.debug('emit "sdp"'),this.emit("sdp",ke);var Me=new RTCSessionDescription({type:"offer",sdp:ke.sdp});return this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){if(R._status===S.STATUS_TERMINATED)throw new Error("terminated");return R._connection.setRemoteDescription(Me).catch(function(Ee){throw b.reply(488),D.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',Ee),R.emit("peerconnection:setremotedescriptionfailed",Ee),Ee})}).then(function(){if(R._status===S.STATUS_TERMINATED)throw new Error("terminated");!0===R._remoteHold&&!1===ee?(R._remoteHold=!1,R._onunhold("remote")):!1===R._remoteHold&&!0===ee&&(R._remoteHold=!0,R._onhold("remote"))}).then(function(){if(R._status===S.STATUS_TERMINATED)throw new Error("terminated");return R._createLocalDescription("answer",R._rtcAnswerConstraints).catch(function(Ee){throw b.reply(500),D.warn('emit "peerconnection:createtelocaldescriptionfailed" [error:%o]',Ee),Ee})}).catch(function(Ee){D.warn("_processInDialogSdpOffer() failed [error: %o]",Ee)}),this._connectionPromiseQueue}},{key:"_receiveRefer",value:function(b){var R=this;if(D.debug("receiveRefer()"),!b.refer_to)return D.debug("no Refer-To header field present in REFER"),void b.reply(400);if(b.refer_to.uri.scheme!==O.SIP)return D.debug("Refer-To header field points to a non-SIP URI scheme"),void b.reply(416);b.reply(202);var ne=new fe(this,b.cseq);function ee(me){var Se=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(me="function"==typeof me?me:null,this._status!==S.STATUS_WAITING_FOR_ACK&&this._status!==S.STATUS_CONFIRMED)return!1;var Re=new Y(this._ua);if(Re.on("progress",function(Me){var Ee=Me.response;ne.notify(Ee.status_code,Ee.reason_phrase)}),Re.on("accepted",function(Me){var Ee=Me.response;ne.notify(Ee.status_code,Ee.reason_phrase)}),Re.on("_failed",function(Me){var Ee=Me.message,at=Me.cause;Ee?ne.notify(Ee.status_code,Ee.reason_phrase):ne.notify(487,at)}),b.refer_to.uri.hasHeader("replaces")){var ke=decodeURIComponent(b.refer_to.uri.getHeader("replaces"));Se.extraHeaders=B.cloneArray(Se.extraHeaders),Se.extraHeaders.push("Replaces: ".concat(ke))}Re.connect(b.refer_to.uri.toAor(),Se,me)}function ie(){ne.notify(603)}D.debug('emit "refer"'),this.emit("refer",{request:b,accept:function(Se,Re){ee.call(R,Se,Re)},reject:function(){ie.call(R)}})}},{key:"_receiveNotify",value:function(b){if("refer"===(D.debug("receiveNotify()"),b.event||b.reply(400),b.event.event)){var ne;if(b.event.params&&b.event.params.id)ne=this._referSubscribers[b.event.params.id];else{if(1!==Object.keys(this._referSubscribers).length)return void b.reply(400,"Missing event id parameter");ne=this._referSubscribers[Object.keys(this._referSubscribers)[0]]}if(!ne)return void b.reply(481,"Subscription does not exist");ne.receiveNotify(b),b.reply(200)}else b.reply(489)}},{key:"_receiveReplaces",value:function(b){var R=this;function ne(ie){var me=this;if(this._status!==S.STATUS_WAITING_FOR_ACK&&this._status!==S.STATUS_CONFIRMED)return!1;var Se=new Y(this._ua);Se.on("confirmed",function(){me.terminate()}),Se.init_incoming(b,ie)}function ee(){D.debug("Replaced INVITE rejected by the user"),b.reply(486)}D.debug("receiveReplaces()"),this.emit("replaces",{request:b,accept:function(me){ne.call(R,me)},reject:function(){ee.call(R)}})}},{key:"_sendInitialRequest",value:function(b,R,ne){var ee=this,ie=new j(this._ua,this._request,{onRequestTimeout:function(){ee.onRequestTimeout()},onTransportError:function(){ee.onTransportError()},onAuthenticated:function(Se){ee._request=Se},onReceiveResponse:function(Se){ee._receiveInviteResponse(Se)}});Promise.resolve().then(function(){return ne||(b.audio||b.video?(ee._localMediaStreamLocallyGenerated=!0,navigator.mediaDevices.getUserMedia(b).catch(function(me){throw ee._status===S.STATUS_TERMINATED?new Error("terminated"):(ee._failed("local",null,O.causes.USER_DENIED_MEDIA_ACCESS),D.warn('emit "getusermediafailed" [error:%o]',me),ee.emit("getusermediafailed",me),me)})):void 0)}).then(function(me){if(ee._status===S.STATUS_TERMINATED)throw new Error("terminated");return ee._localMediaStream=me,me&&me.getTracks().forEach(function(Se){ee._connection.addTrack(Se,me)}),ee._connecting(ee._request),ee._createLocalDescription("offer",R).catch(function(Se){throw ee._failed("local",null,O.causes.WEBRTC_ERROR),Se})}).then(function(me){if(ee._is_canceled||ee._status===S.STATUS_TERMINATED)throw new Error("terminated");ee._request.body=me,ee._status=S.STATUS_INVITE_SENT,D.debug('emit "sending" [request:%o]',ee._request),ee.emit("sending",{request:ee._request}),ie.send()}).catch(function(me){ee._status!==S.STATUS_TERMINATED&&D.warn(me)})}},{key:"_getDTMFRTPSender",value:function(){var b=this._connection.getSenders().find(function(R){return R.track&&"audio"===R.track.kind});if(b&&b.dtmf)return b.dtmf;D.warn("sendDTMF() | no local audio track to send DTMF with")}},{key:"_receiveInviteResponse",value:function(b){var R=this;if(D.debug("receiveInviteResponse()"),this._dialog&&b.status_code>=200&&b.status_code<=299){if(this._dialog.id.call_id===b.call_id&&this._dialog.id.local_tag===b.from_tag&&this._dialog.id.remote_tag===b.to_tag)return void this.sendRequest(O.ACK);var ne=new te(this,b,"UAC");return void 0!==ne.error?void D.debug(ne.error):(this.sendRequest(O.ACK),void this.sendRequest(O.BYE))}if(this._is_canceled)b.status_code>=100&&b.status_code<200?this._request.cancel(this._cancel_reason):b.status_code>=200&&b.status_code<299&&this._acceptAndTerminate(b);else if(this._status===S.STATUS_INVITE_SENT||this._status===S.STATUS_1XX_RECEIVED)switch(!0){case/^100$/.test(b.status_code):this._status=S.STATUS_1XX_RECEIVED;break;case/^1[0-9]{2}$/.test(b.status_code):if(!b.to_tag){D.debug("1xx response received without to tag");break}if(b.hasHeader("contact")&&!this._createDialog(b,"UAC",!0))break;if(this._status=S.STATUS_1XX_RECEIVED,!b.body){this._progress("remote",b);break}var ee={originator:"remote",type:"answer",sdp:b.body};D.debug('emit "sdp"'),this.emit("sdp",ee);var ie=new RTCSessionDescription({type:"answer",sdp:ee.sdp});this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return R._connection.setRemoteDescription(ie)}).then(function(){return R._progress("remote",b)}).catch(function(ke){D.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',ke),R.emit("peerconnection:setremotedescriptionfailed",ke)});break;case/^2[0-9]{2}$/.test(b.status_code):if(this._status=S.STATUS_CONFIRMED,!b.body){this._acceptAndTerminate(b,400,O.causes.MISSING_SDP),this._failed("remote",b,O.causes.BAD_MEDIA_DESCRIPTION);break}if(!this._createDialog(b,"UAC"))break;var me={originator:"remote",type:"answer",sdp:b.body};D.debug('emit "sdp"'),this.emit("sdp",me);var Se=new RTCSessionDescription({type:"answer",sdp:me.sdp});this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){if("stable"===R._connection.signalingState)return R._connection.createOffer(R._rtcOfferConstraints).then(function(ke){return R._connection.setLocalDescription(ke)}).catch(function(ke){R._acceptAndTerminate(b,500,ke.toString()),R._failed("local",b,O.causes.WEBRTC_ERROR)})}).then(function(){R._connection.setRemoteDescription(Se).then(function(){R._handleSessionTimersInIncomingResponse(b),R._accepted("remote",b),R.sendRequest(O.ACK),R._confirmed("local",null)}).catch(function(ke){R._acceptAndTerminate(b,488,"Not Acceptable Here"),R._failed("remote",b,O.causes.BAD_MEDIA_DESCRIPTION),D.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',ke),R.emit("peerconnection:setremotedescriptionfailed",ke)})});break;default:var Re=B.sipErrorCause(b.status_code);this._failed("remote",b,Re)}}},{key:"_sendReinvite",value:function(){var b=this,R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};D.debug("sendReinvite()");var ne=B.cloneArray(R.extraHeaders),ee=B.cloneObject(R.eventHandlers),ie=R.rtcOfferConstraints||this._rtcOfferConstraints||null,me=!1;function Se(ke){var Me=this;if(this._status!==S.STATUS_TERMINATED&&(this.sendRequest(O.ACK),!me)){if(this._handleSessionTimersInIncomingResponse(ke),!ke.body)return void Re.call(this);if(!ke.hasHeader("Content-Type")||"application/sdp"!==ke.getHeader("Content-Type").toLowerCase())return void Re.call(this);var Ee={originator:"remote",type:"answer",sdp:ke.body};D.debug('emit "sdp"'),this.emit("sdp",Ee);var at=new RTCSessionDescription({type:"answer",sdp:Ee.sdp});this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return Me._connection.setRemoteDescription(at)}).then(function(){ee.succeeded&&ee.succeeded(ke)}).catch(function(vt){Re.call(Me),D.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',vt),Me.emit("peerconnection:setremotedescriptionfailed",vt)})}}function Re(ke){ee.failed&&ee.failed(ke)}ne.push("Contact: ".concat(this._contact)),ne.push("Content-Type: application/sdp"),this._sessionTimers.running&&ne.push("Session-Expires: ".concat(this._sessionTimers.currentExpires,";refresher=").concat(this._sessionTimers.refresher?"uac":"uas")),this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return b._createLocalDescription("offer",ie)}).then(function(ke){var Me={originator:"local",type:"offer",sdp:ke=b._mangleOffer(ke)};D.debug('emit "sdp"'),b.emit("sdp",Me),b.sendRequest(O.INVITE,{extraHeaders:ne,body:ke,eventHandlers:{onSuccessResponse:function(at){Se.call(b,at),me=!0},onErrorResponse:function(at){Re.call(b,at)},onTransportError:function(){b.onTransportError()},onRequestTimeout:function(){b.onRequestTimeout()},onDialogError:function(){b.onDialogError()}}})}).catch(function(){Re()})}},{key:"_sendUpdate",value:function(){var b=this,R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};D.debug("sendUpdate()");var ne=B.cloneArray(R.extraHeaders),ee=B.cloneObject(R.eventHandlers),ie=R.rtcOfferConstraints||this._rtcOfferConstraints||null,me=R.sdpOffer||!1,Se=!1;function Re(Me){var Ee=this;if(this._status!==S.STATUS_TERMINATED&&!Se)if(this._handleSessionTimersInIncomingResponse(Me),me){if(!Me.body)return void ke.call(this);if(!Me.hasHeader("Content-Type")||"application/sdp"!==Me.getHeader("Content-Type").toLowerCase())return void ke.call(this);var at={originator:"remote",type:"answer",sdp:Me.body};D.debug('emit "sdp"'),this.emit("sdp",at);var vt=new RTCSessionDescription({type:"answer",sdp:at.sdp});this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return Ee._connection.setRemoteDescription(vt)}).then(function(){ee.succeeded&&ee.succeeded(Me)}).catch(function(jt){ke.call(Ee),D.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',jt),Ee.emit("peerconnection:setremotedescriptionfailed",jt)})}else ee.succeeded&&ee.succeeded(Me)}function ke(Me){ee.failed&&ee.failed(Me)}ne.push("Contact: ".concat(this._contact)),this._sessionTimers.running&&ne.push("Session-Expires: ".concat(this._sessionTimers.currentExpires,";refresher=").concat(this._sessionTimers.refresher?"uac":"uas")),me?(ne.push("Content-Type: application/sdp"),this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return b._createLocalDescription("offer",ie)}).then(function(Me){var Ee={originator:"local",type:"offer",sdp:Me=b._mangleOffer(Me)};D.debug('emit "sdp"'),b.emit("sdp",Ee),b.sendRequest(O.UPDATE,{extraHeaders:ne,body:Me,eventHandlers:{onSuccessResponse:function(vt){Re.call(b,vt),Se=!0},onErrorResponse:function(vt){ke.call(b,vt)},onTransportError:function(){b.onTransportError()},onRequestTimeout:function(){b.onRequestTimeout()},onDialogError:function(){b.onDialogError()}}})}).catch(function(){ke.call(b)})):this.sendRequest(O.UPDATE,{extraHeaders:ne,eventHandlers:{onSuccessResponse:function(Ee){Re.call(b,Ee)},onErrorResponse:function(Ee){ke.call(b,Ee)},onTransportError:function(){b.onTransportError()},onRequestTimeout:function(){b.onRequestTimeout()},onDialogError:function(){b.onDialogError()}}})}},{key:"_acceptAndTerminate",value:function(b,R,ne){D.debug("acceptAndTerminate()");var ee=[];R&&(ne=ne||O.REASON_PHRASE[R]||"",ee.push("Reason: SIP ;cause=".concat(R,'; text="').concat(ne,'"'))),(this._dialog||this._createDialog(b,"UAC"))&&(this.sendRequest(O.ACK),this.sendRequest(O.BYE,{extraHeaders:ee})),this._status=S.STATUS_TERMINATED}},{key:"_mangleOffer",value:function(b){if(!this._localHold&&!this._remoteHold)return b;if(b=X.parse(b),this._localHold&&!this._remoteHold){D.debug("mangleOffer() | me on hold, mangling offer");var ne,R=we(b.media);try{for(R.s();!(ne=R.n()).done;){var ee=ne.value;-1!==q.indexOf(ee.type)&&(ee.direction?"sendrecv"===ee.direction?ee.direction="sendonly":"recvonly"===ee.direction&&(ee.direction="inactive"):ee.direction="sendonly")}}catch(Ee){R.e(Ee)}finally{R.f()}}else if(this._localHold&&this._remoteHold){D.debug("mangleOffer() | both on hold, mangling offer");var me,ie=we(b.media);try{for(ie.s();!(me=ie.n()).done;){var Se=me.value;-1!==q.indexOf(Se.type)&&(Se.direction="inactive")}}catch(Ee){ie.e(Ee)}finally{ie.f()}}else if(this._remoteHold){D.debug("mangleOffer() | remote on hold, mangling offer");var ke,Re=we(b.media);try{for(Re.s();!(ke=Re.n()).done;){var Me=ke.value;-1!==q.indexOf(Me.type)&&(Me.direction?"sendrecv"===Me.direction?Me.direction="recvonly":"recvonly"===Me.direction&&(Me.direction="inactive"):Me.direction="recvonly")}}catch(Ee){Re.e(Ee)}finally{Re.f()}}return X.write(b)}},{key:"_setLocalMediaStatus",value:function(){var b=!0,R=!0;(this._localHold||this._remoteHold)&&(b=!1,R=!1),this._audioMuted&&(b=!1),this._videoMuted&&(R=!1),this._toggleMuteAudio(!b),this._toggleMuteVideo(!R)}},{key:"_handleSessionTimersInIncomingRequest",value:function(b,R){var ne;this._sessionTimers.enabled&&(b.session_expires&&b.session_expires>=O.MIN_SESSION_EXPIRES?(this._sessionTimers.currentExpires=b.session_expires,ne=b.session_expires_refresher||"uas"):(this._sessionTimers.currentExpires=this._sessionTimers.defaultExpires,ne="uas"),R.push("Session-Expires: ".concat(this._sessionTimers.currentExpires,";refresher=").concat(ne)),this._sessionTimers.refresher="uas"===ne,this._runSessionTimer())}},{key:"_handleSessionTimersInIncomingResponse",value:function(b){var R;this._sessionTimers.enabled&&(b.session_expires&&b.session_expires>=O.MIN_SESSION_EXPIRES?(this._sessionTimers.currentExpires=b.session_expires,R=b.session_expires_refresher||"uac"):(this._sessionTimers.currentExpires=this._sessionTimers.defaultExpires,R="uac"),this._sessionTimers.refresher="uac"===R,this._runSessionTimer())}},{key:"_runSessionTimer",value:function(){var b=this,R=this._sessionTimers.currentExpires;this._sessionTimers.running=!0,clearTimeout(this._sessionTimers.timer),this._sessionTimers.timer=this._sessionTimers.refresher?setTimeout(function(){b._status!==S.STATUS_TERMINATED&&b._isReadyToReOffer()&&(D.debug("runSessionTimer() | sending session refresh request"),b._sessionTimers.refreshMethod===O.UPDATE?b._sendUpdate():b._sendReinvite())},500*R):setTimeout(function(){b._status!==S.STATUS_TERMINATED&&(D.warn("runSessionTimer() | timer expired, terminating the session"),b.terminate({cause:O.causes.REQUEST_TIMEOUT,status_code:408,reason_phrase:"Session Timer Expired"}))},1100*R)}},{key:"_toggleMuteAudio",value:function(b){var ee,ne=we(this._connection.getSenders().filter(function(me){return me.track&&"audio"===me.track.kind}));try{for(ne.s();!(ee=ne.n()).done;)ee.value.track.enabled=!b}catch(me){ne.e(me)}finally{ne.f()}}},{key:"_toggleMuteVideo",value:function(b){var ee,ne=we(this._connection.getSenders().filter(function(me){return me.track&&"video"===me.track.kind}));try{for(ne.s();!(ee=ne.n()).done;)ee.value.track.enabled=!b}catch(me){ne.e(me)}finally{ne.f()}}},{key:"_newRTCSession",value:function(b,R){D.debug("newRTCSession()"),this._ua.newRTCSession(this,{originator:b,session:this,request:R})}},{key:"_connecting",value:function(b){D.debug("session connecting"),D.debug('emit "connecting"'),this.emit("connecting",{request:b})}},{key:"_progress",value:function(b,R){D.debug("session progress"),D.debug('emit "progress"'),this.emit("progress",{originator:b,response:R||null})}},{key:"_accepted",value:function(b,R){D.debug("session accepted"),this._start_time=new Date,D.debug('emit "accepted"'),this.emit("accepted",{originator:b,response:R||null})}},{key:"_confirmed",value:function(b,R){D.debug("session confirmed"),this._is_confirmed=!0,D.debug('emit "confirmed"'),this.emit("confirmed",{originator:b,ack:R||null})}},{key:"_ended",value:function(b,R,ne){D.debug("session ended"),this._end_time=new Date,this._close(),D.debug('emit "ended"'),this.emit("ended",{originator:b,message:R||null,cause:ne})}},{key:"_failed",value:function(b,R,ne){D.debug("session failed"),D.debug('emit "_failed"'),this.emit("_failed",{originator:b,message:R||null,cause:ne}),this._close(),D.debug('emit "failed"'),this.emit("failed",{originator:b,message:R||null,cause:ne})}},{key:"_onhold",value:function(b){D.debug("session onhold"),this._setLocalMediaStatus(),D.debug('emit "hold"'),this.emit("hold",{originator:b})}},{key:"_onunhold",value:function(b){D.debug("session onunhold"),this._setLocalMediaStatus(),D.debug('emit "unhold"'),this.emit("unhold",{originator:b})}},{key:"_onmute",value:function(b){var R=b.audio,ne=b.video;D.debug("session onmute"),this._setLocalMediaStatus(),D.debug('emit "muted"'),this.emit("muted",{audio:R,video:ne})}},{key:"_onunmute",value:function(b){var R=b.audio,ne=b.video;D.debug("session onunmute"),this._setLocalMediaStatus(),D.debug('emit "unmuted"'),this.emit("unmuted",{audio:R,video:ne})}},{key:"C",get:function(){return S}},{key:"causes",get:function(){return O.causes}},{key:"id",get:function(){return this._id}},{key:"connection",get:function(){return this._connection}},{key:"contact",get:function(){return this._contact}},{key:"direction",get:function(){return this._direction}},{key:"local_identity",get:function(){return this._local_identity}},{key:"remote_identity",get:function(){return this._remote_identity}},{key:"start_time",get:function(){return this._start_time}},{key:"end_time",get:function(){return this._end_time}},{key:"data",get:function(){return this._data},set:function(b){this._data=b}},{key:"status",get:function(){return this._status}}]),Y}(Q)},583:(Ne,Ce,$)=>{"use strict";function re(P){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(B){return typeof B}:function(B){return B&&"function"==typeof Symbol&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B})(P)}function Oe(P,F){for(var B=0;B<F.length;B++){var V=F[B];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(P,V.key,V)}}function ue(P,F){return(ue=Object.setPrototypeOf||function(V,G){return V.__proto__=G,V})(P,F)}function E(P){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(B){return B.__proto__||Object.getPrototypeOf(B)})(P)}var C=$(16).EventEmitter,p=$(376),I=$(810),Q=$(910),X=$(818),W=new p("RTCSession:DTMF"),O={MIN_DURATION:70,MAX_DURATION:6e3,DEFAULT_DURATION:100,MIN_INTER_TONE_GAP:50,DEFAULT_INTER_TONE_GAP:500};Ne.exports=function(P){!function ye(P,F){if("function"!=typeof F&&null!==F)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(F&&F.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),F&&ue(P,F)}(B,P);var F=function a(P){var F=function T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var G,V=E(P);if(F){var te=E(this).constructor;G=Reflect.construct(V,arguments,te)}else G=V.apply(this,arguments);return function _(P,F){return!F||"object"!==re(F)&&"function"!=typeof F?function L(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(P):F}(this,G)}}(B);function B(V){var G;return function we(P,F){if(!(P instanceof F))throw new TypeError("Cannot call a class as a function")}(this,B),(G=F.call(this))._session=V,G._direction=null,G._tone=null,G._duration=null,G._request=null,G}return function g(P,F,B){F&&Oe(P.prototype,F),B&&Oe(P,B)}(B,[{key:"send",value:function(G){var te=this,j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===G)throw new TypeError("Not enough arguments");if(this._direction="outgoing",this._session.status!==this._session.C.STATUS_CONFIRMED&&this._session.status!==this._session.C.STATUS_WAITING_FOR_ACK)throw new Q.InvalidStateError(this._session.status);var oe=X.cloneArray(j.extraHeaders);if(this.eventHandlers=X.cloneObject(j.eventHandlers),"string"==typeof G)G=G.toUpperCase();else{if("number"!=typeof G)throw new TypeError("Invalid tone: ".concat(G));G=G.toString()}if(!G.match(/^[0-9A-DR#*]$/))throw new TypeError("Invalid tone: ".concat(G));this._tone=G,this._duration=j.duration,oe.push("Content-Type: application/dtmf-relay");var ve="Signal=".concat(this._tone,"\r\n");ve+="Duration=".concat(this._duration),this._session.newDTMF({originator:"local",dtmf:this,request:this._request}),this._session.sendRequest(I.INFO,{extraHeaders:oe,eventHandlers:{onSuccessResponse:function(z){te.emit("succeeded",{originator:"remote",response:z})},onErrorResponse:function(z){te.eventHandlers.onFailed&&te.eventHandlers.onFailed(),te.emit("failed",{originator:"remote",response:z})},onRequestTimeout:function(){te._session.onRequestTimeout()},onTransportError:function(){te._session.onTransportError()},onDialogError:function(){te._session.onDialogError()}},body:ve})}},{key:"init_incoming",value:function(G){var te=/^(Signal\s*?=\s*?)([0-9A-D#*]{1})(\s)?.*/,j=/^(Duration\s?=\s?)([0-9]{1,4})(\s)?.*/;if(this._direction="incoming",this._request=G,G.reply(200),G.body){var oe=G.body.split("\n");oe.length>=1&&te.test(oe[0])&&(this._tone=oe[0].replace(te,"$2")),oe.length>=2&&j.test(oe[1])&&(this._duration=parseInt(oe[1].replace(j,"$2"),10))}this._duration||(this._duration=O.DEFAULT_DURATION),this._tone?this._session.newDTMF({originator:"remote",dtmf:this,request:G}):W.debug("invalid INFO DTMF received, discarded")}},{key:"tone",get:function(){return this._tone}},{key:"duration",get:function(){return this._duration}}]),B}(C),Ne.exports.C=O},108:(Ne,Ce,$)=>{"use strict";function re(X){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(X)}function Oe(X,W){for(var O=0;O<W.length;O++){var P=W[O];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(X,P.key,P)}}function ue(X,W){return(ue=Object.setPrototypeOf||function(P,F){return P.__proto__=F,P})(X,W)}function E(X){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)})(X)}var C=$(16).EventEmitter,p=$(810),I=$(910),Q=$(818);Ne.exports=function(X){!function ye(X,W){if("function"!=typeof W&&null!==W)throw new TypeError("Super expression must either be null or a function");X.prototype=Object.create(W&&W.prototype,{constructor:{value:X,writable:!0,configurable:!0}}),W&&ue(X,W)}(O,X);var W=function a(X){var W=function T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var F,P=E(X);if(W){var B=E(this).constructor;F=Reflect.construct(P,arguments,B)}else F=P.apply(this,arguments);return function _(X,W){return!W||"object"!==re(W)&&"function"!=typeof W?function L(X){if(void 0===X)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X}(X):W}(this,F)}}(O);function O(P){var F;return function we(X,W){if(!(X instanceof W))throw new TypeError("Cannot call a class as a function")}(this,O),(F=W.call(this))._session=P,F._direction=null,F._contentType=null,F._body=null,F}return function g(X,W,O){W&&Oe(X.prototype,W),O&&Oe(X,O)}(O,[{key:"send",value:function(F,B){var V=this,G=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this._direction="outgoing",void 0===F)throw new TypeError("Not enough arguments");if(this._session.status!==this._session.C.STATUS_CONFIRMED&&this._session.status!==this._session.C.STATUS_WAITING_FOR_ACK)throw new I.InvalidStateError(this._session.status);this._contentType=F,this._body=B;var te=Q.cloneArray(G.extraHeaders);te.push("Content-Type: ".concat(F)),this._session.newInfo({originator:"local",info:this,request:this.request}),this._session.sendRequest(p.INFO,{extraHeaders:te,eventHandlers:{onSuccessResponse:function(oe){V.emit("succeeded",{originator:"remote",response:oe})},onErrorResponse:function(oe){V.emit("failed",{originator:"remote",response:oe})},onTransportError:function(){V._session.onTransportError()},onRequestTimeout:function(){V._session.onRequestTimeout()},onDialogError:function(){V._session.onDialogError()}},body:B})}},{key:"init_incoming",value:function(F){this._direction="incoming",this.request=F,F.reply(200),this._contentType=F.hasHeader("Content-Type")?F.getHeader("Content-Type").toLowerCase():void 0,this._body=F.body,this._session.newInfo({originator:"remote",info:this,request:F})}},{key:"contentType",get:function(){return this._contentType}},{key:"body",get:function(){return this._body}}]),O}(C)},56:(Ne,Ce,$)=>{"use strict";function we(_,L){for(var T=0;T<L.length;T++){var E=L[T];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}var g=$(376),ye=$(810),ue=new g("RTCSession:ReferNotifier");Ne.exports=function(){function _(L,T,E){(function re(_,L){if(!(_ instanceof L))throw new TypeError("Cannot call a class as a function")})(this,_),this._session=L,this._id=T,this._expires=E||300,this._active=!0,this.notify(100)}return function Oe(_,L,T){L&&we(_.prototype,L),T&&we(_,T)}(_,[{key:"notify",value:function(T,E){var C;ue.debug("notify()"),!1!==this._active&&(E=E||ye.REASON_PHRASE[T]||"",C=T>=200?"terminated;reason=noresource":"active;expires=".concat(this._expires),this._session.sendRequest(ye.NOTIFY,{extraHeaders:["Event: ".concat("refer",";id=").concat(this._id),"Subscription-State: ".concat(C),"Content-Type: ".concat("message/sipfrag;version=2.0")],body:"SIP/2.0 ".concat(T," ").concat(E),eventHandlers:{onErrorResponse:function(){this._active=!1}}}))}}]),_}()},414:(Ne,Ce,$)=>{"use strict";function re(O){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(F){return typeof F}:function(F){return F&&"function"==typeof Symbol&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F})(O)}function Oe(O,P){for(var F=0;F<P.length;F++){var B=P[F];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(O,B.key,B)}}function ue(O,P){return(ue=Object.setPrototypeOf||function(B,V){return B.__proto__=V,B})(O,P)}function E(O){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(F){return F.__proto__||Object.getPrototypeOf(F)})(O)}var C=$(16).EventEmitter,p=$(376),I=$(810),Q=$(282),X=$(818),W=new p("RTCSession:ReferSubscriber");Ne.exports=function(O){!function ye(O,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(P&&P.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),P&&ue(O,P)}(F,O);var P=function a(O){var P=function T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var V,B=E(O);if(P){var G=E(this).constructor;V=Reflect.construct(B,arguments,G)}else V=B.apply(this,arguments);return function _(O,P){return!P||"object"!==re(P)&&"function"!=typeof P?function L(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O):P}(this,V)}}(F);function F(B){var V;return function we(O,P){if(!(O instanceof P))throw new TypeError("Cannot call a class as a function")}(this,F),(V=P.call(this))._id=null,V._session=B,V}return function g(O,P,F){P&&Oe(O.prototype,P),F&&Oe(O,F)}(F,[{key:"sendRefer",value:function(V){var G=this,te=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};W.debug("sendRefer()");var j=X.cloneArray(te.extraHeaders),oe=X.cloneObject(te.eventHandlers);for(var ve in oe)Object.prototype.hasOwnProperty.call(oe,ve)&&this.on(ve,oe[ve]);var fe=null;te.replaces&&(fe=te.replaces._request.call_id,fe+=";to-tag=".concat(te.replaces._to_tag),fe+=";from-tag=".concat(te.replaces._from_tag),fe=encodeURIComponent(fe));var z="Refer-To: <".concat(V).concat(fe?"?Replaces=".concat(fe):"",">");if(j.push(z),!j.some(function(S){return S.toLowerCase().startsWith("referred-by:")})){var de="Referred-By: <".concat(this._session._ua._configuration.uri._scheme,":").concat(this._session._ua._configuration.uri._user,"@").concat(this._session._ua._configuration.uri._host,">");j.push(de)}j.push("Contact: ".concat(this._session.contact));var D=this._session.sendRequest(I.REFER,{extraHeaders:j,eventHandlers:{onSuccessResponse:function(q){G._requestSucceeded(q)},onErrorResponse:function(q){G._requestFailed(q,I.causes.REJECTED)},onTransportError:function(){G._requestFailed(null,I.causes.CONNECTION_ERROR)},onRequestTimeout:function(){G._requestFailed(null,I.causes.REQUEST_TIMEOUT)},onDialogError:function(){G._requestFailed(null,I.causes.DIALOG_ERROR)}}});this._id=D.cseq}},{key:"receiveNotify",value:function(V){if(W.debug("receiveNotify()"),V.body){var G=Q.parse(V.body.trim().split("\r\n",1)[0],"Status_Line");if(-1===G)return void W.debug('receiveNotify() | error parsing NOTIFY body: "'.concat(V.body,'"'));switch(!0){case/^100$/.test(G.status_code):this.emit("trying",{request:V,status_line:G});break;case/^1[0-9]{2}$/.test(G.status_code):this.emit("progress",{request:V,status_line:G});break;case/^2[0-9]{2}$/.test(G.status_code):this.emit("accepted",{request:V,status_line:G});break;default:this.emit("failed",{request:V,status_line:G})}}}},{key:"_requestSucceeded",value:function(V){W.debug("REFER succeeded"),W.debug('emit "requestSucceeded"'),this.emit("requestSucceeded",{response:V})}},{key:"_requestFailed",value:function(V,G){W.debug("REFER failed"),W.debug('emit "requestFailed"'),this.emit("requestFailed",{response:V||null,cause:G})}},{key:"id",get:function(){return this._id}}]),F}(C)},716:(Ne,Ce,$)=>{"use strict";function we(E,C){for(var p=0;p<C.length;p++){var I=C[p];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(E,I.key,I)}}var g=$(376),ye=$(818),ue=$(810),a=$(795),_=$(631),L=new g("Registrator");Ne.exports=function(){function E(C,p){(function re(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")})(this,E),this._reg_id=1,this._ua=C,this._transport=p,this._registrar=C.configuration.registrar_server,this._expires=C.configuration.register_expires,this._call_id=ye.createRandomToken(22),this._cseq=0,this._to_uri=C.configuration.uri,this._registrationTimer=null,this._registering=!1,this._registered=!1,this._contact=this._ua.contact.toString(),this._contact+=";+sip.ice",this._extraHeaders=[],this._extraContactParams="",this._sipInstance='"<urn:uuid:'.concat(this._ua.configuration.instance_id,'>"'),this._contact+=";reg-id=".concat(this._reg_id),this._contact+=";+sip.instance=".concat(this._sipInstance)}return function Oe(E,C,p){C&&we(E.prototype,C),p&&we(E,p)}(E,[{key:"setExtraHeaders",value:function(p){Array.isArray(p)||(p=[]),this._extraHeaders=p.slice()}},{key:"setExtraContactParams",value:function(p){for(var I in p instanceof Object||(p={}),this._extraContactParams="",p)if(Object.prototype.hasOwnProperty.call(p,I)){var Q=p[I];this._extraContactParams+=";".concat(I),Q&&(this._extraContactParams+="=".concat(Q))}}},{key:"register",value:function(){var p=this;if(this._registering)L.debug("Register request in progress...");else{var I=this._extraHeaders.slice();I.push("Contact: ".concat(this._contact,";expires=").concat(this._expires).concat(this._extraContactParams)),I.push("Expires: ".concat(this._expires));var Q=new a.OutgoingRequest(ue.REGISTER,this._registrar,this._ua,{to_uri:this._to_uri,call_id:this._call_id,cseq:this._cseq+=1},I),X=new _(this._ua,Q,{onRequestTimeout:function(){p._registrationFailure(null,ue.causes.REQUEST_TIMEOUT)},onTransportError:function(){p._registrationFailure(null,ue.causes.CONNECTION_ERROR)},onAuthenticated:function(){p._cseq+=1},onReceiveResponse:function(O){if(O.cseq===p._cseq)switch(null!==p._registrationTimer&&(clearTimeout(p._registrationTimer),p._registrationTimer=null),!0){case/^1[0-9]{2}$/.test(O.status_code):break;case/^2[0-9]{2}$/.test(O.status_code):if(p._registering=!1,!O.hasHeader("Contact")){L.debug("no Contact header in response to REGISTER, response ignored");break}var P=O.headers.Contact.reduce(function(te,j){return te.concat(j.parsed)},[]),F=P.find(function(te){return p._sipInstance===te.getParam("+sip.instance")&&p._reg_id===parseInt(te.getParam("reg-id"))});if(F||(F=P.find(function(te){return te.uri.user===p._ua.contact.uri.user})),!F){L.debug("no Contact header pointing to us, response ignored");break}var B=F.getParam("expires");!B&&O.hasHeader("expires")&&(B=O.getHeader("expires")),B||(B=p._expires),(B=Number(B))<10&&(B=10);var V=B>64?1e3*B/2+Math.floor(1e3*(B/2-32)*Math.random()):1e3*B-5e3;p._registrationTimer=setTimeout(function(){p._registrationTimer=null,0===p._ua.listeners("registrationExpiring").length?p.register():p._ua.emit("registrationExpiring")},V),F.hasParam("temp-gruu")&&(p._ua.contact.temp_gruu=F.getParam("temp-gruu").replace(/"/g,"")),F.hasParam("pub-gruu")&&(p._ua.contact.pub_gruu=F.getParam("pub-gruu").replace(/"/g,"")),p._registered||(p._registered=!0,p._ua.registered({response:O}));break;case/^423$/.test(O.status_code):O.hasHeader("min-expires")?(p._expires=Number(O.getHeader("min-expires")),p._expires<10&&(p._expires=10),p.register()):(L.debug("423 response received for REGISTER without Min-Expires"),p._registrationFailure(O,ue.causes.SIP_FAILURE_CODE));break;default:var G=ye.sipErrorCause(O.status_code);p._registrationFailure(O,G)}}});this._registering=!0,X.send()}}},{key:"unregister",value:function(){var p=this,I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._registered){this._registered=!1,null!==this._registrationTimer&&(clearTimeout(this._registrationTimer),this._registrationTimer=null);var Q=this._extraHeaders.slice();Q.push(I.all?"Contact: *".concat(this._extraContactParams):"Contact: ".concat(this._contact,";expires=0").concat(this._extraContactParams)),Q.push("Expires: 0");var X=new a.OutgoingRequest(ue.REGISTER,this._registrar,this._ua,{to_uri:this._to_uri,call_id:this._call_id,cseq:this._cseq+=1},Q);new _(this._ua,X,{onRequestTimeout:function(){p._unregistered(null,ue.causes.REQUEST_TIMEOUT)},onTransportError:function(){p._unregistered(null,ue.causes.CONNECTION_ERROR)},onAuthenticated:function(){p._cseq+=1},onReceiveResponse:function(P){switch(!0){case/^1[0-9]{2}$/.test(P.status_code):break;case/^2[0-9]{2}$/.test(P.status_code):p._unregistered(P);break;default:var F=ye.sipErrorCause(P.status_code);p._unregistered(P,F)}}}).send()}else L.debug("already unregistered")}},{key:"close",value:function(){this._registered&&this.unregister()}},{key:"onTransportClosed",value:function(){this._registering=!1,null!==this._registrationTimer&&(clearTimeout(this._registrationTimer),this._registrationTimer=null),this._registered&&(this._registered=!1,this._ua.unregistered({}))}},{key:"_registrationFailure",value:function(p,I){this._registering=!1,this._ua.registrationFailed({response:p||null,cause:I}),this._registered&&(this._registered=!1,this._ua.unregistered({response:p||null,cause:I}))}},{key:"_unregistered",value:function(p,I){this._registering=!1,this._registered=!1,this._ua.unregistered({response:p||null,cause:I||null})}},{key:"registered",get:function(){return this._registered}}]),E}()},631:(Ne,Ce,$)=>{"use strict";function we(T,E){for(var C=0;C<E.length;C++){var p=E[C];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(T,p.key,p)}}var g=$(376),ye=$(810),ue=$(968),a=$(208),_=new g("RequestSender"),L={onRequestTimeout:function(){},onTransportError:function(){},onReceiveResponse:function(){},onAuthenticated:function(){}};Ne.exports=function(){function T(E,C,p){for(var I in function re(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")}(this,T),this._ua=E,this._eventHandlers=p,this._method=C.method,this._request=C,this._auth=null,this._challenged=!1,this._staled=!1,L)Object.prototype.hasOwnProperty.call(L,I)&&(this._eventHandlers[I]||(this._eventHandlers[I]=L[I]));E.status===E.C.STATUS_USER_CLOSED&&(this._method!==ye.BYE||this._method!==ye.ACK)&&this._eventHandlers.onTransportError()}return function Oe(T,E,C){E&&we(T.prototype,E),C&&we(T,C)}(T,[{key:"send",value:function(){var C=this,p={onRequestTimeout:function(){C._eventHandlers.onRequestTimeout()},onTransportError:function(){C._eventHandlers.onTransportError()},onReceiveResponse:function(Q){C._receiveResponse(Q)}};switch(this._method){case"INVITE":this.clientTransaction=new a.InviteClientTransaction(this._ua,this._ua.transport,this._request,p);break;case"ACK":this.clientTransaction=new a.AckClientTransaction(this._ua,this._ua.transport,this._request,p);break;default:this.clientTransaction=new a.NonInviteClientTransaction(this._ua,this._ua.transport,this._request,p)}this._ua._configuration.authorization_jwt&&this._request.setHeader("Authorization",this._ua._configuration.authorization_jwt),this.clientTransaction.send()}},{key:"_receiveResponse",value:function(C){var p,I,Q=C.status_code;if(401!==Q&&407!==Q||null===this._ua.configuration.password&&null===this._ua.configuration.ha1)this._eventHandlers.onReceiveResponse(C);else{if(401===C.status_code?(p=C.parseHeader("www-authenticate"),I="authorization"):(p=C.parseHeader("proxy-authenticate"),I="proxy-authorization"),!p)return _.debug("".concat(C.status_code," with wrong or missing challenge, cannot authenticate")),void this._eventHandlers.onReceiveResponse(C);if(!this._challenged||!this._staled&&!0===p.stale){if(this._auth||(this._auth=new ue({username:this._ua.configuration.authorization_user,password:this._ua.configuration.password,realm:this._ua.configuration.realm,ha1:this._ua.configuration.ha1})),!this._auth.authenticate(this._request,p))return void this._eventHandlers.onReceiveResponse(C);this._challenged=!0,this._ua.set("realm",this._auth.get("realm")),this._ua.set("ha1",this._auth.get("ha1")),p.stale&&(this._staled=!0),this._request=this._request.clone(),this._request.cseq+=1,this._request.setHeader("cseq","".concat(this._request.cseq," ").concat(this._method)),this._request.setHeader(I,this._auth.toString()),this._eventHandlers.onAuthenticated(this._request),this.send()}else this._eventHandlers.onReceiveResponse(C)}}}]),T}()},795:(Ne,Ce,$)=>{"use strict";function re(ve){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(z){return typeof z}:function(z){return z&&"function"==typeof Symbol&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(ve)}function we(ve,fe){if("function"!=typeof fe&&null!==fe)throw new TypeError("Super expression must either be null or a function");ve.prototype=Object.create(fe&&fe.prototype,{constructor:{value:ve,writable:!0,configurable:!0}}),fe&&Oe(ve,fe)}function Oe(ve,fe){return(Oe=Object.setPrototypeOf||function(de,D){return de.__proto__=D,de})(ve,fe)}function g(ve){var fe=function a(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var D,de=_(ve);if(fe){var S=_(this).constructor;D=Reflect.construct(de,arguments,S)}else D=de.apply(this,arguments);return function ye(ve,fe){return!fe||"object"!==re(fe)&&"function"!=typeof fe?function ue(ve){if(void 0===ve)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ve}(ve):fe}(this,D)}}function _(ve){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(z){return z.__proto__||Object.getPrototypeOf(z)})(ve)}function L(ve,fe){var z;if(typeof Symbol>"u"||null==ve[Symbol.iterator]){if(Array.isArray(ve)||(z=function T(ve,fe){if(ve){if("string"==typeof ve)return E(ve,fe);var z=Object.prototype.toString.call(ve).slice(8,-1);if("Object"===z&&ve.constructor&&(z=ve.constructor.name),"Map"===z||"Set"===z)return Array.from(ve);if("Arguments"===z||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(z))return E(ve,fe)}}(ve))||fe&&ve&&"number"==typeof ve.length){z&&(ve=z);var de=0,D=function(){};return{s:D,n:function(){return de>=ve.length?{done:!0}:{done:!1,value:ve[de++]}},e:function(Y){throw Y},f:D}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var H,S=!0,q=!1;return{s:function(){z=ve[Symbol.iterator]()},n:function(){var Y=z.next();return S=Y.done,Y},e:function(Y){q=!0,H=Y},f:function(){try{!S&&null!=z.return&&z.return()}finally{if(q)throw H}}}}function E(ve,fe){(null==fe||fe>ve.length)&&(fe=ve.length);for(var z=0,de=new Array(fe);z<fe;z++)de[z]=ve[z];return de}function C(ve,fe){if(!(ve instanceof fe))throw new TypeError("Cannot call a class as a function")}function p(ve,fe){for(var z=0;z<fe.length;z++){var de=fe[z];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(ve,de.key,de)}}function I(ve,fe,z){return fe&&p(ve.prototype,fe),z&&p(ve,z),ve}var Q=$(170),X=$(376),W=$(810),O=$(818),P=$(516),F=$(282),B=new X("SIPMessage"),V=function(){function ve(fe,z,de,D,S,q){if(C(this,ve),!fe||!z||!de)return null;D=D||{},this.ua=de,this.headers={},this.method=fe,this.ruri=z,this.body=q,this.extraHeaders=O.cloneArray(S),this.ua.configuration.extra_headers&&(this.extraHeaders=this.extraHeaders.concat(this.ua.configuration.extra_headers)),D.route_set?this.setHeader("route",D.route_set):de.configuration.use_preloaded_route&&this.setHeader("route","<".concat(de.transport.sip_uri,";lr>")),this.setHeader("via",""),this.setHeader("max-forwards",W.MAX_FORWARDS),this.to=new P(D.to_uri||z,typeof D.to_display_name<"u"?D.to_display_name:null,D.to_tag?{tag:D.to_tag}:null),this.setHeader("to",this.to.toString());var K=D.from_uri||de.configuration.uri,b={tag:D.from_tag||O.newTag()};this.from=new P(K,typeof D.from_display_name<"u"?D.from_display_name:de.configuration.display_name?de.configuration.display_name:null,b),this.setHeader("from",this.from.toString());var ne=D.call_id||de.configuration.jssip_id+O.createRandomToken(15);this.call_id=ne,this.setHeader("call-id",ne);var ee=D.cseq||Math.floor(1e4*Math.random());this.cseq=ee,this.setHeader("cseq","".concat(ee," ").concat(fe))}return I(ve,[{key:"setHeader",value:function(z,de){for(var D=new RegExp("^\\s*".concat(z,"\\s*:"),"i"),S=0;S<this.extraHeaders.length;S++)D.test(this.extraHeaders[S])&&this.extraHeaders.splice(S,1);this.headers[O.headerize(z)]=Array.isArray(de)?de:[de]}},{key:"getHeader",value:function(z){var de=this.headers[O.headerize(z)];if(de){if(de[0])return de[0]}else{var q,D=new RegExp("^\\s*".concat(z,"\\s*:"),"i"),S=L(this.extraHeaders);try{for(S.s();!(q=S.n()).done;){var H=q.value;if(D.test(H))return H.substring(H.indexOf(":")+1).trim()}}catch(le){S.e(le)}finally{S.f()}}}},{key:"getHeaders",value:function(z){var de=this.headers[O.headerize(z)],D=[];if(de){var q,S=L(de);try{for(S.s();!(q=S.n()).done;)D.push(q.value)}catch(R){S.e(R)}finally{S.f()}return D}var K,le=new RegExp("^\\s*".concat(z,"\\s*:"),"i"),Y=L(this.extraHeaders);try{for(Y.s();!(K=Y.n()).done;){var b=K.value;le.test(b)&&D.push(b.substring(b.indexOf(":")+1).trim())}}catch(R){Y.e(R)}finally{Y.f()}return D}},{key:"hasHeader",value:function(z){if(this.headers[O.headerize(z)])return!0;var S,de=new RegExp("^\\s*".concat(z,"\\s*:"),"i"),D=L(this.extraHeaders);try{for(D.s();!(S=D.n()).done;)if(de.test(S.value))return!0}catch(H){D.e(H)}finally{D.f()}return!1}},{key:"parseSDP",value:function(z){return!z&&this.sdp||(this.sdp=Q.parse(this.body||"")),this.sdp}},{key:"toString",value:function(){var z="".concat(this.method," ").concat(this.ruri," SIP/2.0\r\n");for(var de in this.headers)if(Object.prototype.hasOwnProperty.call(this.headers,de)){var S,D=L(this.headers[de]);try{for(D.s();!(S=D.n()).done;){var q=S.value;z+="".concat(de,": ").concat(q,"\r\n")}}catch(ne){D.e(ne)}finally{D.f()}}var le,H=L(this.extraHeaders);try{for(H.s();!(le=H.n()).done;)z+="".concat(le.value.trim(),"\r\n")}catch(ne){H.e(ne)}finally{H.f()}var K=[];switch(this.method){case W.REGISTER:K.push("path","gruu");break;case W.INVITE:this.ua.configuration.session_timers&&K.push("timer"),(this.ua.contact.pub_gruu||this.ua.contact.temp_gruu)&&K.push("gruu"),K.push("ice","replaces");break;case W.UPDATE:this.ua.configuration.session_timers&&K.push("timer"),K.push("ice")}K.push("outbound");var b=this.ua.configuration.user_agent||W.USER_AGENT;if(z+="Allow: ".concat(W.ALLOWED_METHODS,"\r\n"),z+="Supported: ".concat(K,"\r\n"),z+="User-Agent: ".concat(b,"\r\n"),this.body){var R=O.str_utf8_length(this.body);z+="Content-Length: ".concat(R,"\r\n\r\n"),z+=this.body}else z+="Content-Length: 0\r\n\r\n";return z}},{key:"clone",value:function(){var z=new ve(this.method,this.ruri,this.ua);return Object.keys(this.headers).forEach(function(de){z.headers[de]=this.headers[de].slice()},this),z.body=this.body,z.extraHeaders=O.cloneArray(this.extraHeaders),z.to=this.to,z.from=this.from,z.call_id=this.call_id,z.cseq=this.cseq,z}}]),ve}(),G=function(ve){we(z,ve);var fe=g(z);function z(de,D,S,q,H){var le;return C(this,z),(le=fe.call(this,W.INVITE,de,D,S,q,H)).transaction=null,le}return I(z,[{key:"cancel",value:function(D){this.transaction.cancel(D)}},{key:"clone",value:function(){var D=new z(this.ruri,this.ua);return Object.keys(this.headers).forEach(function(S){D.headers[S]=this.headers[S].slice()},this),D.body=this.body,D.extraHeaders=O.cloneArray(this.extraHeaders),D.to=this.to,D.from=this.from,D.call_id=this.call_id,D.cseq=this.cseq,D.transaction=this.transaction,D}}]),z}(V),te=function(){function ve(){C(this,ve),this.data=null,this.headers=null,this.method=null,this.via=null,this.via_branch=null,this.call_id=null,this.cseq=null,this.from=null,this.from_tag=null,this.to=null,this.to_tag=null,this.body=null,this.sdp=null}return I(ve,[{key:"addHeader",value:function(z,de){var D={raw:de};z=O.headerize(z),this.headers[z]?this.headers[z].push(D):this.headers[z]=[D]}},{key:"getHeader",value:function(z){var de=this.headers[O.headerize(z)];if(de)return de[0]?de[0].raw:void 0}},{key:"getHeaders",value:function(z){var de=this.headers[O.headerize(z)],D=[];if(!de)return[];var q,S=L(de);try{for(S.s();!(q=S.n()).done;)D.push(q.value.raw)}catch(le){S.e(le)}finally{S.f()}return D}},{key:"hasHeader",value:function(z){return!!this.headers[O.headerize(z)]}},{key:"parseHeader",value:function(z){var de=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(z=O.headerize(z),this.headers[z]){if(!(de>=this.headers[z].length)){var D=this.headers[z][de],S=D.raw;if(D.parsed)return D.parsed;var q=F.parse(S,z.replace(/-/g,"_"));return-1===q?(this.headers[z].splice(de,1),void B.debug('error parsing "'.concat(z,'" header field with value "').concat(S,'"'))):(D.parsed=q,q)}B.debug('not so many "'.concat(z,'" headers present'))}else B.debug('header "'.concat(z,'" not present'))}},{key:"s",value:function(z,de){return this.parseHeader(z,de)}},{key:"setHeader",value:function(z,de){var D={raw:de};this.headers[O.headerize(z)]=[D]}},{key:"parseSDP",value:function(z){return!z&&this.sdp||(this.sdp=Q.parse(this.body||"")),this.sdp}},{key:"toString",value:function(){return this.data}}]),ve}();Ne.exports={OutgoingRequest:V,InitialOutgoingInviteRequest:G,IncomingRequest:function(ve){we(z,ve);var fe=g(z);function z(de){var D;return C(this,z),(D=fe.call(this)).ua=de,D.headers={},D.ruri=null,D.transport=null,D.server_transaction=null,D}return I(z,[{key:"reply",value:function(D,S,q,H,le,Y){var K=[],b=this.getHeader("To");if(S=S||null,!(D=D||null)||D<100||D>699)throw new TypeError("Invalid status_code: ".concat(D));if(S&&"string"!=typeof S&&!(S instanceof String))throw new TypeError("Invalid reason_phrase: ".concat(S));S=S||W.REASON_PHRASE[D]||"",q=O.cloneArray(q),this.ua.configuration.extra_headers&&(q=q.concat(this.ua.configuration.extra_headers));var R="SIP/2.0 ".concat(D," ").concat(S,"\r\n");if(this.method===W.INVITE&&D>100&&D<=200){var ie,ee=L(this.getHeaders("record-route"));try{for(ee.s();!(ie=ee.n()).done;)R+="Record-Route: ".concat(ie.value,"\r\n")}catch(qe){ee.e(qe)}finally{ee.f()}}var ke,Re=L(this.getHeaders("via"));try{for(Re.s();!(ke=Re.n()).done;)R+="Via: ".concat(ke.value,"\r\n")}catch(qe){Re.e(qe)}finally{Re.f()}!this.to_tag&&D>100?b+=";tag=".concat(O.newTag()):this.to_tag&&!this.s("to").hasParam("tag")&&(b+=";tag=".concat(this.to_tag)),R+="To: ".concat(b,"\r\n"),R+="From: ".concat(this.getHeader("From"),"\r\n"),R+="Call-ID: ".concat(this.call_id,"\r\n"),R+="CSeq: ".concat(this.cseq," ").concat(this.method,"\r\n");var at,Ee=L(q);try{for(Ee.s();!(at=Ee.n()).done;)R+="".concat(at.value.trim(),"\r\n")}catch(qe){Ee.e(qe)}finally{Ee.f()}switch(this.method){case W.INVITE:this.ua.configuration.session_timers&&K.push("timer"),(this.ua.contact.pub_gruu||this.ua.contact.temp_gruu)&&K.push("gruu"),K.push("ice","replaces");break;case W.UPDATE:this.ua.configuration.session_timers&&K.push("timer"),H&&K.push("ice"),K.push("replaces")}if(K.push("outbound"),this.method===W.OPTIONS?(R+="Allow: ".concat(W.ALLOWED_METHODS,"\r\n"),R+="Accept: ".concat(W.ACCEPTED_BODY_TYPES,"\r\n")):405===D?R+="Allow: ".concat(W.ALLOWED_METHODS,"\r\n"):415===D&&(R+="Accept: ".concat(W.ACCEPTED_BODY_TYPES,"\r\n")),R+="Supported: ".concat(K,"\r\n"),H){var jt=O.str_utf8_length(H);R+="Content-Type: application/sdp\r\n",R+="Content-Length: ".concat(jt,"\r\n\r\n"),R+=H}else R+="Content-Length: ".concat(0,"\r\n\r\n");this.server_transaction.receiveResponse(D,R,le,Y)}},{key:"reply_sl",value:function(){var D=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,q=this.getHeaders("via");if(!D||D<100||D>699)throw new TypeError("Invalid status_code: ".concat(D));if(S&&"string"!=typeof S&&!(S instanceof String))throw new TypeError("Invalid reason_phrase: ".concat(S));S=S||W.REASON_PHRASE[D]||"";var Y,H="SIP/2.0 ".concat(D," ").concat(S,"\r\n"),le=L(q);try{for(le.s();!(Y=le.n()).done;)H+="Via: ".concat(Y.value,"\r\n")}catch(ie){le.e(ie)}finally{le.f()}var b=this.getHeader("To");if(!this.to_tag&&D>100?b+=";tag=".concat(O.newTag()):this.to_tag&&!this.s("to").hasParam("tag")&&(b+=";tag=".concat(this.to_tag)),H+="To: ".concat(b,"\r\n"),H+="From: ".concat(this.getHeader("From"),"\r\n"),H+="Call-ID: ".concat(this.call_id,"\r\n"),H+="CSeq: ".concat(this.cseq," ").concat(this.method,"\r\n"),this.ua.configuration.extra_headers){var ne,R=L(this.ua.configuration.extra_headers);try{for(R.s();!(ne=R.n()).done;)H+="".concat(ne.value.trim(),"\r\n")}catch(ie){R.e(ie)}finally{R.f()}}H+="Content-Length: ".concat(0,"\r\n\r\n"),this.transport.send(H)}}]),z}(te),IncomingResponse:function(ve){we(z,ve);var fe=g(z);function z(){var de;return C(this,z),(de=fe.call(this)).headers={},de.status_code=null,de.reason_phrase=null,de}return z}(te)}},524:(Ne,Ce,$)=>{"use strict";var re=$(376),we=$(818),Oe=$(282),g=new re("Socket");Ce.isSocket=function(ye){if(Array.isArray(ye))return!1;if(typeof ye>"u")return g.warn("undefined JsSIP.Socket instance"),!1;try{if(!we.isString(ye.url))throw g.warn("missing or invalid JsSIP.Socket url property"),new Error("Missing or invalid JsSIP.Socket url property");if(!we.isString(ye.via_transport))throw g.warn("missing or invalid JsSIP.Socket via_transport property"),new Error("Missing or invalid JsSIP.Socket via_transport property");if(-1===Oe.parse(ye.sip_uri,"SIP_URI"))throw g.warn("missing or invalid JsSIP.Socket sip_uri property"),new Error("missing or invalid JsSIP.Socket sip_uri property")}catch{return!1}try{["connect","disconnect","send"].forEach(function(ue){if(!we.isFunction(ye[ue]))throw g.warn("missing or invalid JsSIP.Socket method: ".concat(ue)),new Error("Missing or invalid JsSIP.Socket method: ".concat(ue))})}catch{return!1}return!0}},231:Ne=>{"use strict";Ne.exports={T1:500,T2:4e3,T4:5e3,TIMER_B:32e3,TIMER_D:0,TIMER_F:32e3,TIMER_H:32e3,TIMER_I:0,TIMER_J:0,TIMER_K:0,TIMER_L:32e3,TIMER_M:32e3,PROVISIONAL_RESPONSE_INTERVAL:6e4}},208:(Ne,Ce,$)=>{"use strict";function re(z){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(z)}function we(z,de){if(!(z instanceof de))throw new TypeError("Cannot call a class as a function")}function Oe(z,de){for(var D=0;D<de.length;D++){var S=de[D];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(z,S.key,S)}}function g(z,de,D){return de&&Oe(z.prototype,de),D&&Oe(z,D),z}function ye(z,de){if("function"!=typeof de&&null!==de)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(de&&de.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),de&&ue(z,de)}function ue(z,de){return(ue=Object.setPrototypeOf||function(S,q){return S.__proto__=q,S})(z,de)}function a(z){var de=function T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var q,S=E(z);if(de){var H=E(this).constructor;q=Reflect.construct(S,arguments,H)}else q=S.apply(this,arguments);return function _(z,de){return!de||"object"!==re(de)&&"function"!=typeof de?L(z):de}(this,q)}}function L(z){if(void 0===z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function E(z){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)})(z)}var C=$(16).EventEmitter,p=$(376),I=$(810),Q=$(795),X=$(231),W=new p("NonInviteClientTransaction"),O=new p("InviteClientTransaction"),P=new p("AckClientTransaction"),F=new p("NonInviteServerTransaction"),B=new p("InviteServerTransaction"),V={STATUS_TRYING:1,STATUS_PROCEEDING:2,STATUS_CALLING:3,STATUS_ACCEPTED:4,STATUS_COMPLETED:5,STATUS_TERMINATED:6,STATUS_CONFIRMED:7,NON_INVITE_CLIENT:"nict",NON_INVITE_SERVER:"nist",INVITE_CLIENT:"ict",INVITE_SERVER:"ist"};Ne.exports={C:V,NonInviteClientTransaction:function(z){ye(D,z);var de=a(D);function D(S,q,H,le){var Y;we(this,D),(Y=de.call(this)).type=V.NON_INVITE_CLIENT,Y.id="z9hG4bK".concat(Math.floor(1e7*Math.random())),Y.ua=S,Y.transport=q,Y.request=H,Y.eventHandlers=le;var K="SIP/2.0/".concat(q.via_transport);return K+=" ".concat(S.configuration.via_host,";branch=").concat(Y.id),Y.request.setHeader("via",K),Y.ua.newTransaction(L(Y)),Y}return g(D,[{key:"stateChanged",value:function(q){this.state=q,this.emit("stateChanged")}},{key:"send",value:function(){var q=this;this.stateChanged(V.STATUS_TRYING),this.F=setTimeout(function(){q.timer_F()},X.TIMER_F),this.transport.send(this.request)||this.onTransportError()}},{key:"onTransportError",value:function(){W.debug("transport error occurred, deleting transaction ".concat(this.id)),clearTimeout(this.F),clearTimeout(this.K),this.stateChanged(V.STATUS_TERMINATED),this.ua.destroyTransaction(this),this.eventHandlers.onTransportError()}},{key:"timer_F",value:function(){W.debug("Timer F expired for transaction ".concat(this.id)),this.stateChanged(V.STATUS_TERMINATED),this.ua.destroyTransaction(this),this.eventHandlers.onRequestTimeout()}},{key:"timer_K",value:function(){this.stateChanged(V.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"receiveResponse",value:function(q){var H=this,le=q.status_code;if(le<200)switch(this.state){case V.STATUS_TRYING:case V.STATUS_PROCEEDING:this.stateChanged(V.STATUS_PROCEEDING),this.eventHandlers.onReceiveResponse(q)}else switch(this.state){case V.STATUS_TRYING:case V.STATUS_PROCEEDING:this.stateChanged(V.STATUS_COMPLETED),clearTimeout(this.F),408===le?this.eventHandlers.onRequestTimeout():this.eventHandlers.onReceiveResponse(q),this.K=setTimeout(function(){H.timer_K()},X.TIMER_K)}}},{key:"C",get:function(){return V}}]),D}(C),InviteClientTransaction:function(z){ye(D,z);var de=a(D);function D(S,q,H,le){var Y;we(this,D),(Y=de.call(this)).type=V.INVITE_CLIENT,Y.id="z9hG4bK".concat(Math.floor(1e7*Math.random())),Y.ua=S,Y.transport=q,Y.request=H,Y.eventHandlers=le,H.transaction=L(Y);var K="SIP/2.0/".concat(q.via_transport);return K+=" ".concat(S.configuration.via_host,";branch=").concat(Y.id),Y.request.setHeader("via",K),Y.ua.newTransaction(L(Y)),Y}return g(D,[{key:"stateChanged",value:function(q){this.state=q,this.emit("stateChanged")}},{key:"send",value:function(){var q=this;this.stateChanged(V.STATUS_CALLING),this.B=setTimeout(function(){q.timer_B()},X.TIMER_B),this.transport.send(this.request)||this.onTransportError()}},{key:"onTransportError",value:function(){clearTimeout(this.B),clearTimeout(this.D),clearTimeout(this.M),this.state!==V.STATUS_ACCEPTED&&(O.debug("transport error occurred, deleting transaction ".concat(this.id)),this.eventHandlers.onTransportError()),this.stateChanged(V.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"timer_M",value:function(){O.debug("Timer M expired for transaction ".concat(this.id)),this.state===V.STATUS_ACCEPTED&&(clearTimeout(this.B),this.stateChanged(V.STATUS_TERMINATED),this.ua.destroyTransaction(this))}},{key:"timer_B",value:function(){O.debug("Timer B expired for transaction ".concat(this.id)),this.state===V.STATUS_CALLING&&(this.stateChanged(V.STATUS_TERMINATED),this.ua.destroyTransaction(this),this.eventHandlers.onRequestTimeout())}},{key:"timer_D",value:function(){O.debug("Timer D expired for transaction ".concat(this.id)),clearTimeout(this.B),this.stateChanged(V.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"sendACK",value:function(q){var H=this,le=new Q.OutgoingRequest(I.ACK,this.request.ruri,this.ua,{route_set:this.request.getHeaders("route"),call_id:this.request.getHeader("call-id"),cseq:this.request.cseq});le.setHeader("from",this.request.getHeader("from")),le.setHeader("via",this.request.getHeader("via")),le.setHeader("to",q.getHeader("to")),this.D=setTimeout(function(){H.timer_D()},X.TIMER_D),this.transport.send(le)}},{key:"cancel",value:function(q){if(this.state===V.STATUS_PROCEEDING){var H=new Q.OutgoingRequest(I.CANCEL,this.request.ruri,this.ua,{route_set:this.request.getHeaders("route"),call_id:this.request.getHeader("call-id"),cseq:this.request.cseq});H.setHeader("from",this.request.getHeader("from")),H.setHeader("via",this.request.getHeader("via")),H.setHeader("to",this.request.getHeader("to")),q&&H.setHeader("reason",q),this.transport.send(H)}}},{key:"receiveResponse",value:function(q){var H=this,le=q.status_code;if(le>=100&&le<=199)switch(this.state){case V.STATUS_CALLING:this.stateChanged(V.STATUS_PROCEEDING),this.eventHandlers.onReceiveResponse(q);break;case V.STATUS_PROCEEDING:this.eventHandlers.onReceiveResponse(q)}else if(le>=200&&le<=299)switch(this.state){case V.STATUS_CALLING:case V.STATUS_PROCEEDING:this.stateChanged(V.STATUS_ACCEPTED),this.M=setTimeout(function(){H.timer_M()},X.TIMER_M),this.eventHandlers.onReceiveResponse(q);break;case V.STATUS_ACCEPTED:this.eventHandlers.onReceiveResponse(q)}else if(le>=300&&le<=699)switch(this.state){case V.STATUS_CALLING:case V.STATUS_PROCEEDING:this.stateChanged(V.STATUS_COMPLETED),this.sendACK(q),this.eventHandlers.onReceiveResponse(q);break;case V.STATUS_COMPLETED:this.sendACK(q)}}},{key:"C",get:function(){return V}}]),D}(C),AckClientTransaction:function(z){ye(D,z);var de=a(D);function D(S,q,H,le){var Y;we(this,D),(Y=de.call(this)).id="z9hG4bK".concat(Math.floor(1e7*Math.random())),Y.transport=q,Y.request=H,Y.eventHandlers=le;var K="SIP/2.0/".concat(q.via_transport);return K+=" ".concat(S.configuration.via_host,";branch=").concat(Y.id),Y.request.setHeader("via",K),Y}return g(D,[{key:"send",value:function(){this.transport.send(this.request)||this.onTransportError()}},{key:"onTransportError",value:function(){P.debug("transport error occurred for transaction ".concat(this.id)),this.eventHandlers.onTransportError()}},{key:"C",get:function(){return V}}]),D}(C),NonInviteServerTransaction:function(z){ye(D,z);var de=a(D);function D(S,q,H){var le;return we(this,D),(le=de.call(this)).type=V.NON_INVITE_SERVER,le.id=H.via_branch,le.ua=S,le.transport=q,le.request=H,le.last_response="",H.server_transaction=L(le),le.state=V.STATUS_TRYING,S.newTransaction(L(le)),le}return g(D,[{key:"stateChanged",value:function(q){this.state=q,this.emit("stateChanged")}},{key:"timer_J",value:function(){F.debug("Timer J expired for transaction ".concat(this.id)),this.stateChanged(V.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"onTransportError",value:function(){this.transportError||(this.transportError=!0,F.debug("transport error occurred, deleting transaction ".concat(this.id)),clearTimeout(this.J),this.stateChanged(V.STATUS_TERMINATED),this.ua.destroyTransaction(this))}},{key:"receiveResponse",value:function(q,H,le,Y){var K=this;if(100===q)switch(this.state){case V.STATUS_TRYING:this.stateChanged(V.STATUS_PROCEEDING),this.transport.send(H)||this.onTransportError();break;case V.STATUS_PROCEEDING:this.last_response=H,this.transport.send(H)?le&&le():(this.onTransportError(),Y&&Y())}else if(q>=200&&q<=699)switch(this.state){case V.STATUS_TRYING:case V.STATUS_PROCEEDING:this.stateChanged(V.STATUS_COMPLETED),this.last_response=H,this.J=setTimeout(function(){K.timer_J()},X.TIMER_J),this.transport.send(H)?le&&le():(this.onTransportError(),Y&&Y())}}},{key:"C",get:function(){return V}}]),D}(C),InviteServerTransaction:function(z){ye(D,z);var de=a(D);function D(S,q,H){var le;return we(this,D),(le=de.call(this)).type=V.INVITE_SERVER,le.id=H.via_branch,le.ua=S,le.transport=q,le.request=H,le.last_response="",H.server_transaction=L(le),le.state=V.STATUS_PROCEEDING,S.newTransaction(L(le)),le.resendProvisionalTimer=null,H.reply(100),le}return g(D,[{key:"stateChanged",value:function(q){this.state=q,this.emit("stateChanged")}},{key:"timer_H",value:function(){B.debug("Timer H expired for transaction ".concat(this.id)),this.state===V.STATUS_COMPLETED&&B.debug("ACK not received, dialog will be terminated"),this.stateChanged(V.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"timer_I",value:function(){this.stateChanged(V.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"timer_L",value:function(){B.debug("Timer L expired for transaction ".concat(this.id)),this.state===V.STATUS_ACCEPTED&&(this.stateChanged(V.STATUS_TERMINATED),this.ua.destroyTransaction(this))}},{key:"onTransportError",value:function(){this.transportError||(this.transportError=!0,B.debug("transport error occurred, deleting transaction ".concat(this.id)),null!==this.resendProvisionalTimer&&(clearInterval(this.resendProvisionalTimer),this.resendProvisionalTimer=null),clearTimeout(this.L),clearTimeout(this.H),clearTimeout(this.I),this.stateChanged(V.STATUS_TERMINATED),this.ua.destroyTransaction(this))}},{key:"resend_provisional",value:function(){this.transport.send(this.last_response)||this.onTransportError()}},{key:"receiveResponse",value:function(q,H,le,Y){var K=this;if(q>=100&&q<=199&&this.state===V.STATUS_PROCEEDING&&(this.transport.send(H)||this.onTransportError(),this.last_response=H),q>100&&q<=199&&this.state===V.STATUS_PROCEEDING)null===this.resendProvisionalTimer&&(this.resendProvisionalTimer=setInterval(function(){K.resend_provisional()},X.PROVISIONAL_RESPONSE_INTERVAL));else if(q>=200&&q<=299)switch(this.state){case V.STATUS_PROCEEDING:this.stateChanged(V.STATUS_ACCEPTED),this.last_response=H,this.L=setTimeout(function(){K.timer_L()},X.TIMER_L),null!==this.resendProvisionalTimer&&(clearInterval(this.resendProvisionalTimer),this.resendProvisionalTimer=null);case V.STATUS_ACCEPTED:this.transport.send(H)?le&&le():(this.onTransportError(),Y&&Y())}else q>=300&&q<=699&&this.state===V.STATUS_PROCEEDING&&(null!==this.resendProvisionalTimer&&(clearInterval(this.resendProvisionalTimer),this.resendProvisionalTimer=null),this.transport.send(H)?(this.stateChanged(V.STATUS_COMPLETED),this.H=setTimeout(function(){K.timer_H()},X.TIMER_H),le&&le()):(this.onTransportError(),Y&&Y()))}},{key:"C",get:function(){return V}}]),D}(C),checkTransaction:function fe(z,de){var S,D=z._transactions;switch(de.method){case I.INVITE:if(S=D.ist[de.via_branch])return S.state===V.STATUS_PROCEEDING&&S.transport.send(S.last_response),!0;break;case I.ACK:if(!(S=D.ist[de.via_branch]))return!1;if(S.state===V.STATUS_ACCEPTED)return!1;if(S.state===V.STATUS_COMPLETED)return S.state=V.STATUS_CONFIRMED,S.I=setTimeout(function(){S.timer_I()},X.TIMER_I),!0;break;case I.CANCEL:return(S=D.ist[de.via_branch])?(de.reply_sl(200),S.state!==V.STATUS_PROCEEDING):(de.reply_sl(481),!0);default:if(S=D.nist[de.via_branch]){switch(S.state){case V.STATUS_TRYING:break;case V.STATUS_PROCEEDING:case V.STATUS_COMPLETED:S.transport.send(S.last_response)}return!0}}}}},493:(Ne,Ce,$)=>{"use strict";function we(L,T){for(var E=0;E<T.length;E++){var C=T[E];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(L,C.key,C)}}var g=$(376),ye=$(524),ue=$(810),a=new g("Transport"),_={STATUS_CONNECTED:0,STATUS_CONNECTING:1,STATUS_DISCONNECTED:2,SOCKET_STATUS_READY:0,SOCKET_STATUS_ERROR:1,recovery_options:{min_interval:ue.CONNECTION_RECOVERY_MIN_INTERVAL,max_interval:ue.CONNECTION_RECOVERY_MAX_INTERVAL}};Ne.exports=function(){function L(T){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.recovery_options;(function re(L,T){if(!(L instanceof T))throw new TypeError("Cannot call a class as a function")})(this,L),a.debug("new()"),this.status=_.STATUS_DISCONNECTED,this.socket=null,this.sockets=[],this.recovery_options=E,this.recover_attempts=0,this.recovery_timer=null,this.close_requested=!1;try{this.textDecoder=new TextDecoder("utf8")}catch(C){a.warn("cannot use TextDecoder: ".concat(C))}if(typeof T>"u")throw new TypeError("Invalid argument. undefined 'sockets' argument");T instanceof Array||(T=[T]),T.forEach(function(C){if(!ye.isSocket(C.socket))throw new TypeError("Invalid argument. invalid 'JsSIP.Socket' instance");if(C.weight&&!Number(C.weight))throw new TypeError("Invalid argument. 'weight' attribute is not a number");this.sockets.push({socket:C.socket,weight:C.weight||0,status:_.SOCKET_STATUS_READY})},this),this._getSocket()}return function Oe(L,T,E){T&&we(L.prototype,T),E&&we(L,E)}(L,[{key:"connect",value:function(){a.debug("connect()"),this.isConnected()?a.debug("Transport is already connected"):this.isConnecting()?a.debug("Transport is connecting"):(this.close_requested=!1,this.status=_.STATUS_CONNECTING,this.onconnecting({socket:this.socket,attempts:this.recover_attempts}),this.close_requested||(this.socket.onconnect=this._onConnect.bind(this),this.socket.ondisconnect=this._onDisconnect.bind(this),this.socket.ondata=this._onData.bind(this),this.socket.connect()))}},{key:"disconnect",value:function(){a.debug("close()"),this.close_requested=!0,this.recover_attempts=0,this.status=_.STATUS_DISCONNECTED,null!==this.recovery_timer&&(clearTimeout(this.recovery_timer),this.recovery_timer=null),this.socket.onconnect=function(){},this.socket.ondisconnect=function(){},this.socket.ondata=function(){},this.socket.disconnect(),this.ondisconnect({socket:this.socket,error:!1})}},{key:"send",value:function(E){if(a.debug("send()"),!this.isConnected())return a.warn("unable to send message, transport is not connected"),!1;var C=E.toString();return a.debug("sending message:\n\n".concat(C,"\n")),this.socket.send(C)}},{key:"isConnected",value:function(){return this.status===_.STATUS_CONNECTED}},{key:"isConnecting",value:function(){return this.status===_.STATUS_CONNECTING}},{key:"_reconnect",value:function(){var E=this;this.recover_attempts+=1;var C=Math.floor(Math.random()*Math.pow(2,this.recover_attempts)+1);C<this.recovery_options.min_interval?C=this.recovery_options.min_interval:C>this.recovery_options.max_interval&&(C=this.recovery_options.max_interval),a.debug("reconnection attempt: ".concat(this.recover_attempts,". next connection attempt in ").concat(C," seconds")),this.recovery_timer=setTimeout(function(){!E.close_requested&&!E.isConnected()&&!E.isConnecting()&&(E._getSocket(),E.connect())},1e3*C)}},{key:"_getSocket",value:function(){var E=[];if(this.sockets.forEach(function(p){p.status!==_.SOCKET_STATUS_ERROR&&(0===E.length?E.push(p):p.weight>E[0].weight?E=[p]:p.weight===E[0].weight&&E.push(p))}),0===E.length)return this.sockets.forEach(function(p){p.status=_.SOCKET_STATUS_READY}),void this._getSocket();var C=Math.floor(Math.random()*E.length);this.socket=E[C].socket}},{key:"_onConnect",value:function(){this.recover_attempts=0,this.status=_.STATUS_CONNECTED,null!==this.recovery_timer&&(clearTimeout(this.recovery_timer),this.recovery_timer=null),this.onconnect({socket:this})}},{key:"_onDisconnect",value:function(E,C,p){this.status=_.STATUS_DISCONNECTED,this.ondisconnect({socket:this.socket,error:E,code:C,reason:p}),!this.close_requested&&(this.sockets.forEach(function(I){this.socket===I.socket&&(I.status=_.SOCKET_STATUS_ERROR)},this),this._reconnect(E))}},{key:"_onData",value:function(E){if("\r\n\r\n"!==E)if("\r\n"!==E){if("string"!=typeof E){try{E=this.textDecoder?this.textDecoder.decode(E):String.fromCharCode.apply(null,new Uint8Array(E))}catch{return void a.debug("received binary message failed to be converted into string, message discarded")}a.debug("received binary message:\n\n".concat(E,"\n"))}else a.debug("received text message:\n\n".concat(E,"\n"));this.ondata({transport:this,message:E})}else a.debug("received message with CRLF Keep Alive response");else{a.debug("received message with double-CRLF Keep Alive request");try{this.socket.send("\r\n")}catch(C){a.warn("error sending Keep Alive response: ".concat(C))}}}},{key:"via_transport",get:function(){return this.socket.via_transport}},{key:"url",get:function(){return this.socket.url}},{key:"sip_uri",get:function(){return this.socket.sip_uri}}]),L}()},301:(Ne,Ce,$)=>{"use strict";function re(H){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Y){return typeof Y}:function(Y){return Y&&"function"==typeof Symbol&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y})(H)}function Oe(H,le){for(var Y=0;Y<le.length;Y++){var K=le[Y];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(H,K.key,K)}}function g(H,le,Y){return le&&Oe(H.prototype,le),Y&&Oe(H,Y),H}function ue(H,le){return(ue=Object.setPrototypeOf||function(K,b){return K.__proto__=b,K})(H,le)}function L(H){if(void 0===H)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}function E(H){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(Y){return Y.__proto__||Object.getPrototypeOf(Y)})(H)}var C=$(16).EventEmitter,p=$(376),I=$(810),Q=$(716),X=$(13),W=$(38),O=$(971),P=$(208),F=$(493),B=$(818),V=$(910),G=$(344),te=$(39),j=$(795),oe=$(913),ve=$(138),fe=new p("UA"),z={STATUS_INIT:0,STATUS_READY:1,STATUS_USER_CLOSED:2,STATUS_NOT_READY:3,CONFIGURATION_ERROR:1,NETWORK_ERROR:2};function de(H){this.emit("connecting",H)}function D(H){this._status!==z.STATUS_USER_CLOSED&&(this._status=z.STATUS_READY,this._error=null,this.emit("connected",H),this._dynConfiguration.register&&this._registrator.register())}function S(H){for(var Y=0,K=["nict","ict","nist","ist"];Y<K.length;Y++){var b=K[Y];for(var R in this._transactions[b])Object.prototype.hasOwnProperty.call(this._transactions[b],R)&&this._transactions[b][R].onTransportError()}this.emit("disconnected",H),this._registrator.onTransportClosed(),this._status!==z.STATUS_USER_CLOSED&&(this._status=z.STATUS_NOT_READY,this._error=z.NETWORK_ERROR)}function q(H){var le=H.transport,Y=H.message;if((Y=te.parseMessage(Y,this))&&!(this._status===z.STATUS_USER_CLOSED&&Y instanceof j.IncomingRequest)&&oe(Y,this,le))if(Y instanceof j.IncomingRequest)Y.transport=le,this.receiveRequest(Y);else if(Y instanceof j.IncomingResponse){var K;switch(Y.method){case I.INVITE:(K=this._transactions.ict[Y.via_branch])&&K.receiveResponse(Y);break;case I.ACK:break;default:(K=this._transactions.nict[Y.via_branch])&&K.receiveResponse(Y)}}}Ne.exports=function(H){!function ye(H,le){if("function"!=typeof le&&null!==le)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(le&&le.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),le&&ue(H,le)}(Y,H);var le=function a(H){var le=function T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var b,K=E(H);if(le){var R=E(this).constructor;b=Reflect.construct(K,arguments,R)}else b=K.apply(this,arguments);return function _(H,le){return!le||"object"!==re(le)&&"function"!=typeof le?L(H):le}(this,b)}}(Y);function Y(K){var b;if(function we(H,le){if(!(H instanceof le))throw new TypeError("Cannot call a class as a function")}(this,Y),fe.debug("new() [configuration:%o]",K),(b=le.call(this))._cache={credentials:{}},b._configuration=Object.assign({},ve.settings),b._dynConfiguration={},b._dialogs={},b._applicants={},b._sessions={},b._transport=null,b._contact=null,b._status=z.STATUS_INIT,b._error=null,b._transactions={nist:{},nict:{},ist:{},ict:{}},b._data={},b._closeTimer=null,void 0===K)throw new TypeError("Not enough arguments");try{b._loadConfig(K)}catch(R){throw b._status=z.STATUS_NOT_READY,b._error=z.CONFIGURATION_ERROR,R}return b._registrator=new Q(L(b)),b}return g(Y,null,[{key:"C",get:function(){return z}}]),g(Y,[{key:"start",value:function(){fe.debug("start()"),this._status===z.STATUS_INIT?this._transport.connect():this._status===z.STATUS_USER_CLOSED?(fe.debug("restarting UA"),null!==this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null,this._transport.disconnect()),this._status=z.STATUS_INIT,this._transport.connect()):fe.debug(this._status===z.STATUS_READY?"UA is in READY status, not restarted":"ERROR: connection is down, Auto-Recovery system is trying to reconnect"),this._dynConfiguration.register=this._configuration.register}},{key:"register",value:function(){fe.debug("register()"),this._dynConfiguration.register=!0,this._registrator.register()}},{key:"unregister",value:function(b){fe.debug("unregister()"),this._dynConfiguration.register=!1,this._registrator.unregister(b)}},{key:"registrator",value:function(){return this._registrator}},{key:"isRegistered",value:function(){return this._registrator.registered}},{key:"isConnected",value:function(){return this._transport.isConnected()}},{key:"call",value:function(b,R){fe.debug("call()");var ne=new X(this);return ne.connect(b,R),ne}},{key:"sendMessage",value:function(b,R,ne){fe.debug("sendMessage()");var ee=new W(this);return ee.send(b,R,ne),ee}},{key:"sendOptions",value:function(b,R,ne){fe.debug("sendOptions()");var ee=new O(this);return ee.send(b,R,ne),ee}},{key:"terminateSessions",value:function(b){for(var R in fe.debug("terminateSessions()"),this._sessions)this._sessions[R].isEnded()||this._sessions[R].terminate(b)}},{key:"stop",value:function(){var b=this;if(fe.debug("stop()"),this._dynConfiguration={},this._status!==z.STATUS_USER_CLOSED){this._registrator.close();var R=Object.keys(this._sessions).length;for(var ne in this._sessions)if(Object.prototype.hasOwnProperty.call(this._sessions,ne)){fe.debug("closing session ".concat(ne));try{this._sessions[ne].terminate()}catch{}}for(var ee in this._applicants)if(Object.prototype.hasOwnProperty.call(this._applicants,ee))try{this._applicants[ee].close()}catch{}this._status=z.STATUS_USER_CLOSED,0===Object.keys(this._transactions.nict).length+Object.keys(this._transactions.nist).length+Object.keys(this._transactions.ict).length+Object.keys(this._transactions.ist).length&&0===R?this._transport.disconnect():this._closeTimer=setTimeout(function(){b._closeTimer=null,b._transport.disconnect()},2e3)}else fe.debug("UA already closed")}},{key:"normalizeTarget",value:function(b){return B.normalizeTarget(b,this._configuration.hostport_params)}},{key:"get",value:function(b){switch(b){case"authorization_user":return this._configuration.authorization_user;case"realm":return this._configuration.realm;case"ha1":return this._configuration.ha1;case"authorization_jwt":return this._configuration.authorization_jwt;default:return void fe.warn('get() | cannot get "%s" parameter in runtime',b)}}},{key:"set",value:function(b,R){switch(b){case"authorization_user":this._configuration.authorization_user=String(R);break;case"password":this._configuration.password=String(R);break;case"realm":this._configuration.realm=String(R);break;case"ha1":this._configuration.ha1=String(R),this._configuration.password=null;break;case"authorization_jwt":this._configuration.authorization_jwt=String(R);break;case"display_name":this._configuration.display_name=R;break;case"extra_headers":this._configuration.extra_headers=R;break;default:return fe.warn('set() | cannot set "%s" parameter in runtime',b),!1}return!0}},{key:"newTransaction",value:function(b){this._transactions[b.type][b.id]=b,this.emit("newTransaction",{transaction:b})}},{key:"destroyTransaction",value:function(b){delete this._transactions[b.type][b.id],this.emit("transactionDestroyed",{transaction:b})}},{key:"newDialog",value:function(b){this._dialogs[b.id]=b}},{key:"destroyDialog",value:function(b){delete this._dialogs[b.id]}},{key:"newMessage",value:function(b,R){this._applicants[b]=b,this.emit("newMessage",R)}},{key:"newOptions",value:function(b,R){this._applicants[b]=b,this.emit("newOptions",R)}},{key:"destroyMessage",value:function(b){delete this._applicants[b]}},{key:"newRTCSession",value:function(b,R){this._sessions[b.id]=b,this.emit("newRTCSession",R)}},{key:"destroyRTCSession",value:function(b){delete this._sessions[b.id]}},{key:"registered",value:function(b){this.emit("registered",b)}},{key:"unregistered",value:function(b){this.emit("unregistered",b)}},{key:"registrationFailed",value:function(b){this.emit("registrationFailed",b)}},{key:"receiveRequest",value:function(b){var R=b.method;if(b.ruri.user!==this._configuration.uri.user&&b.ruri.user!==this._contact.uri.user)return fe.debug("Request-URI does not point to us"),void(b.method!==I.ACK&&b.reply_sl(404));if(b.ruri.scheme!==I.SIPS){if(!P.checkTransaction(this,b)){if(R===I.INVITE?new P.InviteServerTransaction(this,this._transport,b):R!==I.ACK&&R!==I.CANCEL&&new P.NonInviteServerTransaction(this,this._transport,b),R===I.OPTIONS){if(0===this.listeners("newOptions").length)return void b.reply(200);new O(this).init_incoming(b)}else if(R===I.MESSAGE){if(0===this.listeners("newMessage").length)return void b.reply(405);new W(this).init_incoming(b)}else if(R===I.INVITE&&!b.to_tag&&0===this.listeners("newRTCSession").length)return void b.reply(405);var ie,me;if(b.to_tag)(ie=this._findDialog(b.call_id,b.from_tag,b.to_tag))?ie.receiveRequest(b):R===I.NOTIFY?(me=this._findSession(b))?me.receiveRequest(b):(fe.debug("received NOTIFY request for a non existent subscription"),b.reply(481,"Subscription does not exist")):R!==I.ACK&&b.reply(481);else switch(R){case I.INVITE:if(window.RTCPeerConnection)if(b.hasHeader("replaces")){var Se=b.replaces;(ie=this._findDialog(Se.call_id,Se.from_tag,Se.to_tag))?(me=ie.owner).isEnded()?b.reply(603):me.receiveRequest(b):b.reply(481)}else(me=new X(this)).init_incoming(b);else fe.warn("INVITE received but WebRTC is not supported"),b.reply(488);break;case I.BYE:b.reply(481);break;case I.CANCEL:(me=this._findSession(b))?me.receiveRequest(b):fe.debug("received CANCEL request for a non existent session");break;case I.ACK:break;case I.NOTIFY:this.emit("sipEvent",{event:b.event,request:b}),b.reply(200);break;default:b.reply(405)}}}else b.reply_sl(416)}},{key:"_findSession",value:function(b){var R=b.call_id;return this._sessions[R+b.from_tag]||this._sessions[R+b.to_tag]||null}},{key:"_findDialog",value:function(b,R,ne){var ee=b+R+ne,ie=this._dialogs[ee];return ie||(ie=this._dialogs[ee=b+ne+R])||null}},{key:"_loadConfig",value:function(b){try{ve.load(this._configuration,b)}catch(Se){throw Se}0===this._configuration.display_name&&(this._configuration.display_name="0"),this._configuration.instance_id||(this._configuration.instance_id=B.newUUID()),this._configuration.jssip_id=B.createRandomToken(5);var R=this._configuration.uri.clone();R.user=null,this._configuration.hostport_params=R.toString().replace(/^sip:/i,"");try{this._transport=new F(this._configuration.sockets,{max_interval:this._configuration.connection_recovery_max_interval,min_interval:this._configuration.connection_recovery_min_interval}),this._transport.onconnecting=de.bind(this),this._transport.onconnect=D.bind(this),this._transport.ondisconnect=S.bind(this),this._transport.ondata=q.bind(this)}catch(Se){throw fe.warn(Se),new V.ConfigurationError("sockets",this._configuration.sockets)}if(delete this._configuration.sockets,this._configuration.authorization_user||(this._configuration.authorization_user=this._configuration.uri.user),!this._configuration.registrar_server){var ne=this._configuration.uri.clone();ne.user=null,ne.clearParams(),ne.clearHeaders(),this._configuration.registrar_server=ne}this._configuration.no_answer_timeout*=1e3,this._configuration.contact_uri?this._configuration.via_host=this._configuration.contact_uri.host:this._configuration.contact_uri=new G("sip",B.createRandomToken(8),this._configuration.via_host,null,{transport:"ws"}),this._contact={pub_gruu:null,temp_gruu:null,uri:this._configuration.contact_uri,toString:function(){var Re=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ke=Re.anonymous||null,Me=Re.outbound||null,Ee="<";return Ee+=ke?this.temp_gruu||"sip:anonymous@anonymous.invalid;transport=ws":this.pub_gruu||this.uri.toString(),Me&&(ke?!this.temp_gruu:!this.pub_gruu)&&(Ee+=";ob"),Ee+">"}};var ee=["authorization_user","password","realm","ha1","authorization_jwt","display_name","register","extra_headers"];for(var ie in this._configuration)Object.prototype.hasOwnProperty.call(this._configuration,ie)&&(-1!==ee.indexOf(ie)?Object.defineProperty(this._configuration,ie,{writable:!0,configurable:!1}):Object.defineProperty(this._configuration,ie,{writable:!1,configurable:!1}));for(var me in fe.debug("configuration parameters after validation:"),this._configuration)if(Object.prototype.hasOwnProperty.call(ve.settings,me))switch(me){case"uri":case"registrar_server":fe.debug("- ".concat(me,": ").concat(this._configuration[me]));break;case"password":case"ha1":case"authorization_jwt":fe.debug("- ".concat(me,": NOT SHOWN"));break;default:fe.debug("- ".concat(me,": ").concat(JSON.stringify(this._configuration[me])))}}},{key:"C",get:function(){return z}},{key:"status",get:function(){return this._status}},{key:"contact",get:function(){return this._contact}},{key:"configuration",get:function(){return this._configuration}},{key:"transport",get:function(){return this._transport}}]),Y}(C)},344:(Ne,Ce,$)=>{"use strict";function re(T,E){var C;if(typeof Symbol>"u"||null==T[Symbol.iterator]){if(Array.isArray(T)||(C=function we(T,E){if(T){if("string"==typeof T)return Oe(T,E);var C=Object.prototype.toString.call(T).slice(8,-1);if("Object"===C&&T.constructor&&(C=T.constructor.name),"Map"===C||"Set"===C)return Array.from(T);if("Arguments"===C||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return Oe(T,E)}}(T))||E&&T&&"number"==typeof T.length){C&&(T=C);var p=0,I=function(){};return{s:I,n:function(){return p>=T.length?{done:!0}:{done:!1,value:T[p++]}},e:function(P){throw P},f:I}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var W,Q=!0,X=!1;return{s:function(){C=T[Symbol.iterator]()},n:function(){var P=C.next();return Q=P.done,P},e:function(P){X=!0,W=P},f:function(){try{!Q&&null!=C.return&&C.return()}finally{if(X)throw W}}}}function Oe(T,E){(null==E||E>T.length)&&(E=T.length);for(var C=0,p=new Array(E);C<E;C++)p[C]=T[C];return p}function ye(T,E){for(var C=0;C<E.length;C++){var p=E[C];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(T,p.key,p)}}function ue(T,E,C){return E&&ye(T.prototype,E),C&&ye(T,C),T}var a=$(810),_=$(818),L=$(282);Ne.exports=function(){function T(E,C,p,I){var Q=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},X=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(function g(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")}(this,T),!p)throw new TypeError('missing or invalid "host" parameter');for(var W in this._parameters={},this._headers={},this._scheme=E||a.SIP,this._user=C,this._host=p,this._port=I,Q)Object.prototype.hasOwnProperty.call(Q,W)&&this.setParam(W,Q[W]);for(var O in X)Object.prototype.hasOwnProperty.call(X,O)&&this.setHeader(O,X[O])}return ue(T,null,[{key:"parse",value:function(C){if(-1!==(C=L.parse(C,"SIP_URI")))return C}}]),ue(T,[{key:"setParam",value:function(C,p){C&&(this._parameters[C.toLowerCase()]=typeof p>"u"||null===p?null:p.toString())}},{key:"getParam",value:function(C){if(C)return this._parameters[C.toLowerCase()]}},{key:"hasParam",value:function(C){if(C)return!!this._parameters.hasOwnProperty(C.toLowerCase())}},{key:"deleteParam",value:function(C){if(C=C.toLowerCase(),this._parameters.hasOwnProperty(C)){var p=this._parameters[C];return delete this._parameters[C],p}}},{key:"clearParams",value:function(){this._parameters={}}},{key:"setHeader",value:function(C,p){this._headers[_.headerize(C)]=Array.isArray(p)?p:[p]}},{key:"getHeader",value:function(C){if(C)return this._headers[_.headerize(C)]}},{key:"hasHeader",value:function(C){if(C)return!!this._headers.hasOwnProperty(_.headerize(C))}},{key:"deleteHeader",value:function(C){if(C=_.headerize(C),this._headers.hasOwnProperty(C)){var p=this._headers[C];return delete this._headers[C],p}}},{key:"clearHeaders",value:function(){this._headers={}}},{key:"clone",value:function(){return new T(this._scheme,this._user,this._host,this._port,JSON.parse(JSON.stringify(this._parameters)),JSON.parse(JSON.stringify(this._headers)))}},{key:"toString",value:function(){var C=[],p="".concat(this._scheme,":");for(var I in this._user&&(p+="".concat(_.escapeUser(this._user),"@")),p+=this._host,(this._port||0===this._port)&&(p+=":".concat(this._port)),this._parameters)Object.prototype.hasOwnProperty.call(this._parameters,I)&&(p+=";".concat(I),null!==this._parameters[I]&&(p+="=".concat(this._parameters[I])));for(var Q in this._headers)if(Object.prototype.hasOwnProperty.call(this._headers,Q)){var W,X=re(this._headers[Q]);try{for(X.s();!(W=X.n()).done;){var O=W.value;C.push("".concat(Q,"=").concat(O))}}catch(P){X.e(P)}finally{X.f()}}return C.length>0&&(p+="?".concat(C.join("&"))),p}},{key:"toAor",value:function(C){var p="".concat(this._scheme,":");return this._user&&(p+="".concat(_.escapeUser(this._user),"@")),p+=this._host,C&&(this._port||0===this._port)&&(p+=":".concat(this._port)),p}},{key:"scheme",get:function(){return this._scheme},set:function(C){this._scheme=C.toLowerCase()}},{key:"user",get:function(){return this._user},set:function(C){this._user=C}},{key:"host",get:function(){return this._host},set:function(C){this._host=C.toLowerCase()}},{key:"port",get:function(){return this._port},set:function(C){this._port=0===C?C:parseInt(C,10)||null}}]),T}()},818:(Ne,Ce,$)=>{"use strict";function re(E){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(E)}function we(E,C){var p;if(typeof Symbol>"u"||null==E[Symbol.iterator]){if(Array.isArray(E)||(p=function Oe(E,C){if(E){if("string"==typeof E)return g(E,C);var p=Object.prototype.toString.call(E).slice(8,-1);if("Object"===p&&E.constructor&&(p=E.constructor.name),"Map"===p||"Set"===p)return Array.from(E);if("Arguments"===p||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return g(E,C)}}(E))||C&&E&&"number"==typeof E.length){p&&(E=p);var I=0,Q=function(){};return{s:Q,n:function(){return I>=E.length?{done:!0}:{done:!1,value:E[I++]}},e:function(F){throw F},f:Q}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var O,X=!0,W=!1;return{s:function(){p=E[Symbol.iterator]()},n:function(){var F=p.next();return X=F.done,F},e:function(F){W=!0,O=F},f:function(){try{!X&&null!=p.return&&p.return()}finally{if(W)throw O}}}}function g(E,C){(null==C||C>E.length)&&(C=E.length);for(var p=0,I=new Array(C);p<C;p++)I[p]=E[p];return I}var ye=$(810),ue=$(344),a=$(282);Ce.str_utf8_length=function(E){return unescape(encodeURIComponent(E)).length};var _=Ce.isFunction=function(E){return void 0!==E&&"[object Function]"===Object.prototype.toString.call(E)};Ce.isString=function(E){return void 0!==E&&"[object String]"===Object.prototype.toString.call(E)},Ce.isDecimal=function(E){return!isNaN(E)&&parseFloat(E)===parseInt(E,10)},Ce.isEmpty=function(E){return null===E||""===E||void 0===E||Array.isArray(E)&&0===E.length||"number"==typeof E&&isNaN(E)},Ce.hasMethods=function(E){for(var C=arguments.length,p=new Array(C>1?C-1:0),I=1;I<C;I++)p[I-1]=arguments[I];for(var Q=0,X=p;Q<X.length;Q++)if(_(E[X[Q]]))return!1;return!0};var L=Ce.createRandomToken=function(E){var p,C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,Q="";for(p=0;p<E;p++)Q+=(Math.random()*C|0).toString(C);return Q};Ce.newTag=function(){return L(10)},Ce.newUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(C){var p=16*Math.random()|0;return("x"===C?p:3&p|8).toString(16)})},Ce.hostType=function(E){if(E)return-1!==(E=a.parse(E,"host"))?E.host_type:void 0};var T=Ce.escapeUser=function(E){return encodeURIComponent(decodeURIComponent(E)).replace(/%3A/gi,":").replace(/%2B/gi,"+").replace(/%3F/gi,"?").replace(/%2F/gi,"/")};Ce.normalizeTarget=function(E,C){if(E){if(E instanceof ue)return E;if("string"==typeof E){var I,Q,X,p=E.split("@");switch(p.length){case 1:if(!C)return;I=E,Q=C;break;case 2:I=p[0],Q=p[1];break;default:I=p.slice(0,p.length-1).join("@"),Q=p[p.length-1]}return I=I.replace(/^(sips?|tel):/i,""),/^[-.()]*\+?[0-9\-.()]+$/.test(I)&&(I=I.replace(/[-.()]/g,"")),E="".concat(ye.SIP,":").concat(T(I),"@").concat(Q),(X=ue.parse(E))?X:void 0}}},Ce.headerize=function(E){var X,C={"Call-Id":"Call-ID",Cseq:"CSeq","Www-Authenticate":"WWW-Authenticate"},p=E.toLowerCase().replace(/_/g,"-").split("-"),I="",Q=p.length;for(X=0;X<Q;X++)0!==X&&(I+="-"),I+=p[X].charAt(0).toUpperCase()+p[X].substring(1);return C[I]&&(I=C[I]),I},Ce.sipErrorCause=function(E){for(var C in ye.SIP_ERROR_CAUSES)if(-1!==ye.SIP_ERROR_CAUSES[C].indexOf(E))return ye.causes[C];return ye.causes.SIP_FAILURE_CODE},Ce.getRandomTestNetIP=function(){return"192.0.2.".concat(function E(C,p){return Math.floor(Math.random()*(p-C+1)+C)}(1,254))},Ce.calculateMD5=function(E){function C(qe,$e){return qe<<$e|qe>>>32-$e}function p(qe,$e){var tt=2147483648&qe,lt=2147483648&$e,yt=1073741824&qe,St=1073741824&$e,gt=(1073741823&qe)+(1073741823&$e);return yt&St?2147483648^gt^tt^lt:yt|St?1073741824&gt?3221225472^gt^tt^lt:1073741824^gt^tt^lt:gt^tt^lt}function O(qe,$e,tt,lt,yt,St,gt){return qe=p(qe,p(p(function I(qe,$e,tt){return qe&$e|~qe&tt}($e,tt,lt),yt),gt)),p(C(qe,St),$e)}function P(qe,$e,tt,lt,yt,St,gt){return qe=p(qe,p(p(function Q(qe,$e,tt){return qe&tt|$e&~tt}($e,tt,lt),yt),gt)),p(C(qe,St),$e)}function F(qe,$e,tt,lt,yt,St,gt){return qe=p(qe,p(p(function X(qe,$e,tt){return qe^$e^tt}($e,tt,lt),yt),gt)),p(C(qe,St),$e)}function B(qe,$e,tt,lt,yt,St,gt){return qe=p(qe,p(p(function W(qe,$e,tt){return $e^(qe|~tt)}($e,tt,lt),yt),gt)),p(C(qe,St),$e)}function G(qe){var yt,$e="",tt="";for(yt=0;yt<=3;yt++)$e+=(tt="0".concat((qe>>>8*yt&255).toString(16))).substr(tt.length-2,2);return $e}var j,oe,ve,fe,z,de,D,S,q,H;for(j=function V(qe){for(var $e,tt=qe.length,lt=tt+8,St=16*((lt-lt%64)/64+1),gt=new Array(St-1),Xn=0,$t=0;$t<tt;)Xn=$t%4*8,gt[$e=($t-$t%4)/4]=gt[$e]|qe.charCodeAt($t)<<Xn,$t++;return gt[$e=($t-$t%4)/4]=gt[$e]|128<<(Xn=$t%4*8),gt[St-2]=tt<<3,gt[St-1]=tt>>>29,gt}(E=function te(qe){for(var $e="",tt=0;tt<qe.length;tt++){var lt=qe.charCodeAt(tt);lt<128?$e+=String.fromCharCode(lt):lt>127&&lt<2048?($e+=String.fromCharCode(lt>>6|192),$e+=String.fromCharCode(63&lt|128)):($e+=String.fromCharCode(lt>>12|224),$e+=String.fromCharCode(lt>>6&63|128),$e+=String.fromCharCode(63&lt|128))}return $e}(E)),D=1732584193,S=4023233417,q=2562383102,H=271733878,oe=0;oe<j.length;oe+=16)ve=D,fe=S,z=q,de=H,D=O(D,S,q,H,j[oe+0],7,3614090360),H=O(H,D,S,q,j[oe+1],12,3905402710),q=O(q,H,D,S,j[oe+2],17,606105819),S=O(S,q,H,D,j[oe+3],22,3250441966),D=O(D,S,q,H,j[oe+4],7,4118548399),H=O(H,D,S,q,j[oe+5],12,1200080426),q=O(q,H,D,S,j[oe+6],17,2821735955),S=O(S,q,H,D,j[oe+7],22,4249261313),D=O(D,S,q,H,j[oe+8],7,1770035416),H=O(H,D,S,q,j[oe+9],12,2336552879),q=O(q,H,D,S,j[oe+10],17,4294925233),S=O(S,q,H,D,j[oe+11],22,2304563134),D=O(D,S,q,H,j[oe+12],7,1804603682),H=O(H,D,S,q,j[oe+13],12,4254626195),q=O(q,H,D,S,j[oe+14],17,2792965006),D=P(D,S=O(S,q,H,D,j[oe+15],22,1236535329),q,H,j[oe+1],5,4129170786),H=P(H,D,S,q,j[oe+6],9,3225465664),q=P(q,H,D,S,j[oe+11],14,643717713),S=P(S,q,H,D,j[oe+0],20,3921069994),D=P(D,S,q,H,j[oe+5],5,3593408605),H=P(H,D,S,q,j[oe+10],9,38016083),q=P(q,H,D,S,j[oe+15],14,3634488961),S=P(S,q,H,D,j[oe+4],20,3889429448),D=P(D,S,q,H,j[oe+9],5,568446438),H=P(H,D,S,q,j[oe+14],9,3275163606),q=P(q,H,D,S,j[oe+3],14,4107603335),S=P(S,q,H,D,j[oe+8],20,1163531501),D=P(D,S,q,H,j[oe+13],5,2850285829),H=P(H,D,S,q,j[oe+2],9,4243563512),q=P(q,H,D,S,j[oe+7],14,1735328473),D=F(D,S=P(S,q,H,D,j[oe+12],20,2368359562),q,H,j[oe+5],4,4294588738),H=F(H,D,S,q,j[oe+8],11,2272392833),q=F(q,H,D,S,j[oe+11],16,1839030562),S=F(S,q,H,D,j[oe+14],23,4259657740),D=F(D,S,q,H,j[oe+1],4,2763975236),H=F(H,D,S,q,j[oe+4],11,1272893353),q=F(q,H,D,S,j[oe+7],16,4139469664),S=F(S,q,H,D,j[oe+10],23,3200236656),D=F(D,S,q,H,j[oe+13],4,681279174),H=F(H,D,S,q,j[oe+0],11,3936430074),q=F(q,H,D,S,j[oe+3],16,3572445317),S=F(S,q,H,D,j[oe+6],23,76029189),D=F(D,S,q,H,j[oe+9],4,3654602809),H=F(H,D,S,q,j[oe+12],11,3873151461),q=F(q,H,D,S,j[oe+15],16,530742520),D=B(D,S=F(S,q,H,D,j[oe+2],23,3299628645),q,H,j[oe+0],6,4096336452),H=B(H,D,S,q,j[oe+7],10,1126891415),q=B(q,H,D,S,j[oe+14],15,2878612391),S=B(S,q,H,D,j[oe+5],21,4237533241),D=B(D,S,q,H,j[oe+12],6,1700485571),H=B(H,D,S,q,j[oe+3],10,2399980690),q=B(q,H,D,S,j[oe+10],15,4293915773),S=B(S,q,H,D,j[oe+1],21,2240044497),D=B(D,S,q,H,j[oe+8],6,1873313359),H=B(H,D,S,q,j[oe+15],10,4264355552),q=B(q,H,D,S,j[oe+6],15,2734768916),S=B(S,q,H,D,j[oe+13],21,1309151649),D=B(D,S,q,H,j[oe+4],6,4149444226),H=B(H,D,S,q,j[oe+11],10,3174756917),q=B(q,H,D,S,j[oe+2],15,718787259),S=B(S,q,H,D,j[oe+9],21,3951481745),D=p(D,ve),S=p(S,fe),q=p(q,z),H=p(H,de);return(G(D)+G(S)+G(q)+G(H)).toLowerCase()},Ce.closeMediaStream=function(E){if(E)try{if(E.getTracks){var I,p=we(E.getTracks());try{for(p.s();!(I=p.n()).done;)I.value.stop()}catch(V){p.e(V)}finally{p.f()}}else{var W,X=we(E.getAudioTracks());try{for(X.s();!(W=X.n()).done;)W.value.stop()}catch(V){X.e(V)}finally{X.f()}var F,P=we(E.getVideoTracks());try{for(P.s();!(F=P.n()).done;)F.value.stop()}catch(V){P.e(V)}finally{P.f()}}}catch{("function"==typeof E.stop||"object"===re(E.stop))&&E.stop()}},Ce.cloneArray=function(E){return E&&E.slice()||[]},Ce.cloneObject=function(E){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return E&&Object.assign({},E)||C}},939:(Ne,Ce,$)=>{"use strict";function we(a,_){for(var L=0;L<_.length;L++){var T=_[L];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(a,T.key,T)}}var g=$(376),ye=$(282),ue=new g("WebSocketInterface");Ne.exports=function(){function a(_){(function re(a,_){if(!(a instanceof _))throw new TypeError("Cannot call a class as a function")})(this,a),ue.debug('new() [url:"%s"]',_),this._url=_,this._sip_uri=null,this._via_transport=null,this._ws=null;var L=ye.parse(_,"absoluteURI");if(-1===L)throw ue.warn("invalid WebSocket URI: ".concat(_)),new TypeError("Invalid argument: ".concat(_));if("wss"!==L.scheme&&"ws"!==L.scheme)throw ue.warn("invalid WebSocket URI scheme: ".concat(L.scheme)),new TypeError("Invalid argument: ".concat(_));this._sip_uri="sip:".concat(L.host).concat(L.port?":".concat(L.port):"",";transport=ws"),this._via_transport=L.scheme.toUpperCase()}return function Oe(a,_,L){_&&we(a.prototype,_),L&&we(a,L)}(a,[{key:"connect",value:function(){if(ue.debug("connect()"),this.isConnected())ue.debug("WebSocket ".concat(this._url," is already connected"));else if(this.isConnecting())ue.debug("WebSocket ".concat(this._url," is connecting"));else{this._ws&&this.disconnect(),ue.debug("connecting to WebSocket ".concat(this._url));try{this._ws=new WebSocket(this._url,"sip"),this._ws.binaryType="arraybuffer",this._ws.onopen=this._onOpen.bind(this),this._ws.onclose=this._onClose.bind(this),this._ws.onmessage=this._onMessage.bind(this),this._ws.onerror=this._onError.bind(this)}catch(L){this._onError(L)}}}},{key:"disconnect",value:function(){ue.debug("disconnect()"),this._ws&&(this._ws.onopen=function(){},this._ws.onclose=function(){},this._ws.onmessage=function(){},this._ws.onerror=function(){},this._ws.close(),this._ws=null)}},{key:"send",value:function(L){return ue.debug("send()"),this.isConnected()?(this._ws.send(L),!0):(ue.warn("unable to send message, WebSocket is not open"),!1)}},{key:"isConnected",value:function(){return this._ws&&this._ws.readyState===this._ws.OPEN}},{key:"isConnecting",value:function(){return this._ws&&this._ws.readyState===this._ws.CONNECTING}},{key:"_onOpen",value:function(){ue.debug("WebSocket ".concat(this._url," connected")),this.onconnect()}},{key:"_onClose",value:function(L){var T=L.wasClean,E=L.code,C=L.reason;ue.debug("WebSocket ".concat(this._url," closed")),!1===T&&ue.debug("WebSocket abrupt disconnection"),this.ondisconnect(!T,E,C)}},{key:"_onMessage",value:function(L){var T=L.data;ue.debug("received WebSocket message"),this.ondata(T)}},{key:"_onError",value:function(L){ue.warn("WebSocket ".concat(this._url," error: "),L)}},{key:"via_transport",get:function(){return this._via_transport},set:function(L){this._via_transport=L.toUpperCase()}},{key:"sip_uri",get:function(){return this._sip_uri}},{key:"url",get:function(){return this._url}}]),a}()},913:(Ne,Ce,$)=>{"use strict";function re(G,te){var j;if(typeof Symbol>"u"||null==G[Symbol.iterator]){if(Array.isArray(G)||(j=function we(G,te){if(G){if("string"==typeof G)return Oe(G,te);var j=Object.prototype.toString.call(G).slice(8,-1);if("Object"===j&&G.constructor&&(j=G.constructor.name),"Map"===j||"Set"===j)return Array.from(G);if("Arguments"===j||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j))return Oe(G,te)}}(G))||te&&G&&"number"==typeof G.length){j&&(G=j);var oe=0,ve=function(){};return{s:ve,n:function(){return oe>=G.length?{done:!0}:{done:!1,value:G[oe++]}},e:function(S){throw S},f:ve}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var de,fe=!0,z=!1;return{s:function(){j=G[Symbol.iterator]()},n:function(){var S=j.next();return fe=S.done,S},e:function(S){z=!0,de=S},f:function(){try{!fe&&null!=j.return&&j.return()}finally{if(z)throw de}}}}function Oe(G,te){(null==te||te>G.length)&&(te=G.length);for(var j=0,oe=new Array(te);j<te;j++)oe[j]=G[j];return oe}var C,p,I,g=$(376),ye=$(810),ue=$(795),a=$(818),_=new g("sanityCheck"),L=[function B(){for(var te=0,j=["from","to","call_id","cseq","via"];te<j.length;te++){var oe=j[te];if(!C.hasHeader(oe))return _.debug("missing mandatory header field : ".concat(oe,", dropping the response")),!1}}],T=[function Q(){if("sip"!==C.s("to").uri.scheme)return V(416),!1},function X(){if(!C.to_tag&&C.call_id.substr(0,5)===p.configuration.jssip_id)return V(482),!1},function W(){if(a.str_utf8_length(C.body)<C.getHeader("content-length"))return V(400),!1},function O(){var oe,G=C.from_tag,te=C.call_id,j=C.cseq;if(!C.to_tag)if(C.method===ye.INVITE){if(p._transactions.ist[C.via_branch])return!1;for(var ve in p._transactions.ist)if(Object.prototype.hasOwnProperty.call(p._transactions.ist,ve)&&(oe=p._transactions.ist[ve]).request.from_tag===G&&oe.request.call_id===te&&oe.request.cseq===j)return V(482),!1}else{if(p._transactions.nist[C.via_branch])return!1;for(var fe in p._transactions.nist)if(Object.prototype.hasOwnProperty.call(p._transactions.nist,fe)&&(oe=p._transactions.nist[fe]).request.from_tag===G&&oe.request.call_id===te&&oe.request.cseq===j)return V(482),!1}}],E=[function P(){if(C.getHeaders("via").length>1)return _.debug("more than one Via header field present in the response, dropping the response"),!1},function F(){if(a.str_utf8_length(C.body)<C.getHeader("content-length"))return _.debug("message body length is lower than the value in Content-Length header field, dropping the response"),!1}];function V(G){var j,fe,te=C.getHeaders("via"),oe="SIP/2.0 ".concat(G," ").concat(ye.REASON_PHRASE[G],"\r\n"),ve=re(te);try{for(ve.s();!(fe=ve.n()).done;)oe+="Via: ".concat(fe.value,"\r\n")}catch(de){ve.e(de)}finally{ve.f()}j=C.getHeader("To"),C.to_tag||(j+=";tag=".concat(a.newTag())),oe+="To: ".concat(j,"\r\n"),oe+="From: ".concat(C.getHeader("From"),"\r\n"),oe+="Call-ID: ".concat(C.call_id,"\r\n"),oe+="CSeq: ".concat(C.cseq," ").concat(C.method,"\r\n"),I.send(oe+="\r\n")}Ne.exports=function(G,te,j){C=G,p=te,I=j;var ve,oe=re(L);try{for(oe.s();!(ve=oe.n()).done;)if(!1===(0,ve.value)())return!1}catch(le){oe.e(le)}finally{oe.f()}if(C instanceof ue.IncomingRequest){var de,z=re(T);try{for(z.s();!(de=z.n()).done;)if(!1===(0,de.value)())return!1}catch(le){z.e(le)}finally{z.f()}}else if(C instanceof ue.IncomingResponse){var q,S=re(E);try{for(S.s();!(q=S.n()).done;)if(!1===(0,q.value)())return!1}catch(le){S.e(le)}finally{S.f()}}return!0}},253:Ne=>{var Ce=1e3,$=6e4,re=60*$,we=24*re;function _(L,T,E,C){var p=T>=1.5*E;return Math.round(L/E)+" "+C+(p?"s":"")}Ne.exports=function(L,T){T=T||{};var E=typeof L;if("string"===E&&L.length>0)return function ye(L){if(!((L=String(L)).length>100)){var T=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(L);if(T){var E=parseFloat(T[1]);switch((T[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*E;case"weeks":case"week":case"w":return 6048e5*E;case"days":case"day":case"d":return E*we;case"hours":case"hour":case"hrs":case"hr":case"h":return E*re;case"minutes":case"minute":case"mins":case"min":case"m":return E*$;case"seconds":case"second":case"secs":case"sec":case"s":return E*Ce;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return E;default:return}}}}(L);if("number"===E&&isFinite(L))return T.long?function a(L){var T=Math.abs(L);return T>=we?_(L,T,we,"day"):T>=re?_(L,T,re,"hour"):T>=$?_(L,T,$,"minute"):T>=Ce?_(L,T,Ce,"second"):L+" ms"}(L):function ue(L){var T=Math.abs(L);return T>=we?Math.round(L/we)+"d":T>=re?Math.round(L/re)+"h":T>=$?Math.round(L/$)+"m":T>=Ce?Math.round(L/Ce)+"s":L+"ms"}(L);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(L))}},361:Ne=>{var Ce=Ne.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function($){return $.encoding?"rtpmap:%d %s/%s/%s":$.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function($){return null!=$.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function($){return null!=$.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function($){return"extmap:%d"+($.direction?"/%s":"%v")+($["encrypt-uri"]?" %s":"%v")+" %s"+($.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function($){return null!=$.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function($){var re="candidate:%s %d %s %d %s %d typ %s";return re+=null!=$.raddr?" raddr %s rport %d":"%v%v",re+=null!=$.tcptype?" tcptype %s":"%v",null!=$.generation&&(re+=" generation %d"),(re+=null!=$["network-id"]?" network-id %d":"%v")+(null!=$["network-cost"]?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function($){var re="ssrc:%d";return null!=$.attribute&&(re+=" %s",null!=$.value&&(re+=":%s")),re}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function($){return null!=$.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function($){return $.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function($){return"imageattr:%s %s %s"+($.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function($){return"simulcast:%s %s"+($.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function($){return"ts-refclk:%s"+(null!=$.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function($){var re="mediaclk:";return re+=null!=$.id?"id=%s %s":"%v%s",re+=null!=$.mediaClockValue?"=%s":"",(re+=null!=$.rateNumerator?" rate=%s":"")+(null!=$.rateDenominator?"/%s":"")}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(Ce).forEach(function($){Ce[$].forEach(function(we){we.reg||(we.reg=/(.*)/),we.format||(we.format="%s")})})},170:(Ne,Ce,$)=>{var re=$(791),we=$(457);Ce.write=we,Ce.parse=re.parse,Ce.parseParams=re.parseParams,Ce.parseFmtpConfig=re.parseFmtpConfig,Ce.parsePayloads=re.parsePayloads,Ce.parseRemoteCandidates=re.parseRemoteCandidates,Ce.parseImageAttributes=re.parseImageAttributes,Ce.parseSimulcastStreamList=re.parseSimulcastStreamList},791:(Ne,Ce,$)=>{var re=function(a){return String(Number(a))===a?Number(a):a},Oe=function(a,_,L){var T=a.name&&a.names;a.push&&!_[a.push]?_[a.push]=[]:T&&!_[a.name]&&(_[a.name]={});var E=a.push?{}:T?_[a.name]:_;(function(a,_,L,T){if(T&&!L)_[T]=re(a[1]);else for(var E=0;E<L.length;E+=1)null!=a[E+1]&&(_[L[E]]=re(a[E+1]))})(L.match(a.reg),E,a.names,a.name),a.push&&_[a.push].push(E)},g=$(361),ye=RegExp.prototype.test.bind(/^([a-z])=(.*)/);Ce.parse=function(a){var _={},L=[],T=_;return a.split(/(\r\n|\r|\n)/).filter(ye).forEach(function(E){var C=E[0],p=E.slice(2);"m"===C&&(L.push({rtp:[],fmtp:[]}),T=L[L.length-1]);for(var I=0;I<(g[C]||[]).length;I+=1){var Q=g[C][I];if(Q.reg.test(p))return Oe(Q,T,p)}}),_.media=L,_};var ue=function(a,_){var L=_.split(/=(.+)/,2);return 2===L.length?a[L[0]]=re(L[1]):1===L.length&&_.length>1&&(a[L[0]]=void 0),a};Ce.parseParams=function(a){return a.split(/;\s?/).reduce(ue,{})},Ce.parseFmtpConfig=Ce.parseParams,Ce.parsePayloads=function(a){return a.toString().split(" ").map(Number)},Ce.parseRemoteCandidates=function(a){for(var _=[],L=a.split(" ").map(re),T=0;T<L.length;T+=3)_.push({component:L[T],ip:L[T+1],port:L[T+2]});return _},Ce.parseImageAttributes=function(a){return a.split(" ").map(function(_){return _.substring(1,_.length-1).split(",").reduce(ue,{})})},Ce.parseSimulcastStreamList=function(a){return a.split(";").map(function(_){return _.split(",").map(function(L){var T,E=!1;return"~"!==L[0]?T=re(L):(T=re(L.substring(1,L.length)),E=!0),{scid:T,paused:E}})})}},457:(Ne,Ce,$)=>{var re=$(361),we=/%[sdv%]/g,Oe=function(a){var _=1,L=arguments,T=L.length;return a.replace(we,function(E){if(_>=T)return E;var C=L[_];switch(_+=1,E){case"%%":return"%";case"%s":return String(C);case"%d":return Number(C);case"%v":return""}})},g=function(a,_,L){var E=[a+"="+(_.format instanceof Function?_.format(_.push?L:L[_.name]):_.format)];if(_.names)for(var C=0;C<_.names.length;C+=1)E.push(_.name?L[_.name][_.names[C]]:L[_.names[C]]);else E.push(L[_.name]);return Oe.apply(null,E)},ye=["v","o","s","i","u","e","p","c","b","t","r","z","a"],ue=["i","c","b","a"];Ne.exports=function(a,_){_=_||{},null==a.version&&(a.version=0),null==a.name&&(a.name=" "),a.media.forEach(function(C){null==C.payloads&&(C.payloads="")});var T=_.innerOrder||ue,E=[];return(_.outerOrder||ye).forEach(function(C){re[C].forEach(function(p){p.name in a&&null!=a[p.name]?E.push(g(C,p,a)):p.push in a&&null!=a[p.push]&&a[p.push].forEach(function(I){E.push(g(C,p,I))})})}),a.media.forEach(function(C){E.push(g("m",re.m[0],C)),T.forEach(function(p){re[p].forEach(function(I){I.name in C&&null!=C[I.name]?E.push(g(p,I,C)):I.push in C&&null!=C[I.push]&&C[I.push].forEach(function(Q){E.push(g(p,I,Q))})})})}),E.join("\r\n")+"\r\n"}},403:Ne=>{"use strict";Ne.exports=JSON.parse('{"name":"jssip","title":"JsSIP","description":"the Javascript SIP library","version":"3.10.1","homepage":"https://jssip.net","contributors":["Jos\xe9 Luis Mill\xe1n <jmillan@aliax.net> (https://github.com/jmillan)","I\xf1aki Baz Castillo <ibc@aliax.net> (https://inakibaz.me)"],"types":"lib/JsSIP.d.ts","main":"lib-es5/JsSIP.js","keywords":["sip","websocket","webrtc","node","browser","library"],"license":"MIT","repository":{"type":"git","url":"https://github.com/versatica/JsSIP.git"},"bugs":{"url":"https://github.com/versatica/JsSIP/issues"},"dependencies":{"@types/events":"^3.0.0","@types/debug":"^4.1.7","debug":"^4.3.1","events":"^3.3.0","sdp-transform":"^2.14.1"},"devDependencies":{"@babel/core":"^7.19.6","@babel/preset-env":"^7.19.4","ansi-colors":"^3.2.4","browserify":"^16.5.1","eslint":"^5.16.0","fancy-log":"^1.3.3","gulp":"^4.0.2","gulp-babel":"^8.0.0","gulp-eslint":"^5.0.0","gulp-expect-file":"^1.0.2","gulp-header":"^2.0.9","gulp-nodeunit-runner":"^0.2.2","gulp-plumber":"^1.2.1","gulp-rename":"^1.4.0","gulp-uglify-es":"^1.0.4","pegjs":"^0.7.0","vinyl-buffer":"^1.0.1","vinyl-source-stream":"^2.0.0"},"scripts":{"lint":"node npm-scripts.js lint","test":"node npm-scripts.js test","prepublish":"node npm-scripts.js prepublish","release":"node npm-scripts.js release"}}')}},Ne=>{Ne(Ne.s=157)}]);